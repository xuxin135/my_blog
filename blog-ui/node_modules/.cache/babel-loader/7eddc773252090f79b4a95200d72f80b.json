{"ast":null,"code":"import { defineComponent, ref, computed, watch, onMounted, nextTick, onBeforeUnmount, resolveComponent, openBlock, createBlock, renderSlot, createVNode, toDisplayString, mergeProps, Teleport, Fragment, createCommentVNode } from 'vue';\nimport throttle from 'lodash/throttle';\nimport { useLocaleInject, useAttrs } from '../hooks';\nimport isServer from '../utils/isServer';\nimport { getScrollContainer, on, off, isInContainer } from '../utils/dom';\nimport ImageViewer from '../el-image-viewer';\n/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\n\nconst EMPTY_OBJ = process.env.NODE_ENV !== 'production' ? Object.freeze({}) : {};\nconst EMPTY_ARR = process.env.NODE_ENV !== 'production' ? Object.freeze([]) : [];\n\nconst isString = val => typeof val === 'string';\n\nconst isSupportObjectFit = () => document.documentElement.style.objectFit !== void 0;\n\nconst isHtmlEle = e => e && e.nodeType === 1;\n\nconst ObjectFit = {\n  NONE: \"none\",\n  CONTAIN: \"contain\",\n  COVER: \"cover\",\n  FILL: \"fill\",\n  SCALE_DOWN: \"scale-down\"\n};\nlet prevOverflow = \"\";\nvar script = defineComponent({\n  name: \"ElImage\",\n  components: {\n    ImageViewer\n  },\n  inheritAttrs: false,\n  props: {\n    appendToBody: {\n      type: Boolean,\n      default: false\n    },\n    hideOnClickModal: {\n      type: Boolean,\n      default: false\n    },\n    src: {\n      type: String,\n      default: \"\"\n    },\n    fit: {\n      type: String,\n      default: \"\"\n    },\n    lazy: {\n      type: Boolean,\n      default: false\n    },\n    scrollContainer: {\n      type: [String, Object],\n      default: null\n    },\n    previewSrcList: {\n      type: Array,\n      default: () => []\n    },\n    zIndex: {\n      type: Number,\n      default: 2e3\n    }\n  },\n  emits: [\"error\"],\n\n  setup(props, {\n    emit\n  }) {\n    const {\n      t\n    } = useLocaleInject();\n    const attrs = useAttrs();\n    const hasLoadError = ref(false);\n    const loading = ref(true);\n    const imgWidth = ref(0);\n    const imgHeight = ref(0);\n    const showViewer = ref(false);\n    const container = ref(null);\n    let _scrollContainer = null;\n    let _lazyLoadHandler = null;\n    const imageStyle = computed(() => {\n      const {\n        fit\n      } = props;\n\n      if (!isServer && fit) {\n        return isSupportObjectFit() ? {\n          \"object-fit\": fit\n        } : getImageStyle(fit);\n      }\n\n      return {};\n    });\n    const alignCenter = computed(() => {\n      const {\n        fit\n      } = props;\n      return !isServer && !isSupportObjectFit() && fit !== ObjectFit.FILL;\n    });\n    const preview = computed(() => {\n      const {\n        previewSrcList\n      } = props;\n      return Array.isArray(previewSrcList) && previewSrcList.length > 0;\n    });\n    const imageIndex = computed(() => {\n      const {\n        src,\n        previewSrcList\n      } = props;\n      let previewIndex = 0;\n      const srcIndex = previewSrcList.indexOf(src);\n\n      if (srcIndex >= 0) {\n        previewIndex = srcIndex;\n      }\n\n      return previewIndex;\n    });\n\n    function getImageStyle(fit) {\n      const imageWidth = imgWidth.value;\n      const imageHeight = imgHeight.value;\n      if (!container.value) return {};\n      const {\n        clientWidth: containerWidth,\n        clientHeight: containerHeight\n      } = container.value;\n      if (!imageWidth || !imageHeight || !containerWidth || !containerHeight) return {};\n      const imageAspectRatio = imageWidth / imageHeight;\n      const containerAspectRatio = containerWidth / containerHeight;\n\n      if (fit === ObjectFit.SCALE_DOWN) {\n        const isSmaller = imageWidth < containerWidth && imageHeight < containerHeight;\n        fit = isSmaller ? ObjectFit.NONE : ObjectFit.CONTAIN;\n      }\n\n      switch (fit) {\n        case ObjectFit.NONE:\n          return {\n            width: \"auto\",\n            height: \"auto\"\n          };\n\n        case ObjectFit.CONTAIN:\n          return imageAspectRatio < containerAspectRatio ? {\n            width: \"auto\"\n          } : {\n            height: \"auto\"\n          };\n\n        case ObjectFit.COVER:\n          return imageAspectRatio < containerAspectRatio ? {\n            height: \"auto\"\n          } : {\n            width: \"auto\"\n          };\n\n        default:\n          return {};\n      }\n    }\n\n    const loadImage = () => {\n      if (isServer) return;\n      const attributes = attrs.value;\n      loading.value = true;\n      hasLoadError.value = false;\n      const img = new Image();\n\n      img.onload = e => handleLoad(e, img);\n\n      img.onerror = handleError;\n      Object.keys(attributes).forEach(key => {\n        if (key.toLowerCase() === \"onload\") return;\n        const value = attributes[key];\n        img.setAttribute(key, value);\n      });\n      img.src = props.src;\n    };\n\n    function handleLoad(e, img) {\n      imgWidth.value = img.width;\n      imgHeight.value = img.height;\n      loading.value = false;\n      hasLoadError.value = false;\n    }\n\n    function handleError(e) {\n      loading.value = false;\n      hasLoadError.value = true;\n      emit(\"error\", e);\n    }\n\n    function handleLazyLoad() {\n      if (isInContainer(container.value, _scrollContainer)) {\n        loadImage();\n        removeLazyLoadListener();\n      }\n    }\n\n    function addLazyLoadListener() {\n      if (isServer) return;\n      const {\n        scrollContainer\n      } = props;\n\n      if (isHtmlEle(scrollContainer)) {\n        _scrollContainer = scrollContainer;\n      } else if (isString(scrollContainer) && scrollContainer !== \"\") {\n        _scrollContainer = document.querySelector(scrollContainer);\n      } else {\n        _scrollContainer = getScrollContainer(container.value);\n      }\n\n      if (_scrollContainer) {\n        _lazyLoadHandler = throttle(handleLazyLoad, 200);\n        on(_scrollContainer, \"scroll\", _lazyLoadHandler);\n        setTimeout(() => handleLazyLoad(), 100);\n      }\n    }\n\n    function removeLazyLoadListener() {\n      if (isServer || !_scrollContainer || !_lazyLoadHandler) return;\n      off(_scrollContainer, \"scroll\", _lazyLoadHandler);\n      _scrollContainer = null;\n      _lazyLoadHandler = null;\n    }\n\n    function clickHandler() {\n      if (!preview.value) {\n        return;\n      }\n\n      prevOverflow = document.body.style.overflow;\n      document.body.style.overflow = \"hidden\";\n      showViewer.value = true;\n    }\n\n    function closeViewer() {\n      document.body.style.overflow = prevOverflow;\n      showViewer.value = false;\n    }\n\n    watch(() => props.src, () => {\n      loadImage();\n    });\n    onMounted(() => {\n      if (props.lazy) {\n        nextTick(addLazyLoadListener);\n      } else {\n        loadImage();\n      }\n    });\n    onBeforeUnmount(() => {\n      props.lazy && removeLazyLoadListener();\n    });\n    return {\n      attrs,\n      loading,\n      hasLoadError,\n      showViewer,\n      imgWidth,\n      imgHeight,\n      imageStyle,\n      alignCenter,\n      preview,\n      imageIndex,\n      clickHandler,\n      closeViewer,\n      container,\n      handleError,\n      t\n    };\n  }\n\n});\n\nconst _hoisted_1 = /* @__PURE__ */createVNode(\"div\", {\n  class: \"el-image__placeholder\"\n}, null, -1);\n\nconst _hoisted_2 = {\n  class: \"el-image__error\"\n};\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_image_viewer = resolveComponent(\"image-viewer\");\n\n  return openBlock(), createBlock(\"div\", {\n    ref: \"container\",\n    class: [\"el-image\", _ctx.$attrs.class],\n    style: _ctx.$attrs.style\n  }, [_ctx.loading ? renderSlot(_ctx.$slots, \"placeholder\", {\n    key: 0\n  }, () => [_hoisted_1]) : _ctx.hasLoadError ? renderSlot(_ctx.$slots, \"error\", {\n    key: 1\n  }, () => [createVNode(\"div\", _hoisted_2, toDisplayString(_ctx.t(\"el.image.error\")), 1)]) : (openBlock(), createBlock(\"img\", mergeProps({\n    key: 2,\n    class: \"el-image__inner\"\n  }, _ctx.attrs, {\n    src: _ctx.src,\n    style: _ctx.imageStyle,\n    class: {\n      \"el-image__inner--center\": _ctx.alignCenter,\n      \"el-image__preview\": _ctx.preview\n    },\n    onClick: _cache[1] || (_cache[1] = (...args) => _ctx.clickHandler && _ctx.clickHandler(...args))\n  }), null, 16, [\"src\"])), (openBlock(), createBlock(Teleport, {\n    to: \"body\",\n    disabled: !_ctx.appendToBody\n  }, [_ctx.preview ? (openBlock(), createBlock(Fragment, {\n    key: 0\n  }, [_ctx.showViewer ? (openBlock(), createBlock(_component_image_viewer, {\n    key: 0,\n    \"z-index\": _ctx.zIndex,\n    \"initial-index\": _ctx.imageIndex,\n    \"url-list\": _ctx.previewSrcList,\n    \"hide-on-click-modal\": _ctx.hideOnClickModal,\n    onClose: _ctx.closeViewer\n  }, null, 8, [\"z-index\", \"initial-index\", \"url-list\", \"hide-on-click-modal\", \"onClose\"])) : createCommentVNode(\"v-if\", true)], 2112)) : createCommentVNode(\"v-if\", true)], 8, [\"disabled\"]))], 6);\n}\n\nscript.render = render;\nscript.__file = \"packages/image/src/index.vue\";\n\nscript.install = app => {\n  app.component(script.name, script);\n};\n\nconst _Image = script;\nexport default _Image;","map":{"version":3,"names":["defineComponent","ref","computed","watch","onMounted","nextTick","onBeforeUnmount","resolveComponent","openBlock","createBlock","renderSlot","createVNode","toDisplayString","mergeProps","Teleport","Fragment","createCommentVNode","throttle","useLocaleInject","useAttrs","isServer","getScrollContainer","on","off","isInContainer","ImageViewer","EMPTY_OBJ","process","env","NODE_ENV","Object","freeze","EMPTY_ARR","isString","val","isSupportObjectFit","document","documentElement","style","objectFit","isHtmlEle","e","nodeType","ObjectFit","NONE","CONTAIN","COVER","FILL","SCALE_DOWN","prevOverflow","script","name","components","inheritAttrs","props","appendToBody","type","Boolean","default","hideOnClickModal","src","String","fit","lazy","scrollContainer","previewSrcList","Array","zIndex","Number","emits","setup","emit","t","attrs","hasLoadError","loading","imgWidth","imgHeight","showViewer","container","_scrollContainer","_lazyLoadHandler","imageStyle","getImageStyle","alignCenter","preview","isArray","length","imageIndex","previewIndex","srcIndex","indexOf","imageWidth","value","imageHeight","clientWidth","containerWidth","clientHeight","containerHeight","imageAspectRatio","containerAspectRatio","isSmaller","width","height","loadImage","attributes","img","Image","onload","handleLoad","onerror","handleError","keys","forEach","key","toLowerCase","setAttribute","handleLazyLoad","removeLazyLoadListener","addLazyLoadListener","querySelector","setTimeout","clickHandler","body","overflow","closeViewer","_hoisted_1","class","_hoisted_2","render","_ctx","_cache","$props","$setup","$data","$options","_component_image_viewer","$attrs","$slots","onClick","args","to","disabled","onClose","__file","install","app","component","_Image"],"sources":["D:/project/my_blog/blog-ui/node_modules/element-plus/es/el-image/index.js"],"sourcesContent":["import { defineComponent, ref, computed, watch, onMounted, nextTick, onBeforeUnmount, resolveComponent, openBlock, createBlock, renderSlot, createVNode, toDisplayString, mergeProps, Teleport, Fragment, createCommentVNode } from 'vue';\nimport throttle from 'lodash/throttle';\nimport { useLocaleInject, useAttrs } from '../hooks';\nimport isServer from '../utils/isServer';\nimport { getScrollContainer, on, off, isInContainer } from '../utils/dom';\nimport ImageViewer from '../el-image-viewer';\n\n/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\r\nconst EMPTY_OBJ = (process.env.NODE_ENV !== 'production')\r\n    ? Object.freeze({})\r\n    : {};\r\nconst EMPTY_ARR = (process.env.NODE_ENV !== 'production') ? Object.freeze([]) : [];\r\nconst isString = (val) => typeof val === 'string';\n\nconst isSupportObjectFit = () => document.documentElement.style.objectFit !== void 0;\nconst isHtmlEle = (e) => e && e.nodeType === 1;\nconst ObjectFit = {\n  NONE: \"none\",\n  CONTAIN: \"contain\",\n  COVER: \"cover\",\n  FILL: \"fill\",\n  SCALE_DOWN: \"scale-down\"\n};\nlet prevOverflow = \"\";\nvar script = defineComponent({\n  name: \"ElImage\",\n  components: {\n    ImageViewer\n  },\n  inheritAttrs: false,\n  props: {\n    appendToBody: {\n      type: Boolean,\n      default: false\n    },\n    hideOnClickModal: {\n      type: Boolean,\n      default: false\n    },\n    src: {\n      type: String,\n      default: \"\"\n    },\n    fit: {\n      type: String,\n      default: \"\"\n    },\n    lazy: {\n      type: Boolean,\n      default: false\n    },\n    scrollContainer: {\n      type: [String, Object],\n      default: null\n    },\n    previewSrcList: {\n      type: Array,\n      default: () => []\n    },\n    zIndex: {\n      type: Number,\n      default: 2e3\n    }\n  },\n  emits: [\"error\"],\n  setup(props, { emit }) {\n    const { t } = useLocaleInject();\n    const attrs = useAttrs();\n    const hasLoadError = ref(false);\n    const loading = ref(true);\n    const imgWidth = ref(0);\n    const imgHeight = ref(0);\n    const showViewer = ref(false);\n    const container = ref(null);\n    let _scrollContainer = null;\n    let _lazyLoadHandler = null;\n    const imageStyle = computed(() => {\n      const { fit } = props;\n      if (!isServer && fit) {\n        return isSupportObjectFit() ? { \"object-fit\": fit } : getImageStyle(fit);\n      }\n      return {};\n    });\n    const alignCenter = computed(() => {\n      const { fit } = props;\n      return !isServer && !isSupportObjectFit() && fit !== ObjectFit.FILL;\n    });\n    const preview = computed(() => {\n      const { previewSrcList } = props;\n      return Array.isArray(previewSrcList) && previewSrcList.length > 0;\n    });\n    const imageIndex = computed(() => {\n      const { src, previewSrcList } = props;\n      let previewIndex = 0;\n      const srcIndex = previewSrcList.indexOf(src);\n      if (srcIndex >= 0) {\n        previewIndex = srcIndex;\n      }\n      return previewIndex;\n    });\n    function getImageStyle(fit) {\n      const imageWidth = imgWidth.value;\n      const imageHeight = imgHeight.value;\n      if (!container.value)\n        return {};\n      const {\n        clientWidth: containerWidth,\n        clientHeight: containerHeight\n      } = container.value;\n      if (!imageWidth || !imageHeight || !containerWidth || !containerHeight)\n        return {};\n      const imageAspectRatio = imageWidth / imageHeight;\n      const containerAspectRatio = containerWidth / containerHeight;\n      if (fit === ObjectFit.SCALE_DOWN) {\n        const isSmaller = imageWidth < containerWidth && imageHeight < containerHeight;\n        fit = isSmaller ? ObjectFit.NONE : ObjectFit.CONTAIN;\n      }\n      switch (fit) {\n        case ObjectFit.NONE:\n          return { width: \"auto\", height: \"auto\" };\n        case ObjectFit.CONTAIN:\n          return imageAspectRatio < containerAspectRatio ? { width: \"auto\" } : { height: \"auto\" };\n        case ObjectFit.COVER:\n          return imageAspectRatio < containerAspectRatio ? { height: \"auto\" } : { width: \"auto\" };\n        default:\n          return {};\n      }\n    }\n    const loadImage = () => {\n      if (isServer)\n        return;\n      const attributes = attrs.value;\n      loading.value = true;\n      hasLoadError.value = false;\n      const img = new Image();\n      img.onload = (e) => handleLoad(e, img);\n      img.onerror = handleError;\n      Object.keys(attributes).forEach((key) => {\n        if (key.toLowerCase() === \"onload\")\n          return;\n        const value = attributes[key];\n        img.setAttribute(key, value);\n      });\n      img.src = props.src;\n    };\n    function handleLoad(e, img) {\n      imgWidth.value = img.width;\n      imgHeight.value = img.height;\n      loading.value = false;\n      hasLoadError.value = false;\n    }\n    function handleError(e) {\n      loading.value = false;\n      hasLoadError.value = true;\n      emit(\"error\", e);\n    }\n    function handleLazyLoad() {\n      if (isInContainer(container.value, _scrollContainer)) {\n        loadImage();\n        removeLazyLoadListener();\n      }\n    }\n    function addLazyLoadListener() {\n      if (isServer)\n        return;\n      const { scrollContainer } = props;\n      if (isHtmlEle(scrollContainer)) {\n        _scrollContainer = scrollContainer;\n      } else if (isString(scrollContainer) && scrollContainer !== \"\") {\n        _scrollContainer = document.querySelector(scrollContainer);\n      } else {\n        _scrollContainer = getScrollContainer(container.value);\n      }\n      if (_scrollContainer) {\n        _lazyLoadHandler = throttle(handleLazyLoad, 200);\n        on(_scrollContainer, \"scroll\", _lazyLoadHandler);\n        setTimeout(() => handleLazyLoad(), 100);\n      }\n    }\n    function removeLazyLoadListener() {\n      if (isServer || !_scrollContainer || !_lazyLoadHandler)\n        return;\n      off(_scrollContainer, \"scroll\", _lazyLoadHandler);\n      _scrollContainer = null;\n      _lazyLoadHandler = null;\n    }\n    function clickHandler() {\n      if (!preview.value) {\n        return;\n      }\n      prevOverflow = document.body.style.overflow;\n      document.body.style.overflow = \"hidden\";\n      showViewer.value = true;\n    }\n    function closeViewer() {\n      document.body.style.overflow = prevOverflow;\n      showViewer.value = false;\n    }\n    watch(() => props.src, () => {\n      loadImage();\n    });\n    onMounted(() => {\n      if (props.lazy) {\n        nextTick(addLazyLoadListener);\n      } else {\n        loadImage();\n      }\n    });\n    onBeforeUnmount(() => {\n      props.lazy && removeLazyLoadListener();\n    });\n    return {\n      attrs,\n      loading,\n      hasLoadError,\n      showViewer,\n      imgWidth,\n      imgHeight,\n      imageStyle,\n      alignCenter,\n      preview,\n      imageIndex,\n      clickHandler,\n      closeViewer,\n      container,\n      handleError,\n      t\n    };\n  }\n});\n\nconst _hoisted_1 = /* @__PURE__ */ createVNode(\"div\", { class: \"el-image__placeholder\" }, null, -1);\nconst _hoisted_2 = { class: \"el-image__error\" };\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_image_viewer = resolveComponent(\"image-viewer\");\n  return openBlock(), createBlock(\"div\", {\n    ref: \"container\",\n    class: [\"el-image\", _ctx.$attrs.class],\n    style: _ctx.$attrs.style\n  }, [\n    _ctx.loading ? renderSlot(_ctx.$slots, \"placeholder\", { key: 0 }, () => [\n      _hoisted_1\n    ]) : _ctx.hasLoadError ? renderSlot(_ctx.$slots, \"error\", { key: 1 }, () => [\n      createVNode(\"div\", _hoisted_2, toDisplayString(_ctx.t(\"el.image.error\")), 1)\n    ]) : (openBlock(), createBlock(\"img\", mergeProps({\n      key: 2,\n      class: \"el-image__inner\"\n    }, _ctx.attrs, {\n      src: _ctx.src,\n      style: _ctx.imageStyle,\n      class: { \"el-image__inner--center\": _ctx.alignCenter, \"el-image__preview\": _ctx.preview },\n      onClick: _cache[1] || (_cache[1] = (...args) => _ctx.clickHandler && _ctx.clickHandler(...args))\n    }), null, 16, [\"src\"])),\n    (openBlock(), createBlock(Teleport, {\n      to: \"body\",\n      disabled: !_ctx.appendToBody\n    }, [\n      _ctx.preview ? (openBlock(), createBlock(Fragment, { key: 0 }, [\n        _ctx.showViewer ? (openBlock(), createBlock(_component_image_viewer, {\n          key: 0,\n          \"z-index\": _ctx.zIndex,\n          \"initial-index\": _ctx.imageIndex,\n          \"url-list\": _ctx.previewSrcList,\n          \"hide-on-click-modal\": _ctx.hideOnClickModal,\n          onClose: _ctx.closeViewer\n        }, null, 8, [\"z-index\", \"initial-index\", \"url-list\", \"hide-on-click-modal\", \"onClose\"])) : createCommentVNode(\"v-if\", true)\n      ], 2112)) : createCommentVNode(\"v-if\", true)\n    ], 8, [\"disabled\"]))\n  ], 6);\n}\n\nscript.render = render;\nscript.__file = \"packages/image/src/index.vue\";\n\nscript.install = (app) => {\n  app.component(script.name, script);\n};\nconst _Image = script;\n\nexport default _Image;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}