{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport { getCurrentInstance, ref, unref, computed, watch, nextTick, isRef, defineComponent, resolveComponent, resolveDirective, openBlock, createBlock, withCtx, createVNode, Fragment, renderList, createTextVNode, toDisplayString, withDirectives, onBeforeMount, onMounted, onUpdated, onUnmounted, h, watchEffect, renderSlot, createCommentVNode, vShow } from 'vue';\nimport { getValueByPath, arrayFind, arrayFindIndex, useGlobalConfig } from '../utils/util';\nimport { off, on, addClass, hasClass, removeClass, getStyle } from '../utils/dom';\nimport { createPopper } from '@popperjs/core';\nimport PopupManager from '../utils/popup-manager';\nimport debounce from 'lodash/debounce';\nimport { useLocaleInject } from '../hooks';\nimport { ClickOutside, Mousewheel } from '../directives';\nimport scrollbarWidth from '../utils/scrollbar-width';\nimport isServer from '../utils/isServer';\nimport ElCheckbox from '../el-checkbox';\nimport ElPopper from '../el-popper';\nimport ElCheckboxGroup from '../el-checkbox-group';\nimport ElScrollbar from '../el-scrollbar';\nimport { addResizeListener, removeResizeListener } from '../utils/resize-event';\nimport throttle from 'lodash/throttle';\n/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\n\nconst EMPTY_OBJ = process.env.NODE_ENV !== 'production' ? Object.freeze({}) : {};\nconst EMPTY_ARR = process.env.NODE_ENV !== 'production' ? Object.freeze([]) : [];\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nconst getCell = function (event) {\n  let cell = event.target;\n\n  while (cell && cell.tagName.toUpperCase() !== \"HTML\") {\n    if (cell.tagName.toUpperCase() === \"TD\") {\n      return cell;\n    }\n\n    cell = cell.parentNode;\n  }\n\n  return null;\n};\n\nconst isObject = function (obj) {\n  return obj !== null && typeof obj === \"object\";\n};\n\nconst orderBy = function (array, sortKey, reverse, sortMethod, sortBy) {\n  if (!sortKey && !sortMethod && (!sortBy || Array.isArray(sortBy) && !sortBy.length)) {\n    return array;\n  }\n\n  if (typeof reverse === \"string\") {\n    reverse = reverse === \"descending\" ? -1 : 1;\n  } else {\n    reverse = reverse && reverse < 0 ? -1 : 1;\n  }\n\n  const getKey = sortMethod ? null : function (value, index) {\n    if (sortBy) {\n      if (!Array.isArray(sortBy)) {\n        sortBy = [sortBy];\n      }\n\n      return sortBy.map(function (by) {\n        if (typeof by === \"string\") {\n          return getValueByPath(value, by);\n        } else {\n          return by(value, index, array);\n        }\n      });\n    }\n\n    if (sortKey !== \"$key\") {\n      if (isObject(value) && \"$value\" in value) value = value.$value;\n    }\n\n    return [isObject(value) ? getValueByPath(value, sortKey) : value];\n  };\n\n  const compare = function (a, b) {\n    if (sortMethod) {\n      return sortMethod(a.value, b.value);\n    }\n\n    for (let i = 0, len = a.key.length; i < len; i++) {\n      if (a.key[i] < b.key[i]) {\n        return -1;\n      }\n\n      if (a.key[i] > b.key[i]) {\n        return 1;\n      }\n    }\n\n    return 0;\n  };\n\n  return array.map(function (value, index) {\n    return {\n      value,\n      index,\n      key: getKey ? getKey(value, index) : null\n    };\n  }).sort(function (a, b) {\n    let order = compare(a, b);\n\n    if (!order) {\n      order = a.index - b.index;\n    }\n\n    return order * +reverse;\n  }).map(item => item.value);\n};\n\nconst getColumnById = function (table, columnId) {\n  let column = null;\n  table.columns.forEach(function (item) {\n    if (item.id === columnId) {\n      column = item;\n    }\n  });\n  return column;\n};\n\nconst getColumnByKey = function (table, columnKey) {\n  let column = null;\n\n  for (let i = 0; i < table.columns.length; i++) {\n    const item = table.columns[i];\n\n    if (item.columnKey === columnKey) {\n      column = item;\n      break;\n    }\n  }\n\n  return column;\n};\n\nconst getColumnByCell = function (table, cell) {\n  const matches = (cell.className || \"\").match(/el-table_[^\\s]+/gm);\n\n  if (matches) {\n    return getColumnById(table, matches[0]);\n  }\n\n  return null;\n};\n\nconst getRowIdentity = (row, rowKey) => {\n  if (!row) throw new Error(\"row is required when get row identity\");\n\n  if (typeof rowKey === \"string\") {\n    if (rowKey.indexOf(\".\") < 0) {\n      return row[rowKey] + \"\";\n    }\n\n    const key = rowKey.split(\".\");\n    let current = row;\n\n    for (let i = 0; i < key.length; i++) {\n      current = current[key[i]];\n    }\n\n    return current + \"\";\n  } else if (typeof rowKey === \"function\") {\n    return rowKey.call(null, row);\n  }\n};\n\nconst getKeysMap = function (array, rowKey) {\n  const arrayMap = {};\n  (array || []).forEach((row, index) => {\n    arrayMap[getRowIdentity(row, rowKey)] = {\n      row,\n      index\n    };\n  });\n  return arrayMap;\n};\n\nfunction parseHeight(height) {\n  if (typeof height === \"number\") {\n    return height;\n  }\n\n  if (typeof height === \"string\") {\n    if (/^\\d+(?:px)?$/.test(height)) {\n      return parseInt(height, 10);\n    } else {\n      return height;\n    }\n  }\n\n  return null;\n}\n\nfunction toggleRowStatus(statusArr, row, newVal) {\n  let changed = false;\n  const index = statusArr.indexOf(row);\n  const included = index !== -1;\n\n  const addRow = () => {\n    statusArr.push(row);\n    changed = true;\n  };\n\n  const removeRow = () => {\n    statusArr.splice(index, 1);\n    changed = true;\n  };\n\n  if (typeof newVal === \"boolean\") {\n    if (newVal && !included) {\n      addRow();\n    } else if (!newVal && included) {\n      removeRow();\n    }\n  } else {\n    if (included) {\n      removeRow();\n    } else {\n      addRow();\n    }\n  }\n\n  return changed;\n}\n\nfunction walkTreeNode(root, cb, childrenKey = \"children\", lazyKey = \"hasChildren\") {\n  const isNil = array => !(Array.isArray(array) && array.length);\n\n  function _walker(parent, children, level) {\n    cb(parent, children, level);\n    children.forEach(item => {\n      if (item[lazyKey]) {\n        cb(item, null, level + 1);\n        return;\n      }\n\n      const children2 = item[childrenKey];\n\n      if (!isNil(children2)) {\n        _walker(item, children2, level + 1);\n      }\n    });\n  }\n\n  root.forEach(item => {\n    if (item[lazyKey]) {\n      cb(item, null, 0);\n      return;\n    }\n\n    const children = item[childrenKey];\n\n    if (!isNil(children)) {\n      _walker(item, children, 0);\n    }\n  });\n}\n\nlet removePopper;\n\nfunction createTablePopper(trigger, popperContent, popperOptions, tooltipEffect) {\n  function renderContent() {\n    const isLight = tooltipEffect === \"light\";\n    const content2 = document.createElement(\"div\");\n    content2.className = `el-popper ${isLight ? \"is-light\" : \"is-dark\"}`;\n    content2.innerHTML = popperContent;\n    content2.style.zIndex = String(PopupManager.nextZIndex());\n    document.body.appendChild(content2);\n    return content2;\n  }\n\n  function renderArrow() {\n    const arrow2 = document.createElement(\"div\");\n    arrow2.className = \"el-popper__arrow\";\n    arrow2.style.bottom = \"-4px\";\n    return arrow2;\n  }\n\n  function showPopper() {\n    popperInstance && popperInstance.update();\n  }\n\n  removePopper = function removePopper2() {\n    try {\n      popperInstance && popperInstance.destroy();\n      content && document.body.removeChild(content);\n      off(trigger, \"mouseenter\", showPopper);\n      off(trigger, \"mouseleave\", removePopper2);\n    } catch (e) {}\n  };\n\n  let popperInstance = null;\n  const content = renderContent();\n  const arrow = renderArrow();\n  content.appendChild(arrow);\n  popperInstance = createPopper(trigger, content, __spreadValues({\n    modifiers: [{\n      name: \"offset\",\n      options: {\n        offset: [0, 8]\n      }\n    }, {\n      name: \"arrow\",\n      options: {\n        element: arrow,\n        padding: 10\n      }\n    }]\n  }, popperOptions));\n  on(trigger, \"mouseenter\", showPopper);\n  on(trigger, \"mouseleave\", removePopper);\n  return popperInstance;\n}\n\nfunction useExpand(watcherData) {\n  const instance = getCurrentInstance();\n  const defaultExpandAll = ref(false);\n  const expandRows = ref([]);\n\n  const updateExpandRows = () => {\n    const data = watcherData.data.value || [];\n    const rowKey = watcherData.rowKey.value;\n\n    if (defaultExpandAll.value) {\n      expandRows.value = data.slice();\n    } else if (rowKey) {\n      const expandRowsMap = getKeysMap(expandRows.value, rowKey);\n      expandRows.value = data.reduce((prev, row) => {\n        const rowId = getRowIdentity(row, rowKey);\n        const rowInfo = expandRowsMap[rowId];\n\n        if (rowInfo) {\n          prev.push(row);\n        }\n\n        return prev;\n      }, []);\n    } else {\n      expandRows.value = [];\n    }\n  };\n\n  const toggleRowExpansion = (row, expanded) => {\n    const changed = toggleRowStatus(expandRows.value, row, expanded);\n\n    if (changed) {\n      instance.emit(\"expand-change\", row, expandRows.value.slice());\n      instance.store.scheduleLayout();\n    }\n  };\n\n  const setExpandRowKeys = rowKeys => {\n    instance.store.assertRowKey();\n    const data = watcherData.data.value || [];\n    const rowKey = watcherData.rowKey.value;\n    const keysMap = getKeysMap(data, rowKey);\n    expandRows.value = rowKeys.reduce((prev, cur) => {\n      const info = keysMap[cur];\n\n      if (info) {\n        prev.push(info.row);\n      }\n\n      return prev;\n    }, []);\n  };\n\n  const isRowExpanded = row => {\n    const rowKey = watcherData.rowKey.value;\n\n    if (rowKey) {\n      const expandMap = getKeysMap(expandRows.value, rowKey);\n      return !!expandMap[getRowIdentity(row, rowKey)];\n    }\n\n    return expandRows.value.indexOf(row) !== -1;\n  };\n\n  return {\n    updateExpandRows,\n    toggleRowExpansion,\n    setExpandRowKeys,\n    isRowExpanded,\n    states: {\n      expandRows,\n      defaultExpandAll\n    }\n  };\n}\n\nfunction useCurrent(watcherData) {\n  const instance = getCurrentInstance();\n\n  const _currentRowKey = ref(null);\n\n  const currentRow = ref(null);\n\n  const setCurrentRowKey = key => {\n    instance.store.assertRowKey();\n    _currentRowKey.value = key;\n    setCurrentRowByKey(key);\n  };\n\n  const restoreCurrentRowKey = () => {\n    _currentRowKey.value = null;\n  };\n\n  const setCurrentRowByKey = key => {\n    const {\n      data = [],\n      rowKey\n    } = watcherData;\n    let _currentRow = null;\n\n    if (rowKey.value) {\n      _currentRow = arrayFind(unref(data), item => getRowIdentity(item, rowKey.value) === key);\n    }\n\n    currentRow.value = _currentRow;\n  };\n\n  const updateCurrentRow = _currentRow => {\n    const oldCurrentRow = currentRow.value;\n\n    if (_currentRow && _currentRow !== oldCurrentRow) {\n      currentRow.value = _currentRow;\n      instance.emit(\"current-change\", currentRow.value, oldCurrentRow);\n      return;\n    }\n\n    if (!_currentRow && oldCurrentRow) {\n      currentRow.value = null;\n      instance.emit(\"current-change\", null, oldCurrentRow);\n    }\n  };\n\n  const updateCurrentRowData = () => {\n    const rowKey = watcherData.rowKey.value;\n    const data = watcherData.data.value || [];\n    const oldCurrentRow = currentRow.value;\n\n    if (data.indexOf(oldCurrentRow) === -1 && oldCurrentRow) {\n      if (rowKey) {\n        const currentRowKey = getRowIdentity(oldCurrentRow, rowKey);\n        setCurrentRowByKey(currentRowKey);\n      } else {\n        currentRow.value = null;\n      }\n\n      if (currentRow.value === null) {\n        instance.emit(\"current-change\", null, oldCurrentRow);\n      }\n    } else if (_currentRowKey.value) {\n      setCurrentRowByKey(_currentRowKey.value);\n      restoreCurrentRowKey();\n    }\n  };\n\n  return {\n    setCurrentRowKey,\n    restoreCurrentRowKey,\n    setCurrentRowByKey,\n    updateCurrentRow,\n    updateCurrentRowData,\n    states: {\n      _currentRowKey,\n      currentRow\n    }\n  };\n}\n\nvar __defProp$1 = Object.defineProperty;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp$1.call(b, prop)) __defNormalProp$1(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols$1) for (var prop of __getOwnPropSymbols$1(b)) {\n    if (__propIsEnum$1.call(b, prop)) __defNormalProp$1(a, prop, b[prop]);\n  }\n  return a;\n};\n\nfunction useTree(watcherData) {\n  const expandRowKeys = ref([]);\n  const treeData = ref({});\n  const indent = ref(16);\n  const lazy = ref(false);\n  const lazyTreeNodeMap = ref({});\n  const lazyColumnIdentifier = ref(\"hasChildren\");\n  const childrenColumnName = ref(\"children\");\n  const instance = getCurrentInstance();\n  const normalizedData = computed(() => {\n    if (!watcherData.rowKey.value) return {};\n    const data = watcherData.data.value || [];\n    return normalize(data);\n  });\n  const normalizedLazyNode = computed(() => {\n    const rowKey = watcherData.rowKey.value;\n    const keys = Object.keys(lazyTreeNodeMap.value);\n    const res = {};\n    if (!keys.length) return res;\n    keys.forEach(key => {\n      if (lazyTreeNodeMap.value[key].length) {\n        const item = {\n          children: []\n        };\n        lazyTreeNodeMap.value[key].forEach(row => {\n          const currentRowKey = getRowIdentity(row, rowKey);\n          item.children.push(currentRowKey);\n\n          if (row[lazyColumnIdentifier.value] && !res[currentRowKey]) {\n            res[currentRowKey] = {\n              children: []\n            };\n          }\n        });\n        res[key] = item;\n      }\n    });\n    return res;\n  });\n\n  const normalize = data => {\n    const rowKey = watcherData.rowKey.value;\n    const res = {};\n    walkTreeNode(data, (parent, children, level) => {\n      const parentId = getRowIdentity(parent, rowKey);\n\n      if (Array.isArray(children)) {\n        res[parentId] = {\n          children: children.map(row => getRowIdentity(row, rowKey)),\n          level\n        };\n      } else if (lazy.value) {\n        res[parentId] = {\n          children: [],\n          lazy: true,\n          level\n        };\n      }\n    }, childrenColumnName.value, lazyColumnIdentifier.value);\n    return res;\n  };\n\n  const updateTreeData = () => {\n    var _a, _b;\n\n    const nested = normalizedData.value;\n    const normalizedLazyNode_ = normalizedLazyNode.value;\n    const keys = Object.keys(nested);\n    const newTreeData = {};\n\n    if (keys.length) {\n      const oldTreeData = unref(treeData);\n      const defaultExpandAll = (_a = instance.store) == null ? void 0 : _a.states.defaultExpandAll.value;\n      const rootLazyRowKeys = [];\n\n      const getExpanded = (oldValue, key) => {\n        const included = defaultExpandAll || expandRowKeys.value && expandRowKeys.value.indexOf(key) !== -1;\n        return !!(oldValue && oldValue.expanded || included);\n      };\n\n      keys.forEach(key => {\n        const oldValue = oldTreeData[key];\n\n        const newValue = __spreadValues$1({}, nested[key]);\n\n        newValue.expanded = getExpanded(oldValue, key);\n\n        if (newValue.lazy) {\n          const {\n            loaded = false,\n            loading = false\n          } = oldValue || {};\n          newValue.loaded = !!loaded;\n          newValue.loading = !!loading;\n          rootLazyRowKeys.push(key);\n        }\n\n        newTreeData[key] = newValue;\n      });\n      const lazyKeys = Object.keys(normalizedLazyNode_);\n\n      if (lazy.value && lazyKeys.length && rootLazyRowKeys.length) {\n        lazyKeys.forEach(key => {\n          const oldValue = oldTreeData[key];\n          const lazyNodeChildren = normalizedLazyNode_[key].children;\n\n          if (rootLazyRowKeys.indexOf(key) !== -1) {\n            if (newTreeData[key].children.length !== 0) {\n              throw new Error(\"[ElTable]children must be an empty array.\");\n            }\n\n            newTreeData[key].children = lazyNodeChildren;\n          } else {\n            const {\n              loaded = false,\n              loading = false\n            } = oldValue || {};\n            newTreeData[key] = {\n              lazy: true,\n              loaded: !!loaded,\n              loading: !!loading,\n              expanded: getExpanded(oldValue, key),\n              children: lazyNodeChildren,\n              level: \"\"\n            };\n          }\n        });\n      }\n    }\n\n    treeData.value = newTreeData;\n    (_b = instance.store) == null ? void 0 : _b.updateTableScrollY();\n  };\n\n  watch(() => normalizedData.value, updateTreeData);\n  watch(() => normalizedLazyNode.value, updateTreeData);\n\n  const updateTreeExpandKeys = value => {\n    expandRowKeys.value = value;\n    updateTreeData();\n  };\n\n  const toggleTreeExpansion = (row, expanded) => {\n    instance.store.assertRowKey();\n    const rowKey = watcherData.rowKey.value;\n    const id = getRowIdentity(row, rowKey);\n    const data = id && treeData.value[id];\n\n    if (id && data && \"expanded\" in data) {\n      const oldExpanded = data.expanded;\n      expanded = typeof expanded === \"undefined\" ? !data.expanded : expanded;\n      treeData.value[id].expanded = expanded;\n\n      if (oldExpanded !== expanded) {\n        instance.emit(\"expand-change\", row, expanded);\n      }\n\n      instance.store.updateTableScrollY();\n    }\n  };\n\n  const loadOrToggle = row => {\n    instance.store.assertRowKey();\n    const rowKey = watcherData.rowKey.value;\n    const id = getRowIdentity(row, rowKey);\n    const data = treeData.value[id];\n\n    if (lazy.value && data && \"loaded\" in data && !data.loaded) {\n      loadData(row, id, data);\n    } else {\n      toggleTreeExpansion(row, void 0);\n    }\n  };\n\n  const loadData = (row, key, treeNode) => {\n    const {\n      load\n    } = instance.props;\n\n    if (load && !treeData.value[key].loaded) {\n      treeData.value[key].loading = true;\n      load(row, treeNode, data => {\n        if (!Array.isArray(data)) {\n          throw new Error(\"[ElTable] data must be an array\");\n        }\n\n        treeData.value[key].loading = false;\n        treeData.value[key].loaded = true;\n        treeData.value[key].expanded = true;\n\n        if (data.length) {\n          lazyTreeNodeMap.value[key] = data;\n        }\n\n        instance.emit(\"expand-change\", row, true);\n      });\n    }\n  };\n\n  return {\n    loadData,\n    loadOrToggle,\n    toggleTreeExpansion,\n    updateTreeExpandKeys,\n    updateTreeData,\n    normalize,\n    states: {\n      expandRowKeys,\n      treeData,\n      indent,\n      lazy,\n      lazyTreeNodeMap,\n      lazyColumnIdentifier,\n      childrenColumnName\n    }\n  };\n}\n\nvar __defProp$2 = Object.defineProperty;\nvar __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues$2 = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp$2.call(b, prop)) __defNormalProp$2(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols$2) for (var prop of __getOwnPropSymbols$2(b)) {\n    if (__propIsEnum$2.call(b, prop)) __defNormalProp$2(a, prop, b[prop]);\n  }\n  return a;\n};\n\nconst sortData = (data, states) => {\n  const sortingColumn = states.sortingColumn;\n\n  if (!sortingColumn || typeof sortingColumn.sortable === \"string\") {\n    return data;\n  }\n\n  return orderBy(data, states.sortProp, states.sortOrder, sortingColumn.sortMethod, sortingColumn.sortBy);\n};\n\nconst doFlattenColumns = columns => {\n  const result = [];\n  columns.forEach(column => {\n    if (column.children) {\n      result.push.apply(result, doFlattenColumns(column.children));\n    } else {\n      result.push(column);\n    }\n  });\n  return result;\n};\n\nfunction useWatcher() {\n  const instance = getCurrentInstance();\n  const rowKey = ref(null);\n  const data = ref([]);\n\n  const _data = ref([]);\n\n  const isComplex = ref(false);\n\n  const _columns = ref([]);\n\n  const originColumns = ref([]);\n  const columns = ref([]);\n  const fixedColumns = ref([]);\n  const rightFixedColumns = ref([]);\n  const leafColumns = ref([]);\n  const fixedLeafColumns = ref([]);\n  const rightFixedLeafColumns = ref([]);\n  const leafColumnsLength = ref(0);\n  const fixedLeafColumnsLength = ref(0);\n  const rightFixedLeafColumnsLength = ref(0);\n  const isAllSelected = ref(false);\n  const selection = ref([]);\n  const reserveSelection = ref(false);\n  const selectOnIndeterminate = ref(false);\n  const selectable = ref(null);\n  const filters = ref({});\n  const filteredData = ref(null);\n  const sortingColumn = ref(null);\n  const sortProp = ref(null);\n  const sortOrder = ref(null);\n  const hoverRow = ref(null);\n  watch(data, () => instance.state && scheduleLayout(false), {\n    deep: true\n  });\n\n  const assertRowKey = () => {\n    if (!rowKey.value) throw new Error(\"[ElTable] prop row-key is required\");\n  };\n\n  const updateColumns = () => {\n    fixedColumns.value = _columns.value.filter(column => column.fixed === true || column.fixed === \"left\");\n    rightFixedColumns.value = _columns.value.filter(column => column.fixed === \"right\");\n\n    if (fixedColumns.value.length > 0 && _columns.value[0] && _columns.value[0].type === \"selection\" && !_columns.value[0].fixed) {\n      _columns.value[0].fixed = true;\n      fixedColumns.value.unshift(_columns.value[0]);\n    }\n\n    const notFixedColumns = _columns.value.filter(column => !column.fixed);\n\n    originColumns.value = [].concat(fixedColumns.value).concat(notFixedColumns).concat(rightFixedColumns.value);\n    const leafColumns2 = doFlattenColumns(notFixedColumns);\n    const fixedLeafColumns2 = doFlattenColumns(fixedColumns.value);\n    const rightFixedLeafColumns2 = doFlattenColumns(rightFixedColumns.value);\n    leafColumnsLength.value = leafColumns2.length;\n    fixedLeafColumnsLength.value = fixedLeafColumns2.length;\n    rightFixedLeafColumnsLength.value = rightFixedLeafColumns2.length;\n    columns.value = [].concat(fixedLeafColumns2).concat(leafColumns2).concat(rightFixedLeafColumns2);\n    isComplex.value = fixedColumns.value.length > 0 || rightFixedColumns.value.length > 0;\n  };\n\n  const scheduleLayout = (needUpdateColumns, immediate = false) => {\n    if (needUpdateColumns) {\n      updateColumns();\n    }\n\n    if (immediate) {\n      instance.state.doLayout();\n    } else {\n      instance.state.debouncedUpdateLayout();\n    }\n  };\n\n  const isSelected = row => {\n    return selection.value.indexOf(row) > -1;\n  };\n\n  const clearSelection = () => {\n    isAllSelected.value = false;\n    const oldSelection = selection.value;\n\n    if (oldSelection.length) {\n      selection.value = [];\n      instance.emit(\"selection-change\", []);\n    }\n  };\n\n  const cleanSelection = () => {\n    let deleted;\n\n    if (rowKey.value) {\n      deleted = [];\n      const selectedMap = getKeysMap(selection.value, rowKey.value);\n      const dataMap = getKeysMap(data.value, rowKey.value);\n\n      for (const key in selectedMap) {\n        if (hasOwn(selectedMap, key) && !dataMap[key]) {\n          deleted.push(selectedMap[key].row);\n        }\n      }\n    } else {\n      deleted = selection.value.filter(item => data.value.indexOf(item) === -1);\n    }\n\n    if (deleted.length) {\n      const newSelection = selection.value.filter(item => deleted.indexOf(item) === -1);\n      selection.value = newSelection;\n      instance.emit(\"selection-change\", newSelection.slice());\n    }\n  };\n\n  const toggleRowSelection = (row, selected = void 0, emitChange = true) => {\n    const changed = toggleRowStatus(selection.value, row, selected);\n\n    if (changed) {\n      const newSelection = (selection.value || []).slice();\n\n      if (emitChange) {\n        instance.emit(\"select\", newSelection, row);\n      }\n\n      instance.emit(\"selection-change\", newSelection);\n    }\n  };\n\n  const _toggleAllSelection = () => {\n    var _a, _b;\n\n    const value = selectOnIndeterminate.value ? !isAllSelected.value : !(isAllSelected.value || selection.value.length);\n    isAllSelected.value = value;\n    let selectionChanged = false;\n    let childrenCount = 0;\n    const rowKey2 = (_b = (_a = instance == null ? void 0 : instance.store) == null ? void 0 : _a.states) == null ? void 0 : _b.rowKey.value;\n    data.value.forEach((row, index) => {\n      const rowIndex = index + childrenCount;\n\n      if (selectable.value) {\n        if (selectable.value.call(null, row, rowIndex) && toggleRowStatus(selection.value, row, value)) {\n          selectionChanged = true;\n        }\n      } else {\n        if (toggleRowStatus(selection.value, row, value)) {\n          selectionChanged = true;\n        }\n      }\n\n      childrenCount += getChildrenCount(getRowIdentity(row, rowKey2));\n    });\n\n    if (selectionChanged) {\n      instance.emit(\"selection-change\", selection.value ? selection.value.slice() : []);\n    }\n\n    instance.emit(\"select-all\", selection.value);\n  };\n\n  const updateSelectionByRowKey = () => {\n    const selectedMap = getKeysMap(selection.value, rowKey.value);\n    data.value.forEach(row => {\n      const rowId = getRowIdentity(row, rowKey.value);\n      const rowInfo = selectedMap[rowId];\n\n      if (rowInfo) {\n        selection.value[rowInfo.index] = row;\n      }\n    });\n  };\n\n  const updateAllSelected = () => {\n    var _a, _b, _c;\n\n    if (((_a = data.value) == null ? void 0 : _a.length) === 0) {\n      isAllSelected.value = false;\n      return;\n    }\n\n    let selectedMap;\n\n    if (rowKey.value) {\n      selectedMap = getKeysMap(selection.value, rowKey.value);\n    }\n\n    const isSelected2 = function (row) {\n      if (selectedMap) {\n        return !!selectedMap[getRowIdentity(row, rowKey.value)];\n      } else {\n        return selection.value.indexOf(row) !== -1;\n      }\n    };\n\n    let isAllSelected_ = true;\n    let selectedCount = 0;\n    let childrenCount = 0;\n\n    for (let i = 0, j = (data.value || []).length; i < j; i++) {\n      const keyProp = (_c = (_b = instance == null ? void 0 : instance.store) == null ? void 0 : _b.states) == null ? void 0 : _c.rowKey.value;\n      const rowIndex = i + childrenCount;\n      const item = data.value[i];\n      const isRowSelectable = selectable.value && selectable.value.call(null, item, rowIndex);\n\n      if (!isSelected2(item)) {\n        if (!selectable.value || isRowSelectable) {\n          isAllSelected_ = false;\n          break;\n        }\n      } else {\n        selectedCount++;\n      }\n\n      childrenCount += getChildrenCount(getRowIdentity(item, keyProp));\n    }\n\n    if (selectedCount === 0) isAllSelected_ = false;\n    isAllSelected.value = isAllSelected_;\n  };\n\n  const getChildrenCount = rowKey2 => {\n    var _a;\n\n    if (!instance || !instance.store) return 0;\n    const {\n      treeData\n    } = instance.store.states;\n    let count = 0;\n    const children = (_a = treeData.value[rowKey2]) == null ? void 0 : _a.children;\n\n    if (children) {\n      count += children.length;\n      children.forEach(childKey => {\n        count += getChildrenCount(childKey);\n      });\n    }\n\n    return count;\n  };\n\n  const updateFilters = (columns2, values) => {\n    if (!Array.isArray(columns2)) {\n      columns2 = [columns2];\n    }\n\n    const filters_ = {};\n    columns2.forEach(col => {\n      filters.value[col.id] = values;\n      filters_[col.columnKey || col.id] = values;\n    });\n    return filters_;\n  };\n\n  const updateSort = (column, prop, order) => {\n    if (sortingColumn.value && sortingColumn.value !== column) {\n      sortingColumn.value.order = null;\n    }\n\n    sortingColumn.value = column;\n    sortProp.value = prop;\n    sortOrder.value = order;\n  };\n\n  const execFilter = () => {\n    let sourceData = unref(_data);\n    Object.keys(filters.value).forEach(columnId => {\n      const values = filters.value[columnId];\n      if (!values || values.length === 0) return;\n      const column = getColumnById({\n        columns: columns.value\n      }, columnId);\n\n      if (column && column.filterMethod) {\n        sourceData = sourceData.filter(row => {\n          return values.some(value => column.filterMethod.call(null, value, row, column));\n        });\n      }\n    });\n    filteredData.value = sourceData;\n  };\n\n  const execSort = () => {\n    data.value = sortData(filteredData.value, {\n      sortingColumn: sortingColumn.value,\n      sortProp: sortProp.value,\n      sortOrder: sortOrder.value\n    });\n  };\n\n  const execQuery = (ignore = void 0) => {\n    if (!(ignore && ignore.filter)) {\n      execFilter();\n    }\n\n    execSort();\n  };\n\n  const clearFilter = columnKeys => {\n    const {\n      tableHeader,\n      fixedTableHeader,\n      rightFixedTableHeader\n    } = instance.refs;\n    let panels = {};\n    if (tableHeader) panels = Object.assign(panels, tableHeader.filterPanels);\n    if (fixedTableHeader) panels = Object.assign(panels, fixedTableHeader.filterPanels);\n    if (rightFixedTableHeader) panels = Object.assign(panels, rightFixedTableHeader.filterPanels);\n    const keys = Object.keys(panels);\n    if (!keys.length) return;\n\n    if (typeof columnKeys === \"string\") {\n      columnKeys = [columnKeys];\n    }\n\n    if (Array.isArray(columnKeys)) {\n      const columns_ = columnKeys.map(key => getColumnByKey({\n        columns: columns.value\n      }, key));\n      keys.forEach(key => {\n        const column = columns_.find(col => col.id === key);\n\n        if (column) {\n          column.filteredValue = [];\n        }\n      });\n      instance.store.commit(\"filterChange\", {\n        column: columns_,\n        values: [],\n        silent: true,\n        multi: true\n      });\n    } else {\n      keys.forEach(key => {\n        const column = columns.value.find(col => col.id === key);\n\n        if (column) {\n          column.filteredValue = [];\n        }\n      });\n      filters.value = {};\n      instance.store.commit(\"filterChange\", {\n        column: {},\n        values: [],\n        silent: true\n      });\n    }\n  };\n\n  const clearSort = () => {\n    if (!sortingColumn.value) return;\n    updateSort(null, null, null);\n    instance.store.commit(\"changeSortCondition\", {\n      silent: true\n    });\n  };\n\n  const {\n    setExpandRowKeys,\n    toggleRowExpansion,\n    updateExpandRows,\n    states: expandStates,\n    isRowExpanded\n  } = useExpand({\n    data,\n    rowKey\n  });\n  const {\n    updateTreeExpandKeys,\n    toggleTreeExpansion,\n    loadOrToggle,\n    states: treeStates\n  } = useTree({\n    data,\n    rowKey\n  });\n  const {\n    updateCurrentRowData,\n    updateCurrentRow,\n    setCurrentRowKey,\n    states: currentData\n  } = useCurrent({\n    data,\n    rowKey\n  });\n\n  const setExpandRowKeysAdapter = val => {\n    setExpandRowKeys(val);\n    updateTreeExpandKeys(val);\n  };\n\n  const toggleRowExpansionAdapter = (row, expanded) => {\n    const hasExpandColumn = columns.value.some(({\n      type\n    }) => type === \"expand\");\n\n    if (hasExpandColumn) {\n      toggleRowExpansion(row, expanded);\n    } else {\n      toggleTreeExpansion(row, expanded);\n    }\n  };\n\n  return {\n    assertRowKey,\n    updateColumns,\n    scheduleLayout,\n    isSelected,\n    clearSelection,\n    cleanSelection,\n    toggleRowSelection,\n    _toggleAllSelection,\n    toggleAllSelection: null,\n    updateSelectionByRowKey,\n    updateAllSelected,\n    updateFilters,\n    updateCurrentRow,\n    updateSort,\n    execFilter,\n    execSort,\n    execQuery,\n    clearFilter,\n    clearSort,\n    toggleRowExpansion,\n    setExpandRowKeysAdapter,\n    setCurrentRowKey,\n    toggleRowExpansionAdapter,\n    isRowExpanded,\n    updateExpandRows,\n    updateCurrentRowData,\n    loadOrToggle,\n    states: __spreadValues$2(__spreadValues$2(__spreadValues$2({\n      rowKey,\n      data,\n      _data,\n      isComplex,\n      _columns,\n      originColumns,\n      columns,\n      fixedColumns,\n      rightFixedColumns,\n      leafColumns,\n      fixedLeafColumns,\n      rightFixedLeafColumns,\n      leafColumnsLength,\n      fixedLeafColumnsLength,\n      rightFixedLeafColumnsLength,\n      isAllSelected,\n      selection,\n      reserveSelection,\n      selectOnIndeterminate,\n      selectable,\n      filters,\n      filteredData,\n      sortingColumn,\n      sortProp,\n      sortOrder,\n      hoverRow\n    }, expandStates), treeStates), currentData)\n  };\n}\n\nvar __defProp$3 = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$3 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$3 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$3 = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp$3 = (obj, key, value) => key in obj ? __defProp$3(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues$3 = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp$3.call(b, prop)) __defNormalProp$3(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols$3) for (var prop of __getOwnPropSymbols$3(b)) {\n    if (__propIsEnum$3.call(b, prop)) __defNormalProp$3(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\nfunction replaceColumn(array, column) {\n  return array.map(item => {\n    var _a;\n\n    if (item.id === column.id) {\n      return column;\n    } else if ((_a = item.children) == null ? void 0 : _a.length) {\n      item.children = replaceColumn(item.children, column);\n    }\n\n    return item;\n  });\n}\n\nfunction sortColumn(array) {\n  array.forEach(item => {\n    var _a, _b;\n\n    item.no = (_a = item.getColumnIndex) == null ? void 0 : _a.call(item);\n\n    if ((_b = item.children) == null ? void 0 : _b.length) {\n      sortColumn(item.children);\n    }\n  });\n  array.sort((cur, pre) => cur.no - pre.no);\n}\n\nfunction useStore() {\n  const instance = getCurrentInstance();\n  const watcher = useWatcher();\n  const mutations = {\n    setData(states, data) {\n      const dataInstanceChanged = unref(states.data) !== data;\n      states.data.value = data;\n      states._data.value = data;\n      instance.store.execQuery();\n      instance.store.updateCurrentRowData();\n      instance.store.updateExpandRows();\n\n      if (unref(states.reserveSelection)) {\n        instance.store.assertRowKey();\n        instance.store.updateSelectionByRowKey();\n      } else {\n        if (dataInstanceChanged) {\n          instance.store.clearSelection();\n        } else {\n          instance.store.cleanSelection();\n        }\n      }\n\n      instance.store.updateAllSelected();\n\n      if (instance.$ready) {\n        instance.store.scheduleLayout();\n      }\n    },\n\n    insertColumn(states, column, parent) {\n      const array = unref(states._columns);\n      let newColumns = [];\n\n      if (!parent) {\n        array.push(column);\n        newColumns = array;\n      } else {\n        if (parent && !parent.children) {\n          parent.children = [];\n        }\n\n        parent.children.push(column);\n        newColumns = replaceColumn(array, parent);\n      }\n\n      sortColumn(newColumns);\n      states._columns.value = newColumns;\n\n      if (column.type === \"selection\") {\n        states.selectable.value = column.selectable;\n        states.reserveSelection.value = column.reserveSelection;\n      }\n\n      if (instance.$ready) {\n        instance.store.updateColumns();\n        instance.store.scheduleLayout();\n      }\n    },\n\n    removeColumn(states, column, parent) {\n      const array = unref(states._columns) || [];\n\n      if (parent) {\n        parent.children.splice(parent.children.findIndex(item => item.id === column.id), 1);\n\n        if (parent.children.length === 0) {\n          delete parent.children;\n        }\n\n        states._columns.value = replaceColumn(array, parent);\n      } else {\n        const index = array.indexOf(column);\n\n        if (index > -1) {\n          array.splice(index, 1);\n          states._columns.value = array;\n        }\n      }\n\n      if (instance.$ready) {\n        instance.store.updateColumns();\n        instance.store.scheduleLayout();\n      }\n    },\n\n    sort(states, options) {\n      const {\n        prop,\n        order,\n        init\n      } = options;\n\n      if (prop) {\n        const column = arrayFind(unref(states.columns), column2 => column2.property === prop);\n\n        if (column) {\n          column.order = order;\n          instance.store.updateSort(column, prop, order);\n          instance.store.commit(\"changeSortCondition\", {\n            init\n          });\n        }\n      }\n    },\n\n    changeSortCondition(states, options) {\n      const {\n        sortingColumn: column,\n        sortProp: prop,\n        sortOrder: order\n      } = states;\n\n      if (unref(order) === null) {\n        states.sortingColumn.value = null;\n        states.sortProp.value = null;\n      }\n\n      const ingore = {\n        filter: true\n      };\n      instance.store.execQuery(ingore);\n\n      if (!options || !(options.silent || options.init)) {\n        instance.emit(\"sort-change\", {\n          column: unref(column),\n          prop: unref(prop),\n          order: unref(order)\n        });\n      }\n\n      instance.store.updateTableScrollY();\n    },\n\n    filterChange(_states, options) {\n      const {\n        column,\n        values,\n        silent\n      } = options;\n      const newFilters = instance.store.updateFilters(column, values);\n      instance.store.execQuery();\n\n      if (!silent) {\n        instance.emit(\"filter-change\", newFilters);\n      }\n\n      instance.store.updateTableScrollY();\n    },\n\n    toggleAllSelection() {\n      instance.store.toggleAllSelection();\n    },\n\n    rowSelectedChanged(_states, row) {\n      instance.store.toggleRowSelection(row);\n      instance.store.updateAllSelected();\n    },\n\n    setHoverRow(states, row) {\n      states.hoverRow.value = row;\n    },\n\n    setCurrentRow(_states, row) {\n      instance.store.updateCurrentRow(row);\n    }\n\n  };\n\n  const commit = function (name, ...args) {\n    const mutations2 = instance.store.mutations;\n\n    if (mutations2[name]) {\n      mutations2[name].apply(instance, [instance.store.states].concat(args));\n    } else {\n      throw new Error(`Action not found: ${name}`);\n    }\n  };\n\n  const updateTableScrollY = function () {\n    nextTick(() => instance.layout.updateScrollY.apply(instance.layout));\n  };\n\n  return __spreadProps(__spreadValues$3({}, watcher), {\n    mutations,\n    commit,\n    updateTableScrollY\n  });\n}\n\nconst InitialStateMap = {\n  rowKey: \"rowKey\",\n  defaultExpandAll: \"defaultExpandAll\",\n  selectOnIndeterminate: \"selectOnIndeterminate\",\n  indent: \"indent\",\n  lazy: \"lazy\",\n  data: \"data\",\n  [\"treeProps.hasChildren\"]: {\n    key: \"lazyColumnIdentifier\",\n    default: \"hasChildren\"\n  },\n  [\"treeProps.children\"]: {\n    key: \"childrenColumnName\",\n    default: \"children\"\n  }\n};\n\nfunction createStore(table, props) {\n  if (!table) {\n    throw new Error(\"Table is required.\");\n  }\n\n  const store = useStore();\n  store.toggleAllSelection = debounce(store._toggleAllSelection, 10);\n  Object.keys(InitialStateMap).forEach(key => {\n    handleValue(getArrKeysValue(props, key), key, store);\n  });\n  proxyTableProps(store, props);\n  return store;\n}\n\nfunction proxyTableProps(store, props) {\n  Object.keys(InitialStateMap).forEach(key => {\n    watch(() => getArrKeysValue(props, key), value => {\n      handleValue(value, key, store);\n    });\n  });\n}\n\nfunction handleValue(value, propsKey, store) {\n  let newVal = value;\n  let storeKey = InitialStateMap[propsKey];\n\n  if (typeof InitialStateMap[propsKey] === \"object\") {\n    storeKey = storeKey.key;\n    newVal = newVal || InitialStateMap[propsKey].default;\n  }\n\n  store.states[storeKey].value = newVal;\n}\n\nfunction getArrKeysValue(props, keys) {\n  if (keys.includes(\".\")) {\n    const keyList = keys.split(\".\");\n    let value = props;\n    keyList.forEach(key => {\n      value = value[key];\n    });\n    return value;\n  } else {\n    return props[keys];\n  }\n}\n\nclass TableLayout {\n  constructor(options) {\n    this.observers = [];\n    this.table = null;\n    this.store = null;\n    this.columns = [];\n    this.fit = true;\n    this.showHeader = true;\n    this.height = ref(null);\n    this.scrollX = ref(false);\n    this.scrollY = ref(false);\n    this.bodyWidth = ref(null);\n    this.fixedWidth = ref(null);\n    this.rightFixedWidth = ref(null);\n    this.tableHeight = ref(null);\n    this.headerHeight = ref(44);\n    this.appendHeight = ref(0);\n    this.footerHeight = ref(44);\n    this.viewportHeight = ref(null);\n    this.bodyHeight = ref(null);\n    this.fixedBodyHeight = ref(null);\n    this.gutterWidth = scrollbarWidth();\n\n    for (const name in options) {\n      if (hasOwn(options, name)) {\n        if (isRef(this[name])) {\n          this[name].value = options[name];\n        } else {\n          this[name] = options[name];\n        }\n      }\n    }\n\n    if (!this.table) {\n      throw new Error(\"table is required for Table Layout\");\n    }\n\n    if (!this.store) {\n      throw new Error(\"store is required for Table Layout\");\n    }\n  }\n\n  updateScrollY() {\n    const height = this.height.value;\n    if (height === null) return false;\n    const bodyWrapper = this.table.refs.bodyWrapper;\n\n    if (this.table.vnode.el && bodyWrapper) {\n      let scrollY = true;\n      const prevScrollY = this.scrollY.value;\n\n      if (this.bodyHeight.value === null) {\n        scrollY = false;\n      } else {\n        const body = bodyWrapper.querySelector(\".el-table__body\");\n        scrollY = body.offsetHeight > this.bodyHeight.value;\n      }\n\n      this.scrollY.value = scrollY;\n      return prevScrollY !== scrollY;\n    }\n\n    return false;\n  }\n\n  setHeight(value, prop = \"height\") {\n    if (isServer) return;\n    const el = this.table.vnode.el;\n    value = parseHeight(value);\n    this.height.value = Number(value);\n    if (!el && (value || value === 0)) return nextTick(() => this.setHeight(value, prop));\n\n    if (typeof value === \"number\") {\n      el.style[prop] = value + \"px\";\n      this.updateElsHeight();\n    } else if (typeof value === \"string\") {\n      el.style[prop] = value;\n      this.updateElsHeight();\n    }\n  }\n\n  setMaxHeight(value) {\n    this.setHeight(value, \"max-height\");\n  }\n\n  getFlattenColumns() {\n    const flattenColumns = [];\n    const columns = this.table.store.states.columns.value;\n    columns.forEach(column => {\n      if (column.isColumnGroup) {\n        flattenColumns.push.apply(flattenColumns, column.columns);\n      } else {\n        flattenColumns.push(column);\n      }\n    });\n    return flattenColumns;\n  }\n\n  updateElsHeight() {\n    if (!this.table.$ready) return nextTick(() => this.updateElsHeight());\n    const {\n      headerWrapper,\n      appendWrapper,\n      footerWrapper\n    } = this.table.refs;\n    this.appendHeight.value = appendWrapper ? appendWrapper.offsetHeight : 0;\n    if (this.showHeader && !headerWrapper) return;\n    const headerTrElm = headerWrapper ? headerWrapper.querySelector(\".el-table__header tr\") : null;\n    const noneHeader = this.headerDisplayNone(headerTrElm);\n    const headerHeight = this.headerHeight.value = !this.showHeader ? 0 : headerWrapper.offsetHeight;\n\n    if (this.showHeader && !noneHeader && headerWrapper.offsetWidth > 0 && (this.table.store.states.columns.value || []).length > 0 && headerHeight < 2) {\n      return nextTick(() => this.updateElsHeight());\n    }\n\n    const tableHeight = this.tableHeight.value = this.table.vnode.el.clientHeight;\n    const footerHeight = this.footerHeight.value = footerWrapper ? footerWrapper.offsetHeight : 0;\n\n    if (this.height.value !== null) {\n      this.bodyHeight.value = tableHeight - headerHeight - footerHeight + (footerWrapper ? 1 : 0);\n    }\n\n    this.fixedBodyHeight.value = this.scrollX.value ? this.bodyHeight.value - this.gutterWidth : this.bodyHeight.value;\n    this.viewportHeight.value = this.scrollX.value ? tableHeight - this.gutterWidth : tableHeight;\n    this.updateScrollY();\n    this.notifyObservers(\"scrollable\");\n  }\n\n  headerDisplayNone(elm) {\n    if (!elm) return true;\n    let headerChild = elm;\n\n    while (headerChild.tagName !== \"DIV\") {\n      if (getComputedStyle(headerChild).display === \"none\") {\n        return true;\n      }\n\n      headerChild = headerChild.parentElement;\n    }\n\n    return false;\n  }\n\n  updateColumnsWidth() {\n    if (isServer) return;\n    const fit = this.fit;\n    const bodyWidth = this.table.vnode.el.clientWidth;\n    let bodyMinWidth = 0;\n    const flattenColumns = this.getFlattenColumns();\n    const flexColumns = flattenColumns.filter(column => typeof column.width !== \"number\");\n    flattenColumns.forEach(column => {\n      if (typeof column.width === \"number\" && column.realWidth) column.realWidth = null;\n    });\n\n    if (flexColumns.length > 0 && fit) {\n      flattenColumns.forEach(column => {\n        bodyMinWidth += Number(column.width || column.minWidth || 80);\n      });\n      const scrollYWidth = this.scrollY.value ? this.gutterWidth : 0;\n\n      if (bodyMinWidth <= bodyWidth - scrollYWidth) {\n        this.scrollX.value = false;\n        const totalFlexWidth = bodyWidth - scrollYWidth - bodyMinWidth;\n\n        if (flexColumns.length === 1) {\n          flexColumns[0].realWidth = Number(flexColumns[0].minWidth || 80) + totalFlexWidth;\n        } else {\n          const allColumnsWidth = flexColumns.reduce((prev, column) => prev + Number(column.minWidth || 80), 0);\n          const flexWidthPerPixel = totalFlexWidth / allColumnsWidth;\n          let noneFirstWidth = 0;\n          flexColumns.forEach((column, index) => {\n            if (index === 0) return;\n            const flexWidth = Math.floor(Number(column.minWidth || 80) * flexWidthPerPixel);\n            noneFirstWidth += flexWidth;\n            column.realWidth = Number(column.minWidth || 80) + flexWidth;\n          });\n          flexColumns[0].realWidth = Number(flexColumns[0].minWidth || 80) + totalFlexWidth - noneFirstWidth;\n        }\n      } else {\n        this.scrollX.value = true;\n        flexColumns.forEach(function (column) {\n          column.realWidth = Number(column.minWidth);\n        });\n      }\n\n      this.bodyWidth.value = Math.max(bodyMinWidth, bodyWidth);\n      this.table.state.resizeState.value.width = this.bodyWidth.value;\n    } else {\n      flattenColumns.forEach(column => {\n        if (!column.width && !column.minWidth) {\n          column.realWidth = 80;\n        } else {\n          column.realWidth = Number(column.width || column.minWidth);\n        }\n\n        bodyMinWidth += column.realWidth;\n      });\n      this.scrollX.value = bodyMinWidth > bodyWidth;\n      this.bodyWidth.value = bodyMinWidth;\n    }\n\n    const fixedColumns = this.store.states.fixedColumns.value;\n\n    if (fixedColumns.length > 0) {\n      let fixedWidth = 0;\n      fixedColumns.forEach(function (column) {\n        fixedWidth += Number(column.realWidth || column.width);\n      });\n      this.fixedWidth.value = fixedWidth;\n    }\n\n    const rightFixedColumns = this.store.states.rightFixedColumns.value;\n\n    if (rightFixedColumns.length > 0) {\n      let rightFixedWidth = 0;\n      rightFixedColumns.forEach(function (column) {\n        rightFixedWidth += Number(column.realWidth || column.width);\n      });\n      this.rightFixedWidth.value = rightFixedWidth;\n    }\n\n    this.notifyObservers(\"columns\");\n  }\n\n  addObserver(observer) {\n    this.observers.push(observer);\n  }\n\n  removeObserver(observer) {\n    const index = this.observers.indexOf(observer);\n\n    if (index !== -1) {\n      this.observers.splice(index, 1);\n    }\n  }\n\n  notifyObservers(event) {\n    const observers = this.observers;\n    observers.forEach(observer => {\n      var _a, _b;\n\n      switch (event) {\n        case \"columns\":\n          (_a = observer.state) == null ? void 0 : _a.onColumnsChange(this);\n          break;\n\n        case \"scrollable\":\n          (_b = observer.state) == null ? void 0 : _b.onScrollableChange(this);\n          break;\n\n        default:\n          throw new Error(`Table Layout don't have event ${event}.`);\n      }\n    });\n  }\n\n}\n\nvar script = defineComponent({\n  name: \"ElTableFilterPanel\",\n  components: {\n    ElCheckbox,\n    ElCheckboxGroup,\n    ElScrollbar,\n    ElPopper\n  },\n  directives: {\n    ClickOutside\n  },\n  props: {\n    placement: {\n      type: String,\n      default: \"bottom-start\"\n    },\n    store: {\n      type: Object\n    },\n    column: {\n      type: Object\n    },\n    upDataColumn: {\n      type: Function\n    }\n  },\n\n  setup(props) {\n    const instance = getCurrentInstance();\n    const {\n      t\n    } = useLocaleInject();\n    const parent = instance.parent;\n\n    if (!parent.filterPanels.value[props.column.id]) {\n      parent.filterPanels.value[props.column.id] = instance;\n    }\n\n    const tooltipVisible = ref(false);\n    const tooltip = ref(null);\n    const filters = computed(() => {\n      return props.column && props.column.filters;\n    });\n    const filterValue = computed({\n      get: () => (props.column.filteredValue || [])[0],\n      set: value => {\n        if (filteredValue.value) {\n          if (typeof value !== \"undefined\" && value !== null) {\n            filteredValue.value.splice(0, 1, value);\n          } else {\n            filteredValue.value.splice(0, 1);\n          }\n        }\n      }\n    });\n    const filteredValue = computed({\n      get() {\n        if (props.column) {\n          return props.column.filteredValue || [];\n        }\n\n        return [];\n      },\n\n      set(value) {\n        if (props.column) {\n          props.upDataColumn(\"filteredValue\", value);\n        }\n      }\n\n    });\n    const multiple = computed(() => {\n      if (props.column) {\n        return props.column.filterMultiple;\n      }\n\n      return true;\n    });\n\n    const isActive = filter => {\n      return filter.value === filterValue.value;\n    };\n\n    const hidden = () => {\n      tooltipVisible.value = false;\n    };\n\n    const showFilterPanel = e => {\n      e.stopPropagation();\n      tooltipVisible.value = !tooltipVisible.value;\n    };\n\n    const hideFilterPanel = () => {\n      tooltipVisible.value = false;\n    };\n\n    const handleConfirm = () => {\n      confirmFilter(filteredValue.value);\n      hidden();\n    };\n\n    const handleReset = () => {\n      filteredValue.value = [];\n      confirmFilter(filteredValue.value);\n      hidden();\n    };\n\n    const handleSelect = _filterValue => {\n      filterValue.value = _filterValue;\n\n      if (typeof _filterValue !== \"undefined\" && _filterValue !== null) {\n        confirmFilter(filteredValue.value);\n      } else {\n        confirmFilter([]);\n      }\n\n      hidden();\n    };\n\n    const confirmFilter = filteredValue2 => {\n      props.store.commit(\"filterChange\", {\n        column: props.column,\n        values: filteredValue2\n      });\n      props.store.updateAllSelected();\n    };\n\n    watch(tooltipVisible, value => {\n      if (props.column) {\n        props.upDataColumn(\"filterOpened\", value);\n      }\n    }, {\n      immediate: true\n    });\n    const popperPaneRef = computed(() => {\n      var _a;\n\n      return (_a = tooltip.value) == null ? void 0 : _a.popperRef;\n    });\n    return {\n      tooltipVisible,\n      multiple,\n      filteredValue,\n      filterValue,\n      filters,\n      handleConfirm,\n      handleReset,\n      handleSelect,\n      isActive,\n      t,\n      showFilterPanel,\n      hideFilterPanel,\n      popperPaneRef,\n      tooltip\n    };\n  }\n\n});\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  class: \"el-table-filter__content\"\n};\nconst _hoisted_3 = {\n  class: \"el-table-filter__bottom\"\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"el-table-filter__list\"\n};\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_checkbox = resolveComponent(\"el-checkbox\");\n\n  const _component_el_checkbox_group = resolveComponent(\"el-checkbox-group\");\n\n  const _component_el_scrollbar = resolveComponent(\"el-scrollbar\");\n\n  const _component_el_popper = resolveComponent(\"el-popper\");\n\n  const _directive_click_outside = resolveDirective(\"click-outside\");\n\n  return openBlock(), createBlock(_component_el_popper, {\n    ref: \"tooltip\",\n    visible: _ctx.tooltipVisible,\n    \"onUpdate:visible\": _cache[6] || (_cache[6] = $event => _ctx.tooltipVisible = $event),\n    offset: 0,\n    placement: _ctx.placement,\n    \"show-arrow\": false,\n    \"stop-popper-mouse-event\": false,\n    effect: \"light\",\n    pure: \"\",\n    \"manual-mode\": \"\",\n    \"popper-class\": \"el-table-filter\",\n    \"append-to-body\": \"\"\n  }, {\n    default: withCtx(() => [_ctx.multiple ? (openBlock(), createBlock(\"div\", _hoisted_1, [createVNode(\"div\", _hoisted_2, [createVNode(_component_el_scrollbar, {\n      \"wrap-class\": \"el-table-filter__wrap\"\n    }, {\n      default: withCtx(() => [createVNode(_component_el_checkbox_group, {\n        modelValue: _ctx.filteredValue,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.filteredValue = $event),\n        class: \"el-table-filter__checkbox-group\"\n      }, {\n        default: withCtx(() => [(openBlock(true), createBlock(Fragment, null, renderList(_ctx.filters, filter => {\n          return openBlock(), createBlock(_component_el_checkbox, {\n            key: filter.value,\n            label: filter.value\n          }, {\n            default: withCtx(() => [createTextVNode(toDisplayString(filter.text), 1)]),\n            _: 2\n          }, 1032, [\"label\"]);\n        }), 128))]),\n        _: 1\n      }, 8, [\"modelValue\"])]),\n      _: 1\n    })]), createVNode(\"div\", _hoisted_3, [createVNode(\"button\", {\n      class: {\n        \"is-disabled\": _ctx.filteredValue.length === 0\n      },\n      disabled: _ctx.filteredValue.length === 0,\n      type: \"\",\n      onClick: _cache[2] || (_cache[2] = (...args) => _ctx.handleConfirm && _ctx.handleConfirm(...args))\n    }, toDisplayString(_ctx.t(\"el.table.confirmFilter\")), 11, [\"disabled\"]), createVNode(\"button\", {\n      type: \"\",\n      onClick: _cache[3] || (_cache[3] = (...args) => _ctx.handleReset && _ctx.handleReset(...args))\n    }, toDisplayString(_ctx.t(\"el.table.resetFilter\")), 1)])])) : (openBlock(), createBlock(\"ul\", _hoisted_4, [createVNode(\"li\", {\n      class: [{\n        \"is-active\": _ctx.filterValue === void 0 || _ctx.filterValue === null\n      }, \"el-table-filter__list-item\"],\n      onClick: _cache[4] || (_cache[4] = $event => _ctx.handleSelect(null))\n    }, toDisplayString(_ctx.t(\"el.table.clearFilter\")), 3), (openBlock(true), createBlock(Fragment, null, renderList(_ctx.filters, filter => {\n      return openBlock(), createBlock(\"li\", {\n        key: filter.value,\n        class: [{\n          \"is-active\": _ctx.isActive(filter)\n        }, \"el-table-filter__list-item\"],\n        label: filter.value,\n        onClick: $event => _ctx.handleSelect(filter.value)\n      }, toDisplayString(filter.text), 11, [\"label\", \"onClick\"]);\n    }), 128))]))]),\n    trigger: withCtx(() => [withDirectives(createVNode(\"span\", {\n      class: \"el-table__column-filter-trigger el-none-outline\",\n      onClick: _cache[5] || (_cache[5] = (...args) => _ctx.showFilterPanel && _ctx.showFilterPanel(...args))\n    }, [createVNode(\"i\", {\n      class: [\"el-icon-arrow-down\", _ctx.column.filterOpened ? \"el-icon-arrow-up\" : \"\"]\n    }, null, 2)], 512), [[_directive_click_outside, _ctx.hideFilterPanel, _ctx.popperPaneRef]])]),\n    _: 1\n  }, 8, [\"visible\", \"placement\"]);\n}\n\nscript.render = render;\nscript.__file = \"packages/table/src/filter-panel.vue\";\n\nfunction useLayoutObserver(root) {\n  const instance = getCurrentInstance();\n  onBeforeMount(() => {\n    tableLayout.value.addObserver(instance);\n  });\n  onMounted(() => {\n    onColumnsChange(tableLayout.value);\n    onScrollableChange(tableLayout.value);\n  });\n  onUpdated(() => {\n    onColumnsChange(tableLayout.value);\n    onScrollableChange(tableLayout.value);\n  });\n  onUnmounted(() => {\n    tableLayout.value.removeObserver(instance);\n  });\n  const tableLayout = computed(() => {\n    const layout = root.layout;\n\n    if (!layout) {\n      throw new Error(\"Can not find table layout.\");\n    }\n\n    return layout;\n  });\n\n  const onColumnsChange = layout => {\n    var _a;\n\n    const cols = ((_a = root.vnode.el) == null ? void 0 : _a.querySelectorAll(\"colgroup > col\")) || [];\n    if (!cols.length) return;\n    const flattenColumns = layout.getFlattenColumns();\n    const columnsMap = {};\n    flattenColumns.forEach(column => {\n      columnsMap[column.id] = column;\n    });\n\n    for (let i = 0, j = cols.length; i < j; i++) {\n      const col = cols[i];\n      const name = col.getAttribute(\"name\");\n      const column = columnsMap[name];\n\n      if (column) {\n        col.setAttribute(\"width\", column.realWidth || column.width);\n      }\n    }\n  };\n\n  const onScrollableChange = layout => {\n    const cols = root.vnode.el.querySelectorAll(\"colgroup > col[name=gutter]\");\n\n    for (let i = 0, j = cols.length; i < j; i++) {\n      const col = cols[i];\n      col.setAttribute(\"width\", layout.scrollY.value ? layout.gutterWidth : \"0\");\n    }\n\n    const ths = root.vnode.el.querySelectorAll(\"th.gutter\");\n\n    for (let i = 0, j = ths.length; i < j; i++) {\n      const th = ths[i];\n      th.style.width = layout.scrollY.value ? layout.gutterWidth + \"px\" : \"0\";\n      th.style.display = layout.scrollY.value ? \"\" : \"none\";\n    }\n  };\n\n  return {\n    tableLayout: tableLayout.value,\n    onColumnsChange,\n    onScrollableChange\n  };\n}\n\nfunction useEvent(props, emit) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n\n  const handleFilterClick = event => {\n    event.stopPropagation();\n    return;\n  };\n\n  const handleHeaderClick = (event, column) => {\n    if (!column.filters && column.sortable) {\n      handleSortClick(event, column, false);\n    } else if (column.filterable && !column.sortable) {\n      handleFilterClick(event);\n    }\n\n    parent.emit(\"header-click\", column, event);\n  };\n\n  const handleHeaderContextMenu = (event, column) => {\n    parent.emit(\"header-contextmenu\", column, event);\n  };\n\n  const draggingColumn = ref(null);\n  const dragging = ref(false);\n  const dragState = ref({});\n\n  const handleMouseDown = (event, column) => {\n    if (isServer) return;\n    if (column.children && column.children.length > 0) return;\n\n    if (draggingColumn.value && props.border) {\n      dragging.value = true;\n      const table = parent;\n      emit(\"set-drag-visible\", true);\n      const tableEl = table.vnode.el;\n      const tableLeft = tableEl.getBoundingClientRect().left;\n      const columnEl = instance.vnode.el.querySelector(`th.${column.id}`);\n      const columnRect = columnEl.getBoundingClientRect();\n      const minLeft = columnRect.left - tableLeft + 30;\n      addClass(columnEl, \"noclick\");\n      dragState.value = {\n        startMouseLeft: event.clientX,\n        startLeft: columnRect.right - tableLeft,\n        startColumnLeft: columnRect.left - tableLeft,\n        tableLeft\n      };\n      const resizeProxy = table.refs.resizeProxy;\n      resizeProxy.style.left = dragState.value.startLeft + \"px\";\n\n      document.onselectstart = function () {\n        return false;\n      };\n\n      document.ondragstart = function () {\n        return false;\n      };\n\n      const handleMouseMove2 = event2 => {\n        const deltaLeft = event2.clientX - dragState.value.startMouseLeft;\n        const proxyLeft = dragState.value.startLeft + deltaLeft;\n        resizeProxy.style.left = Math.max(minLeft, proxyLeft) + \"px\";\n      };\n\n      const handleMouseUp = () => {\n        if (dragging.value) {\n          const {\n            startColumnLeft,\n            startLeft\n          } = dragState.value;\n          const finalLeft = parseInt(resizeProxy.style.left, 10);\n          const columnWidth = finalLeft - startColumnLeft;\n          column.width = column.realWidth = columnWidth;\n          table.emit(\"header-dragend\", column.width, startLeft - startColumnLeft, column, event);\n          props.store.scheduleLayout(false, true);\n          document.body.style.cursor = \"\";\n          dragging.value = false;\n          draggingColumn.value = null;\n          dragState.value = {};\n          emit(\"set-drag-visible\", false);\n        }\n\n        document.removeEventListener(\"mousemove\", handleMouseMove2);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n        document.onselectstart = null;\n        document.ondragstart = null;\n        setTimeout(function () {\n          removeClass(columnEl, \"noclick\");\n        }, 0);\n      };\n\n      document.addEventListener(\"mousemove\", handleMouseMove2);\n      document.addEventListener(\"mouseup\", handleMouseUp);\n    }\n  };\n\n  const handleMouseMove = (event, column) => {\n    if (column.children && column.children.length > 0) return;\n    let target = event.target;\n\n    while (target && target.tagName !== \"TH\") {\n      target = target.parentNode;\n    }\n\n    if (!column || !column.resizable) return;\n\n    if (!dragging.value && props.border) {\n      const rect = target.getBoundingClientRect();\n      const bodyStyle = document.body.style;\n\n      if (rect.width > 12 && rect.right - event.pageX < 8) {\n        bodyStyle.cursor = \"col-resize\";\n\n        if (hasClass(target, \"is-sortable\")) {\n          target.style.cursor = \"col-resize\";\n        }\n\n        draggingColumn.value = column;\n      } else if (!dragging.value) {\n        bodyStyle.cursor = \"\";\n\n        if (hasClass(target, \"is-sortable\")) {\n          target.style.cursor = \"pointer\";\n        }\n\n        draggingColumn.value = null;\n      }\n    }\n  };\n\n  const handleMouseOut = () => {\n    if (isServer) return;\n    document.body.style.cursor = \"\";\n  };\n\n  const toggleOrder = ({\n    order,\n    sortOrders\n  }) => {\n    if (order === \"\") return sortOrders[0];\n    const index = sortOrders.indexOf(order || null);\n    return sortOrders[index > sortOrders.length - 2 ? 0 : index + 1];\n  };\n\n  const handleSortClick = (event, column, givenOrder) => {\n    event.stopPropagation();\n    const order = column.order === givenOrder ? null : givenOrder || toggleOrder(column);\n    let target = event.target;\n\n    while (target && target.tagName !== \"TH\") {\n      target = target.parentNode;\n    }\n\n    if (target && target.tagName === \"TH\") {\n      if (hasClass(target, \"noclick\")) {\n        removeClass(target, \"noclick\");\n        return;\n      }\n    }\n\n    if (!column.sortable) return;\n    const states = props.store.states;\n    let sortProp = states.sortProp.value;\n    let sortOrder;\n    const sortingColumn = states.sortingColumn.value;\n\n    if (sortingColumn !== column || sortingColumn === column && sortingColumn.order === null) {\n      if (sortingColumn) {\n        sortingColumn.order = null;\n      }\n\n      states.sortingColumn.value = column;\n      sortProp = column.property;\n    }\n\n    if (!order) {\n      sortOrder = column.order = null;\n    } else {\n      sortOrder = column.order = order;\n    }\n\n    states.sortProp.value = sortProp;\n    states.sortOrder.value = sortOrder;\n    parent.store.commit(\"changeSortCondition\");\n  };\n\n  return {\n    handleHeaderClick,\n    handleHeaderContextMenu,\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseOut,\n    handleSortClick,\n    handleFilterClick\n  };\n}\n\nfunction useStyle(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const storeData = parent.store.states;\n\n  const isCellHidden = (index, columns) => {\n    let start = 0;\n\n    for (let i = 0; i < index; i++) {\n      start += columns[i].colSpan;\n    }\n\n    const after = start + columns[index].colSpan - 1;\n\n    if (props.fixed === \"left\") {\n      return after >= storeData.fixedLeafColumnsLength.value;\n    } else if (props.fixed === \"right\") {\n      return start < storeData.columns.value.length - storeData.rightFixedLeafColumnsLength.value;\n    } else {\n      return after < storeData.fixedLeafColumnsLength.value || start >= storeData.columns.value.length - storeData.rightFixedLeafColumnsLength.value;\n    }\n  };\n\n  const getHeaderRowStyle = rowIndex => {\n    const headerRowStyle = parent.props.headerRowStyle;\n\n    if (typeof headerRowStyle === \"function\") {\n      return headerRowStyle.call(null, {\n        rowIndex\n      });\n    }\n\n    return headerRowStyle;\n  };\n\n  const getHeaderRowClass = rowIndex => {\n    const classes = [];\n    const headerRowClassName = parent.props.headerRowClassName;\n\n    if (typeof headerRowClassName === \"string\") {\n      classes.push(headerRowClassName);\n    } else if (typeof headerRowClassName === \"function\") {\n      classes.push(headerRowClassName.call(null, {\n        rowIndex\n      }));\n    }\n\n    return classes.join(\" \");\n  };\n\n  const getHeaderCellStyle = (rowIndex, columnIndex, row, column) => {\n    const headerCellStyle = parent.props.headerCellStyle;\n\n    if (typeof headerCellStyle === \"function\") {\n      return headerCellStyle.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      });\n    }\n\n    return headerCellStyle;\n  };\n\n  const getHeaderCellClass = (rowIndex, columnIndex, row, column) => {\n    const classes = [column.id, column.order, column.headerAlign, column.className, column.labelClassName];\n\n    if (rowIndex === 0 && isCellHidden(columnIndex, row)) {\n      classes.push(\"is-hidden\");\n    }\n\n    if (!column.children) {\n      classes.push(\"is-leaf\");\n    }\n\n    if (column.sortable) {\n      classes.push(\"is-sortable\");\n    }\n\n    const headerCellClassName = parent.props.headerCellClassName;\n\n    if (typeof headerCellClassName === \"string\") {\n      classes.push(headerCellClassName);\n    } else if (typeof headerCellClassName === \"function\") {\n      classes.push(headerCellClassName.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      }));\n    }\n\n    return classes.join(\" \");\n  };\n\n  return {\n    getHeaderRowStyle,\n    getHeaderRowClass,\n    getHeaderCellStyle,\n    getHeaderCellClass\n  };\n}\n\nconst getAllColumns = columns => {\n  const result = [];\n  columns.forEach(column => {\n    if (column.children) {\n      result.push(column);\n      result.push.apply(result, getAllColumns(column.children));\n    } else {\n      result.push(column);\n    }\n  });\n  return result;\n};\n\nconst convertToRows = originColumns => {\n  let maxLevel = 1;\n\n  const traverse = (column, parent) => {\n    if (parent) {\n      column.level = parent.level + 1;\n\n      if (maxLevel < column.level) {\n        maxLevel = column.level;\n      }\n    }\n\n    if (column.children) {\n      let colSpan = 0;\n      column.children.forEach(subColumn => {\n        traverse(subColumn, column);\n        colSpan += subColumn.colSpan;\n      });\n      column.colSpan = colSpan;\n    } else {\n      column.colSpan = 1;\n    }\n  };\n\n  originColumns.forEach(column => {\n    column.level = 1;\n    traverse(column, void 0);\n  });\n  const rows = [];\n\n  for (let i = 0; i < maxLevel; i++) {\n    rows.push([]);\n  }\n\n  const allColumns = getAllColumns(originColumns);\n  allColumns.forEach(column => {\n    if (!column.children) {\n      column.rowSpan = maxLevel - column.level + 1;\n    } else {\n      column.rowSpan = 1;\n    }\n\n    rows[column.level - 1].push(column);\n  });\n  return rows;\n};\n\nfunction useUtils(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const columnRows = computed(() => {\n    return convertToRows(props.store.states.originColumns.value);\n  });\n  const isGroup = computed(() => {\n    const result = columnRows.value.length > 1;\n    if (result) parent.state.isGroup.value = true;\n    return result;\n  });\n\n  const toggleAllSelection = event => {\n    event.stopPropagation();\n    parent.store.commit(\"toggleAllSelection\");\n  };\n\n  return {\n    isGroup,\n    toggleAllSelection,\n    columnRows\n  };\n}\n\nfunction hGutter() {\n  return h(\"col\", {\n    name: \"gutter\"\n  });\n}\n\nfunction hColgroup(columns, hasGutter = false) {\n  return h(\"colgroup\", {}, [...columns.map(column => h(\"col\", {\n    name: column.id,\n    key: column.id\n  })), hasGutter && hGutter()]);\n}\n\nvar TableHeader = defineComponent({\n  name: \"ElTableHeader\",\n  components: {\n    ElCheckbox\n  },\n  props: {\n    fixed: {\n      type: String,\n      default: \"\"\n    },\n    store: {\n      required: true,\n      type: Object\n    },\n    border: Boolean,\n    defaultSort: {\n      type: Object,\n      default: () => {\n        return {\n          prop: \"\",\n          order: \"\"\n        };\n      }\n    }\n  },\n\n  setup(props, {\n    emit\n  }) {\n    const instance = getCurrentInstance();\n    const parent = instance.parent;\n    const storeData = parent.store.states;\n    const filterPanels = ref({});\n    const {\n      tableLayout,\n      onColumnsChange,\n      onScrollableChange\n    } = useLayoutObserver(parent);\n    const hasGutter = computed(() => {\n      return !props.fixed && tableLayout.gutterWidth;\n    });\n    onMounted(() => {\n      nextTick(() => {\n        const {\n          prop,\n          order\n        } = props.defaultSort;\n        const init = true;\n        parent.store.commit(\"sort\", {\n          prop,\n          order,\n          init\n        });\n      });\n    });\n    const {\n      handleHeaderClick,\n      handleHeaderContextMenu,\n      handleMouseDown,\n      handleMouseMove,\n      handleMouseOut,\n      handleSortClick,\n      handleFilterClick\n    } = useEvent(props, emit);\n    const {\n      getHeaderRowStyle,\n      getHeaderRowClass,\n      getHeaderCellStyle,\n      getHeaderCellClass\n    } = useStyle(props);\n    const {\n      isGroup,\n      toggleAllSelection,\n      columnRows\n    } = useUtils(props);\n    instance.state = {\n      onColumnsChange,\n      onScrollableChange\n    };\n    instance.filterPanels = filterPanels;\n    return {\n      columns: storeData.columns,\n      filterPanels,\n      hasGutter,\n      onColumnsChange,\n      onScrollableChange,\n      columnRows,\n      getHeaderRowClass,\n      getHeaderRowStyle,\n      getHeaderCellClass,\n      getHeaderCellStyle,\n      handleHeaderClick,\n      handleHeaderContextMenu,\n      handleMouseDown,\n      handleMouseMove,\n      handleMouseOut,\n      handleSortClick,\n      handleFilterClick,\n      isGroup,\n      toggleAllSelection\n    };\n  },\n\n  render() {\n    return h(\"table\", {\n      border: \"0\",\n      cellpadding: \"0\",\n      cellspacing: \"0\",\n      class: \"el-table__header\"\n    }, [hColgroup(this.columns, this.hasGutter), h(\"thead\", {\n      class: {\n        \"is-group\": this.isGroup,\n        \"has-gutter\": this.hasGutter\n      }\n    }, this.columnRows.map((subColumns, rowIndex) => h(\"tr\", {\n      class: this.getHeaderRowClass(rowIndex),\n      key: rowIndex,\n      style: this.getHeaderRowStyle(rowIndex)\n    }, subColumns.map((column, cellIndex) => h(\"th\", {\n      class: this.getHeaderCellClass(rowIndex, cellIndex, subColumns, column),\n      colspan: column.colSpan,\n      key: `${column.id}-thead`,\n      rowSpan: column.rowSpan,\n      style: this.getHeaderCellStyle(rowIndex, cellIndex, subColumns, column),\n      onClick: $event => this.handleHeaderClick($event, column),\n      onContextmenu: $event => this.handleHeaderContextMenu($event, column),\n      onMousedown: $event => this.handleMouseDown($event, column),\n      onMousemove: $event => this.handleMouseMove($event, column),\n      onMouseout: this.handleMouseOut\n    }, [h(\"div\", {\n      class: [\"cell\", column.filteredValue && column.filteredValue.length > 0 ? \"highlight\" : \"\", column.labelClassName]\n    }, [column.renderHeader ? column.renderHeader({\n      column,\n      $index: cellIndex,\n      store: this.store,\n      _self: this.$parent\n    }) : column.label, column.sortable && h(\"span\", {\n      onClick: $event => this.handleSortClick($event, column),\n      class: \"caret-wrapper\"\n    }, [h(\"i\", {\n      onClick: $event => this.handleSortClick($event, column, \"ascending\"),\n      class: \"sort-caret ascending\"\n    }), h(\"i\", {\n      onClick: $event => this.handleSortClick($event, column, \"descending\"),\n      class: \"sort-caret descending\"\n    })]), column.filterable && h(script, {\n      store: this.$parent.store,\n      placement: column.filterPlacement || \"bottom-start\",\n      column,\n      upDataColumn: (key, value) => {\n        column[key] = value;\n      }\n    })])])))))]);\n  }\n\n});\n\nfunction useEvents(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const tooltipContent = ref(\"\");\n  const tooltipTrigger = ref(h(\"div\"));\n\n  const handleEvent = (event, row, name) => {\n    const table = parent;\n    const cell = getCell(event);\n    let column;\n\n    if (cell) {\n      column = getColumnByCell({\n        columns: props.store.states.columns.value\n      }, cell);\n\n      if (column) {\n        table.emit(`cell-${name}`, row, column, cell, event);\n      }\n    }\n\n    table.emit(`row-${name}`, row, column, event);\n  };\n\n  const handleDoubleClick = (event, row) => {\n    handleEvent(event, row, \"dblclick\");\n  };\n\n  const handleClick = (event, row) => {\n    props.store.commit(\"setCurrentRow\", row);\n    handleEvent(event, row, \"click\");\n  };\n\n  const handleContextMenu = (event, row) => {\n    handleEvent(event, row, \"contextmenu\");\n  };\n\n  const handleMouseEnter = debounce(function (index) {\n    props.store.commit(\"setHoverRow\", index);\n  }, 30);\n  const handleMouseLeave = debounce(function () {\n    props.store.commit(\"setHoverRow\", null);\n  }, 30);\n\n  const handleCellMouseEnter = (event, row) => {\n    const table = parent;\n    const cell = getCell(event);\n\n    if (cell) {\n      const column = getColumnByCell({\n        columns: props.store.states.columns.value\n      }, cell);\n      const hoverState = table.hoverState = {\n        cell,\n        column,\n        row\n      };\n      table.emit(\"cell-mouse-enter\", hoverState.row, hoverState.column, hoverState.cell, event);\n    }\n\n    const cellChild = event.target.querySelector(\".cell\");\n\n    if (!(hasClass(cellChild, \"el-tooltip\") && cellChild.childNodes.length)) {\n      return;\n    }\n\n    const range = document.createRange();\n    range.setStart(cellChild, 0);\n    range.setEnd(cellChild, cellChild.childNodes.length);\n    const rangeWidth = range.getBoundingClientRect().width;\n    const padding = (parseInt(getStyle(cellChild, \"paddingLeft\"), 10) || 0) + (parseInt(getStyle(cellChild, \"paddingRight\"), 10) || 0);\n\n    if (rangeWidth + padding > cellChild.offsetWidth || cellChild.scrollWidth > cellChild.offsetWidth) {\n      createTablePopper(cell, cell.innerText || cell.textContent, {\n        placement: \"top\",\n        strategy: \"fixed\"\n      }, row.tooltipEffect);\n    }\n  };\n\n  const handleCellMouseLeave = event => {\n    const cell = getCell(event);\n    if (!cell) return;\n    const oldHoverState = parent.hoverState;\n    parent.emit(\"cell-mouse-leave\", oldHoverState == null ? void 0 : oldHoverState.row, oldHoverState == null ? void 0 : oldHoverState.column, oldHoverState == null ? void 0 : oldHoverState.cell, event);\n  };\n\n  return {\n    handleDoubleClick,\n    handleClick,\n    handleContextMenu,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleCellMouseEnter,\n    handleCellMouseLeave,\n    tooltipContent,\n    tooltipTrigger\n  };\n}\n\nfunction useStyles(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n\n  const isColumnHidden = index => {\n    if (props.fixed === \"left\") {\n      return index >= props.store.states.fixedLeafColumnsLength.value;\n    } else if (props.fixed === \"right\") {\n      return index < props.store.states.columns.value.length - props.store.states.rightFixedLeafColumnsLength.value;\n    } else {\n      return index < props.store.states.fixedLeafColumnsLength.value || index >= props.store.states.columns.value.length - props.store.states.rightFixedLeafColumnsLength.value;\n    }\n  };\n\n  const getRowStyle = (row, rowIndex) => {\n    const rowStyle = parent.props.rowStyle;\n\n    if (typeof rowStyle === \"function\") {\n      return rowStyle.call(null, {\n        row,\n        rowIndex\n      });\n    }\n\n    return rowStyle || null;\n  };\n\n  const getRowClass = (row, rowIndex) => {\n    const classes = [\"el-table__row\"];\n\n    if (parent.props.highlightCurrentRow && row === props.store.states.currentRow.value) {\n      classes.push(\"current-row\");\n    }\n\n    if (props.stripe && rowIndex % 2 === 1) {\n      classes.push(\"el-table__row--striped\");\n    }\n\n    const rowClassName = parent.props.rowClassName;\n\n    if (typeof rowClassName === \"string\") {\n      classes.push(rowClassName);\n    } else if (typeof rowClassName === \"function\") {\n      classes.push(rowClassName.call(null, {\n        row,\n        rowIndex\n      }));\n    }\n\n    if (props.store.states.expandRows.value.indexOf(row) > -1) {\n      classes.push(\"expanded\");\n    }\n\n    return classes;\n  };\n\n  const getCellStyle = (rowIndex, columnIndex, row, column) => {\n    const cellStyle = parent.props.cellStyle;\n\n    if (typeof cellStyle === \"function\") {\n      return cellStyle.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      });\n    }\n\n    return cellStyle;\n  };\n\n  const getCellClass = (rowIndex, columnIndex, row, column) => {\n    const classes = [column.id, column.align, column.className];\n\n    if (isColumnHidden(columnIndex)) {\n      classes.push(\"is-hidden\");\n    }\n\n    const cellClassName = parent.props.cellClassName;\n\n    if (typeof cellClassName === \"string\") {\n      classes.push(cellClassName);\n    } else if (typeof cellClassName === \"function\") {\n      classes.push(cellClassName.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      }));\n    }\n\n    return classes.join(\" \");\n  };\n\n  const getSpan = (row, column, rowIndex, columnIndex) => {\n    let rowspan = 1;\n    let colspan = 1;\n    const fn = parent.props.spanMethod;\n\n    if (typeof fn === \"function\") {\n      const result = fn({\n        row,\n        column,\n        rowIndex,\n        columnIndex\n      });\n\n      if (Array.isArray(result)) {\n        rowspan = result[0];\n        colspan = result[1];\n      } else if (typeof result === \"object\") {\n        rowspan = result.rowspan;\n        colspan = result.colspan;\n      }\n    }\n\n    return {\n      rowspan,\n      colspan\n    };\n  };\n\n  const getColspanRealWidth = (columns, colspan, index) => {\n    if (colspan < 1) {\n      return columns[index].realWidth;\n    }\n\n    const widthArr = columns.map(({\n      realWidth,\n      width\n    }) => realWidth || width).slice(index, index + colspan);\n    return Number(widthArr.reduce((acc, width) => Number(acc) + Number(width), -1));\n  };\n\n  return {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth,\n    isColumnHidden\n  };\n}\n\nvar __defProp$4 = Object.defineProperty;\nvar __defProps$1 = Object.defineProperties;\nvar __getOwnPropDescs$1 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$4 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$4 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$4 = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp$4 = (obj, key, value) => key in obj ? __defProp$4(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues$4 = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp$4.call(b, prop)) __defNormalProp$4(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols$4) for (var prop of __getOwnPropSymbols$4(b)) {\n    if (__propIsEnum$4.call(b, prop)) __defNormalProp$4(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps$1 = (a, b) => __defProps$1(a, __getOwnPropDescs$1(b));\n\nfunction useRender(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const {\n    handleDoubleClick,\n    handleClick,\n    handleContextMenu,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleCellMouseEnter,\n    handleCellMouseLeave,\n    tooltipContent,\n    tooltipTrigger\n  } = useEvents(props);\n  const {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth\n  } = useStyles(props);\n  const firstDefaultColumnIndex = computed(() => {\n    return arrayFindIndex(props.store.states.columns.value, ({\n      type\n    }) => type === \"default\");\n  });\n\n  const getKeyOfRow = (row, index) => {\n    const rowKey = parent.props.rowKey;\n\n    if (rowKey) {\n      return getRowIdentity(row, rowKey);\n    }\n\n    return index;\n  };\n\n  const rowRender = (row, $index, treeRowData) => {\n    const {\n      tooltipEffect,\n      store\n    } = props;\n    const {\n      indent,\n      columns\n    } = store.states;\n    const rowClasses = getRowClass(row, $index);\n    let display = true;\n\n    if (treeRowData) {\n      rowClasses.push(\"el-table__row--level-\" + treeRowData.level);\n      display = treeRowData.display;\n    }\n\n    const displayStyle = display ? null : {\n      display: \"none\"\n    };\n    return h(\"tr\", {\n      style: [displayStyle, getRowStyle(row, $index)],\n      class: rowClasses,\n      key: getKeyOfRow(row, $index),\n      onDblclick: $event => handleDoubleClick($event, row),\n      onClick: $event => handleClick($event, row),\n      onContextmenu: $event => handleContextMenu($event, row),\n      onMouseenter: () => handleMouseEnter($index),\n      onMouseleave: handleMouseLeave\n    }, columns.value.map((column, cellIndex) => {\n      const {\n        rowspan,\n        colspan\n      } = getSpan(row, column, $index, cellIndex);\n\n      if (!rowspan || !colspan) {\n        return null;\n      }\n\n      const columnData = __spreadValues$4({}, column);\n\n      columnData.realWidth = getColspanRealWidth(columns.value, colspan, cellIndex);\n      const data = {\n        store: props.store,\n        _self: props.context || parent,\n        column: columnData,\n        row,\n        $index\n      };\n\n      if (cellIndex === firstDefaultColumnIndex.value && treeRowData) {\n        data.treeNode = {\n          indent: treeRowData.level * indent.value,\n          level: treeRowData.level\n        };\n\n        if (typeof treeRowData.expanded === \"boolean\") {\n          data.treeNode.expanded = treeRowData.expanded;\n\n          if (\"loading\" in treeRowData) {\n            data.treeNode.loading = treeRowData.loading;\n          }\n\n          if (\"noLazyChildren\" in treeRowData) {\n            data.treeNode.noLazyChildren = treeRowData.noLazyChildren;\n          }\n        }\n      }\n\n      const baseKey = `${$index},${cellIndex}`;\n      const patchKey = columnData.columnKey || columnData.rawColumnKey || \"\";\n      return h(\"td\", {\n        style: getCellStyle($index, cellIndex, row, column),\n        class: getCellClass($index, cellIndex, row, column),\n        key: `${patchKey}${baseKey}`,\n        rowspan,\n        colspan,\n        onMouseenter: $event => handleCellMouseEnter($event, __spreadProps$1(__spreadValues$4({}, row), {\n          tooltipEffect\n        })),\n        onMouseleave: handleCellMouseLeave\n      }, [column.renderCell(data)]);\n    }));\n  };\n\n  const wrappedRowRender = (row, $index) => {\n    const store = props.store;\n    const {\n      isRowExpanded,\n      assertRowKey\n    } = store;\n    const {\n      treeData,\n      lazyTreeNodeMap,\n      childrenColumnName,\n      rowKey\n    } = store.states;\n    const hasExpandColumn = store.states.columns.value.some(({\n      type\n    }) => type === \"expand\");\n\n    if (hasExpandColumn && isRowExpanded(row)) {\n      const renderExpanded = parent.renderExpanded;\n      const tr = rowRender(row, $index, void 0);\n\n      if (!renderExpanded) {\n        console.error(\"[Element Error]renderExpanded is required.\");\n        return tr;\n      }\n\n      return [[tr, h(\"tr\", {\n        key: \"expanded-row__\" + tr.key\n      }, [h(\"td\", {\n        colspan: store.states.columns.value.length,\n        class: \"el-table__expanded-cell\"\n      }, [renderExpanded({\n        row,\n        $index,\n        store\n      })])])]];\n    } else if (Object.keys(treeData.value).length) {\n      assertRowKey();\n      const key = getRowIdentity(row, rowKey.value);\n      let cur = treeData.value[key];\n      let treeRowData = null;\n\n      if (cur) {\n        treeRowData = {\n          expanded: cur.expanded,\n          level: cur.level,\n          display: true\n        };\n\n        if (typeof cur.lazy === \"boolean\") {\n          if (typeof cur.loaded === \"boolean\" && cur.loaded) {\n            treeRowData.noLazyChildren = !(cur.children && cur.children.length);\n          }\n\n          treeRowData.loading = cur.loading;\n        }\n      }\n\n      const tmp = [rowRender(row, $index, treeRowData)];\n\n      if (cur) {\n        let i = 0;\n\n        const traverse = (children, parent2) => {\n          if (!(children && children.length && parent2)) return;\n          children.forEach(node => {\n            const innerTreeRowData = {\n              display: parent2.display && parent2.expanded,\n              level: parent2.level + 1,\n              expanded: false,\n              noLazyChildren: false,\n              loading: false\n            };\n            const childKey = getRowIdentity(node, rowKey.value);\n\n            if (childKey === void 0 || childKey === null) {\n              throw new Error(\"for nested data item, row-key is required.\");\n            }\n\n            cur = __spreadValues$4({}, treeData.value[childKey]);\n\n            if (cur) {\n              innerTreeRowData.expanded = cur.expanded;\n              cur.level = cur.level || innerTreeRowData.level;\n              cur.display = !!(cur.expanded && innerTreeRowData.display);\n\n              if (typeof cur.lazy === \"boolean\") {\n                if (typeof cur.loaded === \"boolean\" && cur.loaded) {\n                  innerTreeRowData.noLazyChildren = !(cur.children && cur.children.length);\n                }\n\n                innerTreeRowData.loading = cur.loading;\n              }\n            }\n\n            i++;\n            tmp.push(rowRender(node, $index + i, innerTreeRowData));\n\n            if (cur) {\n              const nodes2 = lazyTreeNodeMap.value[childKey] || node[childrenColumnName.value];\n              traverse(nodes2, cur);\n            }\n          });\n        };\n\n        cur.display = true;\n        const nodes = lazyTreeNodeMap.value[key] || row[childrenColumnName.value];\n        traverse(nodes, cur);\n      }\n\n      return tmp;\n    } else {\n      return rowRender(row, $index, void 0);\n    }\n  };\n\n  return {\n    wrappedRowRender,\n    tooltipContent,\n    tooltipTrigger\n  };\n}\n\nconst defaultProps = {\n  store: {\n    required: true,\n    type: Object\n  },\n  stripe: Boolean,\n  tooltipEffect: String,\n  context: {\n    default: () => ({}),\n    type: Object\n  },\n  rowClassName: [String, Function],\n  rowStyle: [Object, Function],\n  fixed: {\n    type: String,\n    default: \"\"\n  },\n  highlight: Boolean\n};\nvar TableBody = defineComponent({\n  name: \"ElTableBody\",\n  props: defaultProps,\n\n  setup(props) {\n    const instance = getCurrentInstance();\n    const parent = instance.parent;\n    const {\n      wrappedRowRender,\n      tooltipContent,\n      tooltipTrigger\n    } = useRender(props);\n    const {\n      onColumnsChange,\n      onScrollableChange\n    } = useLayoutObserver(parent);\n    watch(props.store.states.hoverRow, (newVal, oldVal) => {\n      if (!props.store.states.isComplex.value || isServer) return;\n      let raf = window.requestAnimationFrame;\n\n      if (!raf) {\n        raf = fn => window.setTimeout(fn, 16);\n      }\n\n      raf(() => {\n        const rows = instance.vnode.el.querySelectorAll(\".el-table__row\");\n        const oldRow = rows[oldVal];\n        const newRow = rows[newVal];\n\n        if (oldRow) {\n          removeClass(oldRow, \"hover-row\");\n        }\n\n        if (newRow) {\n          addClass(newRow, \"hover-row\");\n        }\n      });\n    });\n    onUnmounted(() => {\n      var _a;\n\n      (_a = removePopper) == null ? void 0 : _a();\n    });\n    onUpdated(() => {\n      var _a;\n\n      (_a = removePopper) == null ? void 0 : _a();\n    });\n    return {\n      onColumnsChange,\n      onScrollableChange,\n      wrappedRowRender,\n      tooltipContent,\n      tooltipTrigger\n    };\n  },\n\n  render() {\n    const data = this.store.states.data.value || [];\n    return h(\"table\", {\n      class: \"el-table__body\",\n      cellspacing: \"0\",\n      cellpadding: \"0\",\n      border: \"0\"\n    }, [hColgroup(this.store.states.columns.value), h(\"tbody\", {}, [data.reduce((acc, row) => {\n      return acc.concat(this.wrappedRowRender(row, acc.length));\n    }, [])])]);\n  }\n\n});\n\nfunction useMapState() {\n  const instance = getCurrentInstance();\n  const table = instance.parent;\n  const store = table.store;\n  const leftFixedLeafCount = computed(() => {\n    return store.states.fixedLeafColumnsLength.value;\n  });\n  const rightFixedLeafCount = computed(() => {\n    return store.states.rightFixedColumns.value.length;\n  });\n  const columnsCount = computed(() => {\n    return store.states.columns.value.length;\n  });\n  const leftFixedCount = computed(() => {\n    return store.states.fixedColumns.value.length;\n  });\n  const rightFixedCount = computed(() => {\n    return store.states.rightFixedColumns.value.length;\n  });\n  return {\n    leftFixedLeafCount,\n    rightFixedLeafCount,\n    columnsCount,\n    leftFixedCount,\n    rightFixedCount,\n    columns: store.states.columns\n  };\n}\n\nfunction useStyle$1(props) {\n  const instance = getCurrentInstance();\n  const table = instance.parent;\n  const store = table.store;\n  const {\n    leftFixedLeafCount,\n    rightFixedLeafCount,\n    columnsCount,\n    leftFixedCount,\n    rightFixedCount,\n    columns\n  } = useMapState();\n  const hasGutter = computed(() => {\n    return !props.fixed && table.layout.gutterWidth;\n  });\n\n  const isCellHidden = (index, columns2, column) => {\n    if (props.fixed || props.fixed === \"left\") {\n      return index >= leftFixedLeafCount.value;\n    } else if (props.fixed === \"right\") {\n      let before = 0;\n\n      for (let i = 0; i < index; i++) {\n        before += columns2[i].colSpan;\n      }\n\n      return before < columnsCount.value - rightFixedLeafCount.value;\n    } else if (!props.fixed && column.fixed) {\n      return true;\n    } else {\n      return index < leftFixedCount.value || index >= columnsCount.value - rightFixedCount.value;\n    }\n  };\n\n  const getRowClasses = (column, cellIndex) => {\n    const classes = [column.id, column.align, column.labelClassName];\n\n    if (column.className) {\n      classes.push(column.className);\n    }\n\n    if (isCellHidden(cellIndex, store.states.columns.value, column)) {\n      classes.push(\"is-hidden\");\n    }\n\n    if (!column.children) {\n      classes.push(\"is-leaf\");\n    }\n\n    return classes;\n  };\n\n  return {\n    hasGutter,\n    getRowClasses,\n    columns\n  };\n}\n\nvar TableFooter = defineComponent({\n  name: \"ElTableFooter\",\n  props: {\n    fixed: {\n      type: String,\n      default: \"\"\n    },\n    store: {\n      required: true,\n      type: Object\n    },\n    summaryMethod: Function,\n    sumText: String,\n    border: Boolean,\n    defaultSort: {\n      type: Object,\n      default: () => {\n        return {\n          prop: \"\",\n          order: \"\"\n        };\n      }\n    }\n  },\n\n  setup(props) {\n    const {\n      hasGutter,\n      getRowClasses,\n      columns\n    } = useStyle$1(props);\n    return {\n      getRowClasses,\n      hasGutter,\n      columns\n    };\n  },\n\n  render() {\n    let sums = [];\n\n    if (this.summaryMethod) {\n      sums = this.summaryMethod({\n        columns: this.columns,\n        data: this.store.states.data.value\n      });\n    } else {\n      this.columns.forEach((column, index) => {\n        if (index === 0) {\n          sums[index] = this.sumText;\n          return;\n        }\n\n        const values = this.store.states.data.value.map(item => Number(item[column.property]));\n        const precisions = [];\n        let notNumber = true;\n        values.forEach(value => {\n          if (!isNaN(value)) {\n            notNumber = false;\n            const decimal = (\"\" + value).split(\".\")[1];\n            precisions.push(decimal ? decimal.length : 0);\n          }\n        });\n        const precision = Math.max.apply(null, precisions);\n\n        if (!notNumber) {\n          sums[index] = values.reduce((prev, curr) => {\n            const value = Number(curr);\n\n            if (!isNaN(value)) {\n              return parseFloat((prev + curr).toFixed(Math.min(precision, 20)));\n            } else {\n              return prev;\n            }\n          }, 0);\n        } else {\n          sums[index] = \"\";\n        }\n      });\n    }\n\n    return h(\"table\", {\n      class: \"el-table__footer\",\n      cellspacing: \"0\",\n      cellpadding: \"0\",\n      border: \"0\"\n    }, [hColgroup(this.columns, this.hasGutter), h(\"tbody\", {\n      class: [{\n        \"has-gutter\": this.hasGutter\n      }]\n    }, [h(\"tr\", {}, [...this.columns.map((column, cellIndex) => h(\"td\", {\n      key: cellIndex,\n      colspan: column.colSpan,\n      rowspan: column.rowSpan,\n      class: this.getRowClasses(column, cellIndex)\n    }, [h(\"div\", {\n      class: [\"cell\", column.labelClassName]\n    }, [sums[cellIndex]])])), this.hasGutter && hGutter()])])]);\n  }\n\n});\n\nfunction useUtils$1(store) {\n  const setCurrentRow = row => {\n    store.commit(\"setCurrentRow\", row);\n  };\n\n  const toggleRowSelection = (row, selected) => {\n    store.toggleRowSelection(row, selected, false);\n    store.updateAllSelected();\n  };\n\n  const clearSelection = () => {\n    store.clearSelection();\n  };\n\n  const clearFilter = columnKeys => {\n    store.clearFilter(columnKeys);\n  };\n\n  const toggleAllSelection = () => {\n    store.commit(\"toggleAllSelection\");\n  };\n\n  const toggleRowExpansion = (row, expanded) => {\n    store.toggleRowExpansionAdapter(row, expanded);\n  };\n\n  const clearSort = () => {\n    store.clearSort();\n  };\n\n  const sort = (prop, order) => {\n    store.commit(\"sort\", {\n      prop,\n      order\n    });\n  };\n\n  return {\n    setCurrentRow,\n    toggleRowSelection,\n    clearSelection,\n    clearFilter,\n    toggleAllSelection,\n    toggleRowExpansion,\n    clearSort,\n    sort\n  };\n}\n\nfunction useStyle$2(props, layout, store, table) {\n  const $ELEMENT = useGlobalConfig();\n  const isHidden = ref(false);\n  const renderExpanded = ref(null);\n  const resizeProxyVisible = ref(false);\n\n  const setDragVisible = visible => {\n    resizeProxyVisible.value = visible;\n  };\n\n  const resizeState = ref({\n    width: null,\n    height: null\n  });\n  const isGroup = ref(false);\n  watchEffect(() => {\n    layout.setHeight(props.height);\n  });\n  watchEffect(() => {\n    layout.setMaxHeight(props.maxHeight);\n  });\n  watch(() => [props.currentRowKey, store.states.rowKey], ([currentRowKey, rowKey]) => {\n    if (!unref(rowKey)) return;\n    store.setCurrentRowKey(currentRowKey + \"\");\n  }, {\n    immediate: true\n  });\n  watch(() => props.data, data => {\n    table.store.commit(\"setData\", data);\n  }, {\n    immediate: true,\n    deep: true\n  });\n  watchEffect(() => {\n    if (props.expandRowKeys) {\n      store.setExpandRowKeysAdapter(props.expandRowKeys);\n    }\n  });\n\n  const handleMouseLeave = () => {\n    table.store.commit(\"setHoverRow\", null);\n    if (table.hoverState) table.hoverState = null;\n  };\n\n  const handleHeaderFooterMousewheel = (event, data) => {\n    const {\n      pixelX,\n      pixelY\n    } = data;\n\n    if (Math.abs(pixelX) >= Math.abs(pixelY)) {\n      table.refs.bodyWrapper.scrollLeft += data.pixelX / 5;\n    }\n  };\n\n  const shouldUpdateHeight = computed(() => {\n    return props.height || props.maxHeight || store.states.fixedColumns.value.length > 0 || store.states.rightFixedColumns.value.length > 0;\n  });\n\n  const doLayout = () => {\n    if (shouldUpdateHeight.value) {\n      layout.updateElsHeight();\n    }\n\n    layout.updateColumnsWidth();\n    syncPostion();\n  };\n\n  onMounted(() => {\n    setScrollClass(\"is-scrolling-left\");\n    bindEvents();\n    store.updateColumns();\n    doLayout();\n    resizeState.value = {\n      width: table.vnode.el.offsetWidth,\n      height: table.vnode.el.offsetHeight\n    };\n    store.states.columns.value.forEach(column => {\n      if (column.filteredValue && column.filteredValue.length) {\n        table.store.commit(\"filterChange\", {\n          column,\n          values: column.filteredValue,\n          silent: true\n        });\n      }\n    });\n    table.$ready = true;\n  });\n\n  const setScrollClassByEl = (el, className) => {\n    if (!el) return;\n    const classList = Array.from(el.classList).filter(item => !item.startsWith(\"is-scrolling-\"));\n    classList.push(layout.scrollX.value ? className : \"is-scrolling-none\");\n    el.className = classList.join(\" \");\n  };\n\n  const setScrollClass = className => {\n    const {\n      bodyWrapper\n    } = table.refs;\n    setScrollClassByEl(bodyWrapper, className);\n  };\n\n  const syncPostion = throttle(function () {\n    if (!table.refs.bodyWrapper) return;\n    const {\n      scrollLeft,\n      scrollTop,\n      offsetWidth,\n      scrollWidth\n    } = table.refs.bodyWrapper;\n    const {\n      headerWrapper,\n      footerWrapper,\n      fixedBodyWrapper,\n      rightFixedBodyWrapper\n    } = table.refs;\n    if (headerWrapper) headerWrapper.scrollLeft = scrollLeft;\n    if (footerWrapper) footerWrapper.scrollLeft = scrollLeft;\n    if (fixedBodyWrapper) fixedBodyWrapper.scrollTop = scrollTop;\n    if (rightFixedBodyWrapper) rightFixedBodyWrapper.scrollTop = scrollTop;\n    const maxScrollLeftPosition = scrollWidth - offsetWidth - 1;\n\n    if (scrollLeft >= maxScrollLeftPosition) {\n      setScrollClass(\"is-scrolling-right\");\n    } else if (scrollLeft === 0) {\n      setScrollClass(\"is-scrolling-left\");\n    } else {\n      setScrollClass(\"is-scrolling-middle\");\n    }\n  }, 10);\n\n  const bindEvents = () => {\n    window.addEventListener(\"resize\", doLayout);\n    table.refs.bodyWrapper.addEventListener(\"scroll\", syncPostion, {\n      passive: true\n    });\n\n    if (props.fit) {\n      addResizeListener(table.vnode.el, resizeListener);\n    }\n  };\n\n  onUnmounted(() => {\n    unbindEvents();\n  });\n\n  const unbindEvents = () => {\n    var _a;\n\n    (_a = table.refs.bodyWrapper) == null ? void 0 : _a.removeEventListener(\"scroll\", syncPostion, true);\n    window.removeEventListener(\"resize\", doLayout);\n\n    if (props.fit) {\n      removeResizeListener(table.vnode.el, resizeListener);\n    }\n  };\n\n  const resizeListener = () => {\n    if (!table.$ready) return;\n    let shouldUpdateLayout = false;\n    const el = table.vnode.el;\n    const {\n      width: oldWidth,\n      height: oldHeight\n    } = resizeState.value;\n    const width = el.offsetWidth;\n\n    if (oldWidth !== width) {\n      shouldUpdateLayout = true;\n    }\n\n    const height = el.offsetHeight;\n\n    if ((props.height || shouldUpdateHeight.value) && oldHeight !== height) {\n      shouldUpdateLayout = true;\n    }\n\n    if (shouldUpdateLayout) {\n      resizeState.value = {\n        width,\n        height\n      };\n      doLayout();\n    }\n  };\n\n  const tableSize = computed(() => {\n    return props.size || $ELEMENT.size;\n  });\n  const bodyWidth = computed(() => {\n    const {\n      bodyWidth: bodyWidth_,\n      scrollY,\n      gutterWidth\n    } = layout;\n    return bodyWidth_.value ? bodyWidth_.value - (scrollY.value ? gutterWidth : 0) + \"px\" : \"\";\n  });\n  const bodyHeight = computed(() => {\n    const headerHeight = layout.headerHeight.value || 0;\n    const bodyHeight2 = layout.bodyHeight.value;\n    const footerHeight = layout.footerHeight.value || 0;\n\n    if (props.height) {\n      return {\n        height: bodyHeight2 ? bodyHeight2 + \"px\" : \"\"\n      };\n    } else if (props.maxHeight) {\n      const maxHeight = parseHeight(props.maxHeight);\n\n      if (typeof maxHeight === \"number\") {\n        return {\n          \"max-height\": maxHeight - footerHeight - (props.showHeader ? headerHeight : 0) + \"px\"\n        };\n      }\n    }\n\n    return {};\n  });\n  const emptyBlockStyle = computed(() => {\n    if (props.data && props.data.length) return null;\n    let height = \"100%\";\n\n    if (layout.appendHeight.value) {\n      height = `calc(100% - ${layout.appendHeight.value}px)`;\n    }\n\n    return {\n      width: bodyWidth.value,\n      height\n    };\n  });\n\n  const handleFixedMousewheel = (event, data) => {\n    const bodyWrapper = table.refs.bodyWrapper;\n\n    if (Math.abs(data.spinY) > 0) {\n      const currentScrollTop = bodyWrapper.scrollTop;\n\n      if (data.pixelY < 0 && currentScrollTop !== 0) {\n        event.preventDefault();\n      }\n\n      if (data.pixelY > 0 && bodyWrapper.scrollHeight - bodyWrapper.clientHeight > currentScrollTop) {\n        event.preventDefault();\n      }\n\n      bodyWrapper.scrollTop += Math.ceil(data.pixelY / 5);\n    } else {\n      bodyWrapper.scrollLeft += Math.ceil(data.pixelX / 5);\n    }\n  };\n\n  const fixedHeight = computed(() => {\n    if (props.maxHeight) {\n      if (props.showSummary) {\n        return {\n          bottom: 0\n        };\n      }\n\n      return {\n        bottom: layout.scrollX.value && props.data.length ? layout.gutterWidth + \"px\" : \"\"\n      };\n    } else {\n      if (props.showSummary) {\n        return {\n          height: layout.tableHeight.value ? layout.tableHeight.value + \"px\" : \"\"\n        };\n      }\n\n      return {\n        height: layout.viewportHeight.value ? layout.viewportHeight.value + \"px\" : \"\"\n      };\n    }\n  });\n  const fixedBodyHeight = computed(() => {\n    if (props.height) {\n      return {\n        height: layout.fixedBodyHeight.value ? layout.fixedBodyHeight.value + \"px\" : \"\"\n      };\n    } else if (props.maxHeight) {\n      let maxHeight = parseHeight(props.maxHeight);\n\n      if (typeof maxHeight === \"number\") {\n        maxHeight = layout.scrollX.value ? maxHeight - layout.gutterWidth : maxHeight;\n\n        if (props.showHeader) {\n          maxHeight -= layout.headerHeight.value;\n        }\n\n        maxHeight -= layout.footerHeight.value;\n        return {\n          \"max-height\": maxHeight + \"px\"\n        };\n      }\n    }\n\n    return {};\n  });\n  return {\n    isHidden,\n    renderExpanded,\n    setDragVisible,\n    isGroup,\n    handleMouseLeave,\n    handleHeaderFooterMousewheel,\n    tableSize,\n    bodyHeight,\n    emptyBlockStyle,\n    handleFixedMousewheel,\n    fixedHeight,\n    fixedBodyHeight,\n    resizeProxyVisible,\n    bodyWidth,\n    resizeState,\n    doLayout\n  };\n}\n\nvar defaultProps$1 = {\n  data: {\n    type: Array,\n    default: () => {\n      return [];\n    }\n  },\n  size: String,\n  width: [String, Number],\n  height: [String, Number],\n  maxHeight: [String, Number],\n  fit: {\n    type: Boolean,\n    default: true\n  },\n  stripe: Boolean,\n  border: Boolean,\n  rowKey: [String, Function],\n  showHeader: {\n    type: Boolean,\n    default: true\n  },\n  showSummary: Boolean,\n  sumText: String,\n  summaryMethod: Function,\n  rowClassName: [String, Function],\n  rowStyle: [Object, Function],\n  cellClassName: [String, Function],\n  cellStyle: [Object, Function],\n  headerRowClassName: [String, Function],\n  headerRowStyle: [Object, Function],\n  headerCellClassName: [String, Function],\n  headerCellStyle: [Object, Function],\n  highlightCurrentRow: Boolean,\n  currentRowKey: [String, Number],\n  emptyText: String,\n  expandRowKeys: Array,\n  defaultExpandAll: Boolean,\n  defaultSort: Object,\n  tooltipEffect: String,\n  spanMethod: Function,\n  selectOnIndeterminate: {\n    type: Boolean,\n    default: true\n  },\n  indent: {\n    type: Number,\n    default: 16\n  },\n  treeProps: {\n    type: Object,\n    default: () => {\n      return {\n        hasChildren: \"hasChildren\",\n        children: \"children\"\n      };\n    }\n  },\n  lazy: Boolean,\n  load: Function,\n  style: {\n    type: Object,\n    default: () => ({})\n  },\n  className: {\n    type: String,\n    default: \"\"\n  }\n};\nlet tableIdSeed = 1;\nvar script$1 = defineComponent({\n  name: \"ElTable\",\n  directives: {\n    Mousewheel\n  },\n  components: {\n    TableHeader,\n    TableBody,\n    TableFooter\n  },\n  props: defaultProps$1,\n  emits: [\"select\", \"select-all\", \"selection-change\", \"cell-mouse-enter\", \"cell-mouse-leave\", \"cell-contextmenu\", \"cell-click\", \"cell-dblclick\", \"row-click\", \"row-contextmenu\", \"row-dblclick\", \"header-click\", \"header-contextmenu\", \"sort-change\", \"filter-change\", \"current-change\", \"header-dragend\", \"expand-change\"],\n\n  setup(props) {\n    const {\n      t\n    } = useLocaleInject();\n    let table = getCurrentInstance();\n    const store = createStore(table, props);\n    table.store = store;\n    const layout = new TableLayout({\n      store: table.store,\n      table,\n      fit: props.fit,\n      showHeader: props.showHeader\n    });\n    table.layout = layout;\n    const isEmpty = computed(() => (store.states.data.value || []).length === 0);\n    const {\n      setCurrentRow,\n      toggleRowSelection,\n      clearSelection,\n      clearFilter,\n      toggleAllSelection,\n      toggleRowExpansion,\n      clearSort,\n      sort\n    } = useUtils$1(store);\n    const {\n      isHidden,\n      renderExpanded,\n      setDragVisible,\n      isGroup,\n      handleMouseLeave,\n      handleHeaderFooterMousewheel,\n      tableSize,\n      bodyHeight,\n      emptyBlockStyle,\n      handleFixedMousewheel,\n      fixedHeight,\n      fixedBodyHeight,\n      resizeProxyVisible,\n      bodyWidth,\n      resizeState,\n      doLayout\n    } = useStyle$2(props, layout, store, table);\n    const debouncedUpdateLayout = debounce(doLayout, 50);\n    const tableId = \"el-table_\" + tableIdSeed++;\n    table.tableId = tableId;\n    table.state = {\n      isGroup,\n      resizeState,\n      doLayout,\n      debouncedUpdateLayout\n    };\n    return {\n      layout,\n      store,\n      handleHeaderFooterMousewheel,\n      handleMouseLeave,\n      tableId,\n      tableSize,\n      isHidden,\n      isEmpty,\n      renderExpanded,\n      resizeProxyVisible,\n      resizeState,\n      isGroup,\n      bodyWidth,\n      bodyHeight,\n      emptyBlockStyle,\n      debouncedUpdateLayout,\n      handleFixedMousewheel,\n      fixedHeight,\n      fixedBodyHeight,\n      setCurrentRow,\n      toggleRowSelection,\n      clearSelection,\n      clearFilter,\n      toggleAllSelection,\n      toggleRowExpansion,\n      clearSort,\n      doLayout,\n      sort,\n      t,\n      setDragVisible,\n      context: table\n    };\n  }\n\n});\nconst _hoisted_1$1 = {\n  ref: \"hiddenColumns\",\n  class: \"hidden-columns\"\n};\nconst _hoisted_2$1 = {\n  key: 0,\n  ref: \"headerWrapper\",\n  class: \"el-table__header-wrapper\"\n};\nconst _hoisted_3$1 = {\n  class: \"el-table__empty-text\"\n};\nconst _hoisted_4$1 = {\n  key: 1,\n  ref: \"appendWrapper\",\n  class: \"el-table__append-wrapper\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  ref: \"footerWrapper\",\n  class: \"el-table__footer-wrapper\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  ref: \"fixedHeaderWrapper\",\n  class: \"el-table__fixed-header-wrapper\"\n};\nconst _hoisted_7 = {\n  key: 1,\n  ref: \"fixedFooterWrapper\",\n  class: \"el-table__fixed-footer-wrapper\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  ref: \"rightFixedHeaderWrapper\",\n  class: \"el-table__fixed-header-wrapper\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  ref: \"rightFixedFooterWrapper\",\n  class: \"el-table__fixed-footer-wrapper\"\n};\nconst _hoisted_10 = {\n  ref: \"resizeProxy\",\n  class: \"el-table__column-resize-proxy\"\n};\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_table_header = resolveComponent(\"table-header\");\n\n  const _component_table_body = resolveComponent(\"table-body\");\n\n  const _component_table_footer = resolveComponent(\"table-footer\");\n\n  const _directive_mousewheel = resolveDirective(\"mousewheel\");\n\n  return openBlock(), createBlock(\"div\", {\n    class: [{\n      \"el-table--fit\": _ctx.fit,\n      \"el-table--striped\": _ctx.stripe,\n      \"el-table--border\": _ctx.border || _ctx.isGroup,\n      \"el-table--hidden\": _ctx.isHidden,\n      \"el-table--group\": _ctx.isGroup,\n      \"el-table--fluid-height\": _ctx.maxHeight,\n      \"el-table--scrollable-x\": _ctx.layout.scrollX.value,\n      \"el-table--scrollable-y\": _ctx.layout.scrollY.value,\n      \"el-table--enable-row-hover\": !_ctx.store.states.isComplex.value,\n      \"el-table--enable-row-transition\": (_ctx.store.states.data.value || []).length !== 0 && (_ctx.store.states.data.value || []).length < 100\n    }, _ctx.tableSize ? `el-table--${_ctx.tableSize}` : \"\", _ctx.className, \"el-table\"],\n    style: _ctx.style,\n    onMouseleave: _cache[1] || (_cache[1] = $event => _ctx.handleMouseLeave())\n  }, [createVNode(\"div\", _hoisted_1$1, [renderSlot(_ctx.$slots, \"default\")], 512), _ctx.showHeader ? withDirectives((openBlock(), createBlock(\"div\", _hoisted_2$1, [createVNode(_component_table_header, {\n    ref: \"tableHeader\",\n    border: _ctx.border,\n    \"default-sort\": _ctx.defaultSort,\n    store: _ctx.store,\n    style: {\n      width: _ctx.layout.bodyWidth.value ? _ctx.layout.bodyWidth.value + \"px\" : \"\"\n    },\n    onSetDragVisible: _ctx.setDragVisible\n  }, null, 8, [\"border\", \"default-sort\", \"store\", \"style\", \"onSetDragVisible\"])], 512)), [[_directive_mousewheel, _ctx.handleHeaderFooterMousewheel]]) : createCommentVNode(\"v-if\", true), createVNode(\"div\", {\n    ref: \"bodyWrapper\",\n    style: [_ctx.bodyHeight],\n    class: \"el-table__body-wrapper\"\n  }, [createVNode(_component_table_body, {\n    context: _ctx.context,\n    highlight: _ctx.highlightCurrentRow,\n    \"row-class-name\": _ctx.rowClassName,\n    \"tooltip-effect\": _ctx.tooltipEffect,\n    \"row-style\": _ctx.rowStyle,\n    store: _ctx.store,\n    stripe: _ctx.stripe,\n    style: {\n      width: _ctx.bodyWidth\n    }\n  }, null, 8, [\"context\", \"highlight\", \"row-class-name\", \"tooltip-effect\", \"row-style\", \"store\", \"stripe\", \"style\"]), _ctx.isEmpty ? (openBlock(), createBlock(\"div\", {\n    key: 0,\n    ref: \"emptyBlock\",\n    style: _ctx.emptyBlockStyle,\n    class: \"el-table__empty-block\"\n  }, [createVNode(\"span\", _hoisted_3$1, [renderSlot(_ctx.$slots, \"empty\", {}, () => [createTextVNode(toDisplayString(_ctx.emptyText || _ctx.t(\"el.table.emptyText\")), 1)])])], 4)) : createCommentVNode(\"v-if\", true), _ctx.$slots.append ? (openBlock(), createBlock(\"div\", _hoisted_4$1, [renderSlot(_ctx.$slots, \"append\")], 512)) : createCommentVNode(\"v-if\", true)], 4), _ctx.showSummary ? withDirectives((openBlock(), createBlock(\"div\", _hoisted_5, [createVNode(_component_table_footer, {\n    border: _ctx.border,\n    \"default-sort\": _ctx.defaultSort,\n    store: _ctx.store,\n    style: {\n      width: _ctx.layout.bodyWidth.value ? _ctx.layout.bodyWidth.value + \"px\" : \"\"\n    },\n    \"sum-text\": _ctx.sumText || _ctx.t(\"el.table.sumText\"),\n    \"summary-method\": _ctx.summaryMethod\n  }, null, 8, [\"border\", \"default-sort\", \"store\", \"style\", \"sum-text\", \"summary-method\"])], 512)), [[vShow, !_ctx.isEmpty], [_directive_mousewheel, _ctx.handleHeaderFooterMousewheel]]) : createCommentVNode(\"v-if\", true), _ctx.store.states.fixedColumns.value.length > 0 ? withDirectives((openBlock(), createBlock(\"div\", {\n    key: 2,\n    ref: \"fixedWrapper\",\n    style: [{\n      width: _ctx.layout.fixedWidth.value ? _ctx.layout.fixedWidth.value + \"px\" : \"\"\n    }, _ctx.fixedHeight],\n    class: \"el-table__fixed\"\n  }, [_ctx.showHeader ? (openBlock(), createBlock(\"div\", _hoisted_6, [createVNode(_component_table_header, {\n    ref: \"fixedTableHeader\",\n    border: _ctx.border,\n    store: _ctx.store,\n    style: {\n      width: _ctx.bodyWidth\n    },\n    fixed: \"left\",\n    onSetDragVisible: _ctx.setDragVisible\n  }, null, 8, [\"border\", \"store\", \"style\", \"onSetDragVisible\"])], 512)) : createCommentVNode(\"v-if\", true), createVNode(\"div\", {\n    ref: \"fixedBodyWrapper\",\n    style: [{\n      top: _ctx.layout.headerHeight.value + \"px\"\n    }, _ctx.fixedBodyHeight],\n    class: \"el-table__fixed-body-wrapper\"\n  }, [createVNode(_component_table_body, {\n    highlight: _ctx.highlightCurrentRow,\n    \"row-class-name\": _ctx.rowClassName,\n    \"tooltip-effect\": _ctx.tooltipEffect,\n    \"row-style\": _ctx.rowStyle,\n    store: _ctx.store,\n    stripe: _ctx.stripe,\n    style: {\n      width: _ctx.bodyWidth\n    },\n    fixed: \"left\"\n  }, null, 8, [\"highlight\", \"row-class-name\", \"tooltip-effect\", \"row-style\", \"store\", \"stripe\", \"style\"]), _ctx.$slots.append ? (openBlock(), createBlock(\"div\", {\n    key: 0,\n    style: {\n      height: _ctx.layout.appendHeight.value + \"px\"\n    },\n    class: \"el-table__append-gutter\"\n  }, null, 4)) : createCommentVNode(\"v-if\", true)], 4), _ctx.showSummary ? withDirectives((openBlock(), createBlock(\"div\", _hoisted_7, [createVNode(_component_table_footer, {\n    border: _ctx.border,\n    store: _ctx.store,\n    style: {\n      width: _ctx.bodyWidth\n    },\n    \"sum-text\": _ctx.sumText || _ctx.t(\"el.table.sumText\"),\n    \"summary-method\": _ctx.summaryMethod,\n    fixed: \"left\"\n  }, null, 8, [\"border\", \"store\", \"style\", \"sum-text\", \"summary-method\"])], 512)), [[vShow, !_ctx.isEmpty]]) : createCommentVNode(\"v-if\", true)], 4)), [[_directive_mousewheel, _ctx.handleFixedMousewheel]]) : createCommentVNode(\"v-if\", true), _ctx.store.states.rightFixedColumns.value.length > 0 ? withDirectives((openBlock(), createBlock(\"div\", {\n    key: 3,\n    ref: \"rightFixedWrapper\",\n    style: [{\n      width: _ctx.layout.rightFixedWidth.value ? _ctx.layout.rightFixedWidth.value + \"px\" : \"\",\n      right: _ctx.layout.scrollY.value ? (_ctx.border ? _ctx.layout.gutterWidth : _ctx.layout.gutterWidth || 0) + \"px\" : \"\"\n    }, _ctx.fixedHeight],\n    class: \"el-table__fixed-right\"\n  }, [_ctx.showHeader ? (openBlock(), createBlock(\"div\", _hoisted_8, [createVNode(_component_table_header, {\n    ref: \"rightFixedTableHeader\",\n    border: _ctx.border,\n    store: _ctx.store,\n    style: {\n      width: _ctx.bodyWidth\n    },\n    fixed: \"right\",\n    onSetDragVisible: _ctx.setDragVisible\n  }, null, 8, [\"border\", \"store\", \"style\", \"onSetDragVisible\"])], 512)) : createCommentVNode(\"v-if\", true), createVNode(\"div\", {\n    ref: \"rightFixedBodyWrapper\",\n    style: [{\n      top: _ctx.layout.headerHeight.value + \"px\"\n    }, _ctx.fixedBodyHeight],\n    class: \"el-table__fixed-body-wrapper\"\n  }, [createVNode(_component_table_body, {\n    highlight: _ctx.highlightCurrentRow,\n    \"row-class-name\": _ctx.rowClassName,\n    \"tooltip-effect\": _ctx.tooltipEffect,\n    \"row-style\": _ctx.rowStyle,\n    store: _ctx.store,\n    stripe: _ctx.stripe,\n    style: {\n      width: _ctx.bodyWidth\n    },\n    fixed: \"right\"\n  }, null, 8, [\"highlight\", \"row-class-name\", \"tooltip-effect\", \"row-style\", \"store\", \"stripe\", \"style\"]), _ctx.$slots.append ? (openBlock(), createBlock(\"div\", {\n    key: 0,\n    style: {\n      height: _ctx.layout.appendHeight.value + \"px\"\n    },\n    class: \"el-table__append-gutter\"\n  }, null, 4)) : createCommentVNode(\"v-if\", true)], 4), _ctx.showSummary ? withDirectives((openBlock(), createBlock(\"div\", _hoisted_9, [createVNode(_component_table_footer, {\n    border: _ctx.border,\n    store: _ctx.store,\n    style: {\n      width: _ctx.bodyWidth\n    },\n    \"sum-text\": _ctx.sumText || _ctx.t(\"el.table.sumText\"),\n    \"summary-method\": _ctx.summaryMethod,\n    fixed: \"right\"\n  }, null, 8, [\"border\", \"store\", \"style\", \"sum-text\", \"summary-method\"])], 512)), [[vShow, !_ctx.isEmpty]]) : createCommentVNode(\"v-if\", true)], 4)), [[_directive_mousewheel, _ctx.handleFixedMousewheel]]) : createCommentVNode(\"v-if\", true), _ctx.store.states.rightFixedColumns.value.length > 0 ? (openBlock(), createBlock(\"div\", {\n    key: 4,\n    ref: \"rightFixedPatch\",\n    style: {\n      width: _ctx.layout.scrollY.value ? _ctx.layout.gutterWidth + \"px\" : \"0\",\n      height: _ctx.layout.headerHeight.value + \"px\"\n    },\n    class: \"el-table__fixed-right-patch\"\n  }, null, 4)) : createCommentVNode(\"v-if\", true), withDirectives(createVNode(\"div\", _hoisted_10, null, 512), [[vShow, _ctx.resizeProxyVisible]])], 38);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/table/src/table.vue\";\n\nscript$1.install = app => {\n  app.component(script$1.name, script$1);\n};\n\nconst _Table = script$1;\nexport default _Table;","map":{"version":3,"names":["getCurrentInstance","ref","unref","computed","watch","nextTick","isRef","defineComponent","resolveComponent","resolveDirective","openBlock","createBlock","withCtx","createVNode","Fragment","renderList","createTextVNode","toDisplayString","withDirectives","onBeforeMount","onMounted","onUpdated","onUnmounted","h","watchEffect","renderSlot","createCommentVNode","vShow","getValueByPath","arrayFind","arrayFindIndex","useGlobalConfig","off","on","addClass","hasClass","removeClass","getStyle","createPopper","PopupManager","debounce","useLocaleInject","ClickOutside","Mousewheel","scrollbarWidth","isServer","ElCheckbox","ElPopper","ElCheckboxGroup","ElScrollbar","addResizeListener","removeResizeListener","throttle","EMPTY_OBJ","process","env","NODE_ENV","Object","freeze","EMPTY_ARR","hasOwnProperty","prototype","hasOwn","val","key","call","__defProp","defineProperty","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","value","enumerable","configurable","writable","__spreadValues","a","b","prop","getCell","event","cell","target","tagName","toUpperCase","parentNode","isObject","orderBy","array","sortKey","reverse","sortMethod","sortBy","Array","isArray","length","getKey","index","map","by","$value","compare","i","len","sort","order","item","getColumnById","table","columnId","column","columns","forEach","id","getColumnByKey","columnKey","getColumnByCell","matches","className","match","getRowIdentity","row","rowKey","Error","indexOf","split","current","getKeysMap","arrayMap","parseHeight","height","test","parseInt","toggleRowStatus","statusArr","newVal","changed","included","addRow","push","removeRow","splice","walkTreeNode","root","cb","childrenKey","lazyKey","isNil","_walker","parent","children","level","children2","removePopper","createTablePopper","trigger","popperContent","popperOptions","tooltipEffect","renderContent","isLight","content2","document","createElement","innerHTML","style","zIndex","String","nextZIndex","body","appendChild","renderArrow","arrow2","bottom","showPopper","popperInstance","update","removePopper2","destroy","content","removeChild","e","arrow","modifiers","name","options","offset","element","padding","useExpand","watcherData","instance","defaultExpandAll","expandRows","updateExpandRows","data","slice","expandRowsMap","reduce","prev","rowId","rowInfo","toggleRowExpansion","expanded","emit","store","scheduleLayout","setExpandRowKeys","rowKeys","assertRowKey","keysMap","cur","info","isRowExpanded","expandMap","states","useCurrent","_currentRowKey","currentRow","setCurrentRowKey","setCurrentRowByKey","restoreCurrentRowKey","_currentRow","updateCurrentRow","oldCurrentRow","updateCurrentRowData","currentRowKey","__defProp$1","__getOwnPropSymbols$1","__hasOwnProp$1","__propIsEnum$1","__defNormalProp$1","__spreadValues$1","useTree","expandRowKeys","treeData","indent","lazy","lazyTreeNodeMap","lazyColumnIdentifier","childrenColumnName","normalizedData","normalize","normalizedLazyNode","keys","res","parentId","updateTreeData","_a","_b","nested","normalizedLazyNode_","newTreeData","oldTreeData","rootLazyRowKeys","getExpanded","oldValue","newValue","loaded","loading","lazyKeys","lazyNodeChildren","updateTableScrollY","updateTreeExpandKeys","toggleTreeExpansion","oldExpanded","loadOrToggle","loadData","treeNode","load","props","__defProp$2","__getOwnPropSymbols$2","__hasOwnProp$2","__propIsEnum$2","__defNormalProp$2","__spreadValues$2","sortData","sortingColumn","sortable","sortProp","sortOrder","doFlattenColumns","result","apply","useWatcher","_data","isComplex","_columns","originColumns","fixedColumns","rightFixedColumns","leafColumns","fixedLeafColumns","rightFixedLeafColumns","leafColumnsLength","fixedLeafColumnsLength","rightFixedLeafColumnsLength","isAllSelected","selection","reserveSelection","selectOnIndeterminate","selectable","filters","filteredData","hoverRow","state","deep","updateColumns","filter","fixed","type","unshift","notFixedColumns","concat","leafColumns2","fixedLeafColumns2","rightFixedLeafColumns2","needUpdateColumns","immediate","doLayout","debouncedUpdateLayout","isSelected","clearSelection","oldSelection","cleanSelection","deleted","selectedMap","dataMap","newSelection","toggleRowSelection","selected","emitChange","_toggleAllSelection","selectionChanged","childrenCount","rowKey2","rowIndex","getChildrenCount","updateSelectionByRowKey","updateAllSelected","_c","isSelected2","isAllSelected_","selectedCount","j","keyProp","isRowSelectable","count","childKey","updateFilters","columns2","values","filters_","col","updateSort","execFilter","sourceData","filterMethod","some","execSort","execQuery","ignore","clearFilter","columnKeys","tableHeader","fixedTableHeader","rightFixedTableHeader","refs","panels","assign","filterPanels","columns_","find","filteredValue","commit","silent","multi","clearSort","expandStates","treeStates","currentData","setExpandRowKeysAdapter","toggleRowExpansionAdapter","hasExpandColumn","toggleAllSelection","__defProp$3","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols$3","__hasOwnProp$3","__propIsEnum$3","__defNormalProp$3","__spreadValues$3","__spreadProps","replaceColumn","sortColumn","no","getColumnIndex","pre","useStore","watcher","mutations","setData","dataInstanceChanged","$ready","insertColumn","newColumns","removeColumn","findIndex","init","column2","property","changeSortCondition","ingore","filterChange","_states","newFilters","rowSelectedChanged","setHoverRow","setCurrentRow","args","mutations2","layout","updateScrollY","InitialStateMap","default","createStore","handleValue","getArrKeysValue","proxyTableProps","propsKey","storeKey","includes","keyList","TableLayout","constructor","observers","fit","showHeader","scrollX","scrollY","bodyWidth","fixedWidth","rightFixedWidth","tableHeight","headerHeight","appendHeight","footerHeight","viewportHeight","bodyHeight","fixedBodyHeight","gutterWidth","bodyWrapper","vnode","el","prevScrollY","querySelector","offsetHeight","setHeight","Number","updateElsHeight","setMaxHeight","getFlattenColumns","flattenColumns","isColumnGroup","headerWrapper","appendWrapper","footerWrapper","headerTrElm","noneHeader","headerDisplayNone","offsetWidth","clientHeight","notifyObservers","elm","headerChild","getComputedStyle","display","parentElement","updateColumnsWidth","clientWidth","bodyMinWidth","flexColumns","width","realWidth","minWidth","scrollYWidth","totalFlexWidth","allColumnsWidth","flexWidthPerPixel","noneFirstWidth","flexWidth","Math","floor","max","resizeState","addObserver","observer","removeObserver","onColumnsChange","onScrollableChange","script","components","directives","placement","upDataColumn","Function","setup","t","tooltipVisible","tooltip","filterValue","get","set","multiple","filterMultiple","isActive","hidden","showFilterPanel","stopPropagation","hideFilterPanel","handleConfirm","confirmFilter","handleReset","handleSelect","_filterValue","filteredValue2","popperPaneRef","popperRef","_hoisted_1","_hoisted_2","class","_hoisted_3","_hoisted_4","render","_ctx","_cache","$props","$setup","$data","$options","_component_el_checkbox","_component_el_checkbox_group","_component_el_scrollbar","_component_el_popper","_directive_click_outside","visible","$event","effect","pure","modelValue","label","text","_","disabled","onClick","filterOpened","__file","useLayoutObserver","tableLayout","cols","querySelectorAll","columnsMap","getAttribute","setAttribute","ths","th","useEvent","handleFilterClick","handleHeaderClick","handleSortClick","filterable","handleHeaderContextMenu","draggingColumn","dragging","dragState","handleMouseDown","border","tableEl","tableLeft","getBoundingClientRect","left","columnEl","columnRect","minLeft","startMouseLeft","clientX","startLeft","right","startColumnLeft","resizeProxy","onselectstart","ondragstart","handleMouseMove2","event2","deltaLeft","proxyLeft","handleMouseUp","finalLeft","columnWidth","cursor","removeEventListener","setTimeout","addEventListener","handleMouseMove","resizable","rect","bodyStyle","pageX","handleMouseOut","toggleOrder","sortOrders","givenOrder","useStyle","storeData","isCellHidden","start","colSpan","after","getHeaderRowStyle","headerRowStyle","getHeaderRowClass","classes","headerRowClassName","join","getHeaderCellStyle","columnIndex","headerCellStyle","getHeaderCellClass","headerAlign","labelClassName","headerCellClassName","getAllColumns","convertToRows","maxLevel","traverse","subColumn","rows","allColumns","rowSpan","useUtils","columnRows","isGroup","hGutter","hColgroup","hasGutter","TableHeader","required","Boolean","defaultSort","cellpadding","cellspacing","subColumns","cellIndex","colspan","onContextmenu","onMousedown","onMousemove","onMouseout","renderHeader","$index","_self","$parent","filterPlacement","useEvents","tooltipContent","tooltipTrigger","handleEvent","handleDoubleClick","handleClick","handleContextMenu","handleMouseEnter","handleMouseLeave","handleCellMouseEnter","hoverState","cellChild","childNodes","range","createRange","setStart","setEnd","rangeWidth","scrollWidth","innerText","textContent","strategy","handleCellMouseLeave","oldHoverState","useStyles","isColumnHidden","getRowStyle","rowStyle","getRowClass","highlightCurrentRow","stripe","rowClassName","getCellStyle","cellStyle","getCellClass","align","cellClassName","getSpan","rowspan","fn","spanMethod","getColspanRealWidth","widthArr","acc","__defProp$4","__defProps$1","__getOwnPropDescs$1","__getOwnPropSymbols$4","__hasOwnProp$4","__propIsEnum$4","__defNormalProp$4","__spreadValues$4","__spreadProps$1","useRender","firstDefaultColumnIndex","getKeyOfRow","rowRender","treeRowData","rowClasses","displayStyle","onDblclick","onMouseenter","onMouseleave","columnData","context","noLazyChildren","baseKey","patchKey","rawColumnKey","renderCell","wrappedRowRender","renderExpanded","tr","console","error","tmp","parent2","node","innerTreeRowData","nodes2","nodes","defaultProps","highlight","TableBody","oldVal","raf","window","requestAnimationFrame","oldRow","newRow","useMapState","leftFixedLeafCount","rightFixedLeafCount","columnsCount","leftFixedCount","rightFixedCount","useStyle$1","before","getRowClasses","TableFooter","summaryMethod","sumText","sums","precisions","notNumber","isNaN","decimal","precision","curr","parseFloat","toFixed","min","useUtils$1","useStyle$2","$ELEMENT","isHidden","resizeProxyVisible","setDragVisible","maxHeight","handleHeaderFooterMousewheel","pixelX","pixelY","abs","scrollLeft","shouldUpdateHeight","syncPostion","setScrollClass","bindEvents","setScrollClassByEl","classList","from","startsWith","scrollTop","fixedBodyWrapper","rightFixedBodyWrapper","maxScrollLeftPosition","passive","resizeListener","unbindEvents","shouldUpdateLayout","oldWidth","oldHeight","tableSize","size","bodyWidth_","bodyHeight2","emptyBlockStyle","handleFixedMousewheel","spinY","currentScrollTop","preventDefault","scrollHeight","ceil","fixedHeight","showSummary","defaultProps$1","emptyText","treeProps","hasChildren","tableIdSeed","script$1","emits","isEmpty","tableId","_hoisted_1$1","_hoisted_2$1","_hoisted_3$1","_hoisted_4$1","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","render$1","_component_table_header","_component_table_body","_component_table_footer","_directive_mousewheel","$slots","onSetDragVisible","append","top","install","app","component","_Table"],"sources":["D:/project/my_blog/blog-ui/node_modules/element-plus/es/el-table/index.js"],"sourcesContent":["import { getCurrentInstance, ref, unref, computed, watch, nextTick, isRef, defineComponent, resolveComponent, resolveDirective, openBlock, createBlock, withCtx, createVNode, Fragment, renderList, createTextVNode, toDisplayString, withDirectives, onBeforeMount, onMounted, onUpdated, onUnmounted, h, watchEffect, renderSlot, createCommentVNode, vShow } from 'vue';\nimport { getValueByPath, arrayFind, arrayFindIndex, useGlobalConfig } from '../utils/util';\nimport { off, on, addClass, hasClass, removeClass, getStyle } from '../utils/dom';\nimport { createPopper } from '@popperjs/core';\nimport PopupManager from '../utils/popup-manager';\nimport debounce from 'lodash/debounce';\nimport { useLocaleInject } from '../hooks';\nimport { ClickOutside, Mousewheel } from '../directives';\nimport scrollbarWidth from '../utils/scrollbar-width';\nimport isServer from '../utils/isServer';\nimport ElCheckbox from '../el-checkbox';\nimport ElPopper from '../el-popper';\nimport ElCheckboxGroup from '../el-checkbox-group';\nimport ElScrollbar from '../el-scrollbar';\nimport { addResizeListener, removeResizeListener } from '../utils/resize-event';\nimport throttle from 'lodash/throttle';\n\n/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\r\nconst EMPTY_OBJ = (process.env.NODE_ENV !== 'production')\r\n    ? Object.freeze({})\r\n    : {};\r\nconst EMPTY_ARR = (process.env.NODE_ENV !== 'production') ? Object.freeze([]) : [];\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\r\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nconst getCell = function(event) {\n  let cell = event.target;\n  while (cell && cell.tagName.toUpperCase() !== \"HTML\") {\n    if (cell.tagName.toUpperCase() === \"TD\") {\n      return cell;\n    }\n    cell = cell.parentNode;\n  }\n  return null;\n};\nconst isObject = function(obj) {\n  return obj !== null && typeof obj === \"object\";\n};\nconst orderBy = function(array, sortKey, reverse, sortMethod, sortBy) {\n  if (!sortKey && !sortMethod && (!sortBy || Array.isArray(sortBy) && !sortBy.length)) {\n    return array;\n  }\n  if (typeof reverse === \"string\") {\n    reverse = reverse === \"descending\" ? -1 : 1;\n  } else {\n    reverse = reverse && reverse < 0 ? -1 : 1;\n  }\n  const getKey = sortMethod ? null : function(value, index) {\n    if (sortBy) {\n      if (!Array.isArray(sortBy)) {\n        sortBy = [sortBy];\n      }\n      return sortBy.map(function(by) {\n        if (typeof by === \"string\") {\n          return getValueByPath(value, by);\n        } else {\n          return by(value, index, array);\n        }\n      });\n    }\n    if (sortKey !== \"$key\") {\n      if (isObject(value) && \"$value\" in value)\n        value = value.$value;\n    }\n    return [isObject(value) ? getValueByPath(value, sortKey) : value];\n  };\n  const compare = function(a, b) {\n    if (sortMethod) {\n      return sortMethod(a.value, b.value);\n    }\n    for (let i = 0, len = a.key.length; i < len; i++) {\n      if (a.key[i] < b.key[i]) {\n        return -1;\n      }\n      if (a.key[i] > b.key[i]) {\n        return 1;\n      }\n    }\n    return 0;\n  };\n  return array.map(function(value, index) {\n    return {\n      value,\n      index,\n      key: getKey ? getKey(value, index) : null\n    };\n  }).sort(function(a, b) {\n    let order = compare(a, b);\n    if (!order) {\n      order = a.index - b.index;\n    }\n    return order * +reverse;\n  }).map((item) => item.value);\n};\nconst getColumnById = function(table, columnId) {\n  let column = null;\n  table.columns.forEach(function(item) {\n    if (item.id === columnId) {\n      column = item;\n    }\n  });\n  return column;\n};\nconst getColumnByKey = function(table, columnKey) {\n  let column = null;\n  for (let i = 0; i < table.columns.length; i++) {\n    const item = table.columns[i];\n    if (item.columnKey === columnKey) {\n      column = item;\n      break;\n    }\n  }\n  return column;\n};\nconst getColumnByCell = function(table, cell) {\n  const matches = (cell.className || \"\").match(/el-table_[^\\s]+/gm);\n  if (matches) {\n    return getColumnById(table, matches[0]);\n  }\n  return null;\n};\nconst getRowIdentity = (row, rowKey) => {\n  if (!row)\n    throw new Error(\"row is required when get row identity\");\n  if (typeof rowKey === \"string\") {\n    if (rowKey.indexOf(\".\") < 0) {\n      return row[rowKey] + \"\";\n    }\n    const key = rowKey.split(\".\");\n    let current = row;\n    for (let i = 0; i < key.length; i++) {\n      current = current[key[i]];\n    }\n    return current + \"\";\n  } else if (typeof rowKey === \"function\") {\n    return rowKey.call(null, row);\n  }\n};\nconst getKeysMap = function(array, rowKey) {\n  const arrayMap = {};\n  (array || []).forEach((row, index) => {\n    arrayMap[getRowIdentity(row, rowKey)] = { row, index };\n  });\n  return arrayMap;\n};\nfunction parseHeight(height) {\n  if (typeof height === \"number\") {\n    return height;\n  }\n  if (typeof height === \"string\") {\n    if (/^\\d+(?:px)?$/.test(height)) {\n      return parseInt(height, 10);\n    } else {\n      return height;\n    }\n  }\n  return null;\n}\nfunction toggleRowStatus(statusArr, row, newVal) {\n  let changed = false;\n  const index = statusArr.indexOf(row);\n  const included = index !== -1;\n  const addRow = () => {\n    statusArr.push(row);\n    changed = true;\n  };\n  const removeRow = () => {\n    statusArr.splice(index, 1);\n    changed = true;\n  };\n  if (typeof newVal === \"boolean\") {\n    if (newVal && !included) {\n      addRow();\n    } else if (!newVal && included) {\n      removeRow();\n    }\n  } else {\n    if (included) {\n      removeRow();\n    } else {\n      addRow();\n    }\n  }\n  return changed;\n}\nfunction walkTreeNode(root, cb, childrenKey = \"children\", lazyKey = \"hasChildren\") {\n  const isNil = (array) => !(Array.isArray(array) && array.length);\n  function _walker(parent, children, level) {\n    cb(parent, children, level);\n    children.forEach((item) => {\n      if (item[lazyKey]) {\n        cb(item, null, level + 1);\n        return;\n      }\n      const children2 = item[childrenKey];\n      if (!isNil(children2)) {\n        _walker(item, children2, level + 1);\n      }\n    });\n  }\n  root.forEach((item) => {\n    if (item[lazyKey]) {\n      cb(item, null, 0);\n      return;\n    }\n    const children = item[childrenKey];\n    if (!isNil(children)) {\n      _walker(item, children, 0);\n    }\n  });\n}\nlet removePopper;\nfunction createTablePopper(trigger, popperContent, popperOptions, tooltipEffect) {\n  function renderContent() {\n    const isLight = tooltipEffect === \"light\";\n    const content2 = document.createElement(\"div\");\n    content2.className = `el-popper ${isLight ? \"is-light\" : \"is-dark\"}`;\n    content2.innerHTML = popperContent;\n    content2.style.zIndex = String(PopupManager.nextZIndex());\n    document.body.appendChild(content2);\n    return content2;\n  }\n  function renderArrow() {\n    const arrow2 = document.createElement(\"div\");\n    arrow2.className = \"el-popper__arrow\";\n    arrow2.style.bottom = \"-4px\";\n    return arrow2;\n  }\n  function showPopper() {\n    popperInstance && popperInstance.update();\n  }\n  removePopper = function removePopper2() {\n    try {\n      popperInstance && popperInstance.destroy();\n      content && document.body.removeChild(content);\n      off(trigger, \"mouseenter\", showPopper);\n      off(trigger, \"mouseleave\", removePopper2);\n    } catch (e) {\n    }\n  };\n  let popperInstance = null;\n  const content = renderContent();\n  const arrow = renderArrow();\n  content.appendChild(arrow);\n  popperInstance = createPopper(trigger, content, __spreadValues({\n    modifiers: [\n      {\n        name: \"offset\",\n        options: {\n          offset: [0, 8]\n        }\n      },\n      {\n        name: \"arrow\",\n        options: {\n          element: arrow,\n          padding: 10\n        }\n      }\n    ]\n  }, popperOptions));\n  on(trigger, \"mouseenter\", showPopper);\n  on(trigger, \"mouseleave\", removePopper);\n  return popperInstance;\n}\n\nfunction useExpand(watcherData) {\n  const instance = getCurrentInstance();\n  const defaultExpandAll = ref(false);\n  const expandRows = ref([]);\n  const updateExpandRows = () => {\n    const data = watcherData.data.value || [];\n    const rowKey = watcherData.rowKey.value;\n    if (defaultExpandAll.value) {\n      expandRows.value = data.slice();\n    } else if (rowKey) {\n      const expandRowsMap = getKeysMap(expandRows.value, rowKey);\n      expandRows.value = data.reduce((prev, row) => {\n        const rowId = getRowIdentity(row, rowKey);\n        const rowInfo = expandRowsMap[rowId];\n        if (rowInfo) {\n          prev.push(row);\n        }\n        return prev;\n      }, []);\n    } else {\n      expandRows.value = [];\n    }\n  };\n  const toggleRowExpansion = (row, expanded) => {\n    const changed = toggleRowStatus(expandRows.value, row, expanded);\n    if (changed) {\n      instance.emit(\"expand-change\", row, expandRows.value.slice());\n      instance.store.scheduleLayout();\n    }\n  };\n  const setExpandRowKeys = (rowKeys) => {\n    instance.store.assertRowKey();\n    const data = watcherData.data.value || [];\n    const rowKey = watcherData.rowKey.value;\n    const keysMap = getKeysMap(data, rowKey);\n    expandRows.value = rowKeys.reduce((prev, cur) => {\n      const info = keysMap[cur];\n      if (info) {\n        prev.push(info.row);\n      }\n      return prev;\n    }, []);\n  };\n  const isRowExpanded = (row) => {\n    const rowKey = watcherData.rowKey.value;\n    if (rowKey) {\n      const expandMap = getKeysMap(expandRows.value, rowKey);\n      return !!expandMap[getRowIdentity(row, rowKey)];\n    }\n    return expandRows.value.indexOf(row) !== -1;\n  };\n  return {\n    updateExpandRows,\n    toggleRowExpansion,\n    setExpandRowKeys,\n    isRowExpanded,\n    states: {\n      expandRows,\n      defaultExpandAll\n    }\n  };\n}\n\nfunction useCurrent(watcherData) {\n  const instance = getCurrentInstance();\n  const _currentRowKey = ref(null);\n  const currentRow = ref(null);\n  const setCurrentRowKey = (key) => {\n    instance.store.assertRowKey();\n    _currentRowKey.value = key;\n    setCurrentRowByKey(key);\n  };\n  const restoreCurrentRowKey = () => {\n    _currentRowKey.value = null;\n  };\n  const setCurrentRowByKey = (key) => {\n    const { data = [], rowKey } = watcherData;\n    let _currentRow = null;\n    if (rowKey.value) {\n      _currentRow = arrayFind(unref(data), (item) => getRowIdentity(item, rowKey.value) === key);\n    }\n    currentRow.value = _currentRow;\n  };\n  const updateCurrentRow = (_currentRow) => {\n    const oldCurrentRow = currentRow.value;\n    if (_currentRow && _currentRow !== oldCurrentRow) {\n      currentRow.value = _currentRow;\n      instance.emit(\"current-change\", currentRow.value, oldCurrentRow);\n      return;\n    }\n    if (!_currentRow && oldCurrentRow) {\n      currentRow.value = null;\n      instance.emit(\"current-change\", null, oldCurrentRow);\n    }\n  };\n  const updateCurrentRowData = () => {\n    const rowKey = watcherData.rowKey.value;\n    const data = watcherData.data.value || [];\n    const oldCurrentRow = currentRow.value;\n    if (data.indexOf(oldCurrentRow) === -1 && oldCurrentRow) {\n      if (rowKey) {\n        const currentRowKey = getRowIdentity(oldCurrentRow, rowKey);\n        setCurrentRowByKey(currentRowKey);\n      } else {\n        currentRow.value = null;\n      }\n      if (currentRow.value === null) {\n        instance.emit(\"current-change\", null, oldCurrentRow);\n      }\n    } else if (_currentRowKey.value) {\n      setCurrentRowByKey(_currentRowKey.value);\n      restoreCurrentRowKey();\n    }\n  };\n  return {\n    setCurrentRowKey,\n    restoreCurrentRowKey,\n    setCurrentRowByKey,\n    updateCurrentRow,\n    updateCurrentRowData,\n    states: {\n      _currentRowKey,\n      currentRow\n    }\n  };\n}\n\nvar __defProp$1 = Object.defineProperty;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$1.call(b, prop))\n      __defNormalProp$1(a, prop, b[prop]);\n  if (__getOwnPropSymbols$1)\n    for (var prop of __getOwnPropSymbols$1(b)) {\n      if (__propIsEnum$1.call(b, prop))\n        __defNormalProp$1(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction useTree(watcherData) {\n  const expandRowKeys = ref([]);\n  const treeData = ref({});\n  const indent = ref(16);\n  const lazy = ref(false);\n  const lazyTreeNodeMap = ref({});\n  const lazyColumnIdentifier = ref(\"hasChildren\");\n  const childrenColumnName = ref(\"children\");\n  const instance = getCurrentInstance();\n  const normalizedData = computed(() => {\n    if (!watcherData.rowKey.value)\n      return {};\n    const data = watcherData.data.value || [];\n    return normalize(data);\n  });\n  const normalizedLazyNode = computed(() => {\n    const rowKey = watcherData.rowKey.value;\n    const keys = Object.keys(lazyTreeNodeMap.value);\n    const res = {};\n    if (!keys.length)\n      return res;\n    keys.forEach((key) => {\n      if (lazyTreeNodeMap.value[key].length) {\n        const item = { children: [] };\n        lazyTreeNodeMap.value[key].forEach((row) => {\n          const currentRowKey = getRowIdentity(row, rowKey);\n          item.children.push(currentRowKey);\n          if (row[lazyColumnIdentifier.value] && !res[currentRowKey]) {\n            res[currentRowKey] = { children: [] };\n          }\n        });\n        res[key] = item;\n      }\n    });\n    return res;\n  });\n  const normalize = (data) => {\n    const rowKey = watcherData.rowKey.value;\n    const res = {};\n    walkTreeNode(data, (parent, children, level) => {\n      const parentId = getRowIdentity(parent, rowKey);\n      if (Array.isArray(children)) {\n        res[parentId] = {\n          children: children.map((row) => getRowIdentity(row, rowKey)),\n          level\n        };\n      } else if (lazy.value) {\n        res[parentId] = {\n          children: [],\n          lazy: true,\n          level\n        };\n      }\n    }, childrenColumnName.value, lazyColumnIdentifier.value);\n    return res;\n  };\n  const updateTreeData = () => {\n    var _a, _b;\n    const nested = normalizedData.value;\n    const normalizedLazyNode_ = normalizedLazyNode.value;\n    const keys = Object.keys(nested);\n    const newTreeData = {};\n    if (keys.length) {\n      const oldTreeData = unref(treeData);\n      const defaultExpandAll = (_a = instance.store) == null ? void 0 : _a.states.defaultExpandAll.value;\n      const rootLazyRowKeys = [];\n      const getExpanded = (oldValue, key) => {\n        const included = defaultExpandAll || expandRowKeys.value && expandRowKeys.value.indexOf(key) !== -1;\n        return !!(oldValue && oldValue.expanded || included);\n      };\n      keys.forEach((key) => {\n        const oldValue = oldTreeData[key];\n        const newValue = __spreadValues$1({}, nested[key]);\n        newValue.expanded = getExpanded(oldValue, key);\n        if (newValue.lazy) {\n          const { loaded = false, loading = false } = oldValue || {};\n          newValue.loaded = !!loaded;\n          newValue.loading = !!loading;\n          rootLazyRowKeys.push(key);\n        }\n        newTreeData[key] = newValue;\n      });\n      const lazyKeys = Object.keys(normalizedLazyNode_);\n      if (lazy.value && lazyKeys.length && rootLazyRowKeys.length) {\n        lazyKeys.forEach((key) => {\n          const oldValue = oldTreeData[key];\n          const lazyNodeChildren = normalizedLazyNode_[key].children;\n          if (rootLazyRowKeys.indexOf(key) !== -1) {\n            if (newTreeData[key].children.length !== 0) {\n              throw new Error(\"[ElTable]children must be an empty array.\");\n            }\n            newTreeData[key].children = lazyNodeChildren;\n          } else {\n            const { loaded = false, loading = false } = oldValue || {};\n            newTreeData[key] = {\n              lazy: true,\n              loaded: !!loaded,\n              loading: !!loading,\n              expanded: getExpanded(oldValue, key),\n              children: lazyNodeChildren,\n              level: \"\"\n            };\n          }\n        });\n      }\n    }\n    treeData.value = newTreeData;\n    (_b = instance.store) == null ? void 0 : _b.updateTableScrollY();\n  };\n  watch(() => normalizedData.value, updateTreeData);\n  watch(() => normalizedLazyNode.value, updateTreeData);\n  const updateTreeExpandKeys = (value) => {\n    expandRowKeys.value = value;\n    updateTreeData();\n  };\n  const toggleTreeExpansion = (row, expanded) => {\n    instance.store.assertRowKey();\n    const rowKey = watcherData.rowKey.value;\n    const id = getRowIdentity(row, rowKey);\n    const data = id && treeData.value[id];\n    if (id && data && \"expanded\" in data) {\n      const oldExpanded = data.expanded;\n      expanded = typeof expanded === \"undefined\" ? !data.expanded : expanded;\n      treeData.value[id].expanded = expanded;\n      if (oldExpanded !== expanded) {\n        instance.emit(\"expand-change\", row, expanded);\n      }\n      instance.store.updateTableScrollY();\n    }\n  };\n  const loadOrToggle = (row) => {\n    instance.store.assertRowKey();\n    const rowKey = watcherData.rowKey.value;\n    const id = getRowIdentity(row, rowKey);\n    const data = treeData.value[id];\n    if (lazy.value && data && \"loaded\" in data && !data.loaded) {\n      loadData(row, id, data);\n    } else {\n      toggleTreeExpansion(row, void 0);\n    }\n  };\n  const loadData = (row, key, treeNode) => {\n    const { load } = instance.props;\n    if (load && !treeData.value[key].loaded) {\n      treeData.value[key].loading = true;\n      load(row, treeNode, (data) => {\n        if (!Array.isArray(data)) {\n          throw new Error(\"[ElTable] data must be an array\");\n        }\n        treeData.value[key].loading = false;\n        treeData.value[key].loaded = true;\n        treeData.value[key].expanded = true;\n        if (data.length) {\n          lazyTreeNodeMap.value[key] = data;\n        }\n        instance.emit(\"expand-change\", row, true);\n      });\n    }\n  };\n  return {\n    loadData,\n    loadOrToggle,\n    toggleTreeExpansion,\n    updateTreeExpandKeys,\n    updateTreeData,\n    normalize,\n    states: {\n      expandRowKeys,\n      treeData,\n      indent,\n      lazy,\n      lazyTreeNodeMap,\n      lazyColumnIdentifier,\n      childrenColumnName\n    }\n  };\n}\n\nvar __defProp$2 = Object.defineProperty;\nvar __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$2 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$2.call(b, prop))\n      __defNormalProp$2(a, prop, b[prop]);\n  if (__getOwnPropSymbols$2)\n    for (var prop of __getOwnPropSymbols$2(b)) {\n      if (__propIsEnum$2.call(b, prop))\n        __defNormalProp$2(a, prop, b[prop]);\n    }\n  return a;\n};\nconst sortData = (data, states) => {\n  const sortingColumn = states.sortingColumn;\n  if (!sortingColumn || typeof sortingColumn.sortable === \"string\") {\n    return data;\n  }\n  return orderBy(data, states.sortProp, states.sortOrder, sortingColumn.sortMethod, sortingColumn.sortBy);\n};\nconst doFlattenColumns = (columns) => {\n  const result = [];\n  columns.forEach((column) => {\n    if (column.children) {\n      result.push.apply(result, doFlattenColumns(column.children));\n    } else {\n      result.push(column);\n    }\n  });\n  return result;\n};\nfunction useWatcher() {\n  const instance = getCurrentInstance();\n  const rowKey = ref(null);\n  const data = ref([]);\n  const _data = ref([]);\n  const isComplex = ref(false);\n  const _columns = ref([]);\n  const originColumns = ref([]);\n  const columns = ref([]);\n  const fixedColumns = ref([]);\n  const rightFixedColumns = ref([]);\n  const leafColumns = ref([]);\n  const fixedLeafColumns = ref([]);\n  const rightFixedLeafColumns = ref([]);\n  const leafColumnsLength = ref(0);\n  const fixedLeafColumnsLength = ref(0);\n  const rightFixedLeafColumnsLength = ref(0);\n  const isAllSelected = ref(false);\n  const selection = ref([]);\n  const reserveSelection = ref(false);\n  const selectOnIndeterminate = ref(false);\n  const selectable = ref(null);\n  const filters = ref({});\n  const filteredData = ref(null);\n  const sortingColumn = ref(null);\n  const sortProp = ref(null);\n  const sortOrder = ref(null);\n  const hoverRow = ref(null);\n  watch(data, () => instance.state && scheduleLayout(false), {\n    deep: true\n  });\n  const assertRowKey = () => {\n    if (!rowKey.value)\n      throw new Error(\"[ElTable] prop row-key is required\");\n  };\n  const updateColumns = () => {\n    fixedColumns.value = _columns.value.filter((column) => column.fixed === true || column.fixed === \"left\");\n    rightFixedColumns.value = _columns.value.filter((column) => column.fixed === \"right\");\n    if (fixedColumns.value.length > 0 && _columns.value[0] && _columns.value[0].type === \"selection\" && !_columns.value[0].fixed) {\n      _columns.value[0].fixed = true;\n      fixedColumns.value.unshift(_columns.value[0]);\n    }\n    const notFixedColumns = _columns.value.filter((column) => !column.fixed);\n    originColumns.value = [].concat(fixedColumns.value).concat(notFixedColumns).concat(rightFixedColumns.value);\n    const leafColumns2 = doFlattenColumns(notFixedColumns);\n    const fixedLeafColumns2 = doFlattenColumns(fixedColumns.value);\n    const rightFixedLeafColumns2 = doFlattenColumns(rightFixedColumns.value);\n    leafColumnsLength.value = leafColumns2.length;\n    fixedLeafColumnsLength.value = fixedLeafColumns2.length;\n    rightFixedLeafColumnsLength.value = rightFixedLeafColumns2.length;\n    columns.value = [].concat(fixedLeafColumns2).concat(leafColumns2).concat(rightFixedLeafColumns2);\n    isComplex.value = fixedColumns.value.length > 0 || rightFixedColumns.value.length > 0;\n  };\n  const scheduleLayout = (needUpdateColumns, immediate = false) => {\n    if (needUpdateColumns) {\n      updateColumns();\n    }\n    if (immediate) {\n      instance.state.doLayout();\n    } else {\n      instance.state.debouncedUpdateLayout();\n    }\n  };\n  const isSelected = (row) => {\n    return selection.value.indexOf(row) > -1;\n  };\n  const clearSelection = () => {\n    isAllSelected.value = false;\n    const oldSelection = selection.value;\n    if (oldSelection.length) {\n      selection.value = [];\n      instance.emit(\"selection-change\", []);\n    }\n  };\n  const cleanSelection = () => {\n    let deleted;\n    if (rowKey.value) {\n      deleted = [];\n      const selectedMap = getKeysMap(selection.value, rowKey.value);\n      const dataMap = getKeysMap(data.value, rowKey.value);\n      for (const key in selectedMap) {\n        if (hasOwn(selectedMap, key) && !dataMap[key]) {\n          deleted.push(selectedMap[key].row);\n        }\n      }\n    } else {\n      deleted = selection.value.filter((item) => data.value.indexOf(item) === -1);\n    }\n    if (deleted.length) {\n      const newSelection = selection.value.filter((item) => deleted.indexOf(item) === -1);\n      selection.value = newSelection;\n      instance.emit(\"selection-change\", newSelection.slice());\n    }\n  };\n  const toggleRowSelection = (row, selected = void 0, emitChange = true) => {\n    const changed = toggleRowStatus(selection.value, row, selected);\n    if (changed) {\n      const newSelection = (selection.value || []).slice();\n      if (emitChange) {\n        instance.emit(\"select\", newSelection, row);\n      }\n      instance.emit(\"selection-change\", newSelection);\n    }\n  };\n  const _toggleAllSelection = () => {\n    var _a, _b;\n    const value = selectOnIndeterminate.value ? !isAllSelected.value : !(isAllSelected.value || selection.value.length);\n    isAllSelected.value = value;\n    let selectionChanged = false;\n    let childrenCount = 0;\n    const rowKey2 = (_b = (_a = instance == null ? void 0 : instance.store) == null ? void 0 : _a.states) == null ? void 0 : _b.rowKey.value;\n    data.value.forEach((row, index) => {\n      const rowIndex = index + childrenCount;\n      if (selectable.value) {\n        if (selectable.value.call(null, row, rowIndex) && toggleRowStatus(selection.value, row, value)) {\n          selectionChanged = true;\n        }\n      } else {\n        if (toggleRowStatus(selection.value, row, value)) {\n          selectionChanged = true;\n        }\n      }\n      childrenCount += getChildrenCount(getRowIdentity(row, rowKey2));\n    });\n    if (selectionChanged) {\n      instance.emit(\"selection-change\", selection.value ? selection.value.slice() : []);\n    }\n    instance.emit(\"select-all\", selection.value);\n  };\n  const updateSelectionByRowKey = () => {\n    const selectedMap = getKeysMap(selection.value, rowKey.value);\n    data.value.forEach((row) => {\n      const rowId = getRowIdentity(row, rowKey.value);\n      const rowInfo = selectedMap[rowId];\n      if (rowInfo) {\n        selection.value[rowInfo.index] = row;\n      }\n    });\n  };\n  const updateAllSelected = () => {\n    var _a, _b, _c;\n    if (((_a = data.value) == null ? void 0 : _a.length) === 0) {\n      isAllSelected.value = false;\n      return;\n    }\n    let selectedMap;\n    if (rowKey.value) {\n      selectedMap = getKeysMap(selection.value, rowKey.value);\n    }\n    const isSelected2 = function(row) {\n      if (selectedMap) {\n        return !!selectedMap[getRowIdentity(row, rowKey.value)];\n      } else {\n        return selection.value.indexOf(row) !== -1;\n      }\n    };\n    let isAllSelected_ = true;\n    let selectedCount = 0;\n    let childrenCount = 0;\n    for (let i = 0, j = (data.value || []).length; i < j; i++) {\n      const keyProp = (_c = (_b = instance == null ? void 0 : instance.store) == null ? void 0 : _b.states) == null ? void 0 : _c.rowKey.value;\n      const rowIndex = i + childrenCount;\n      const item = data.value[i];\n      const isRowSelectable = selectable.value && selectable.value.call(null, item, rowIndex);\n      if (!isSelected2(item)) {\n        if (!selectable.value || isRowSelectable) {\n          isAllSelected_ = false;\n          break;\n        }\n      } else {\n        selectedCount++;\n      }\n      childrenCount += getChildrenCount(getRowIdentity(item, keyProp));\n    }\n    if (selectedCount === 0)\n      isAllSelected_ = false;\n    isAllSelected.value = isAllSelected_;\n  };\n  const getChildrenCount = (rowKey2) => {\n    var _a;\n    if (!instance || !instance.store)\n      return 0;\n    const {\n      treeData\n    } = instance.store.states;\n    let count = 0;\n    const children = (_a = treeData.value[rowKey2]) == null ? void 0 : _a.children;\n    if (children) {\n      count += children.length;\n      children.forEach((childKey) => {\n        count += getChildrenCount(childKey);\n      });\n    }\n    return count;\n  };\n  const updateFilters = (columns2, values) => {\n    if (!Array.isArray(columns2)) {\n      columns2 = [columns2];\n    }\n    const filters_ = {};\n    columns2.forEach((col) => {\n      filters.value[col.id] = values;\n      filters_[col.columnKey || col.id] = values;\n    });\n    return filters_;\n  };\n  const updateSort = (column, prop, order) => {\n    if (sortingColumn.value && sortingColumn.value !== column) {\n      sortingColumn.value.order = null;\n    }\n    sortingColumn.value = column;\n    sortProp.value = prop;\n    sortOrder.value = order;\n  };\n  const execFilter = () => {\n    let sourceData = unref(_data);\n    Object.keys(filters.value).forEach((columnId) => {\n      const values = filters.value[columnId];\n      if (!values || values.length === 0)\n        return;\n      const column = getColumnById({\n        columns: columns.value\n      }, columnId);\n      if (column && column.filterMethod) {\n        sourceData = sourceData.filter((row) => {\n          return values.some((value) => column.filterMethod.call(null, value, row, column));\n        });\n      }\n    });\n    filteredData.value = sourceData;\n  };\n  const execSort = () => {\n    data.value = sortData(filteredData.value, {\n      sortingColumn: sortingColumn.value,\n      sortProp: sortProp.value,\n      sortOrder: sortOrder.value\n    });\n  };\n  const execQuery = (ignore = void 0) => {\n    if (!(ignore && ignore.filter)) {\n      execFilter();\n    }\n    execSort();\n  };\n  const clearFilter = (columnKeys) => {\n    const {\n      tableHeader,\n      fixedTableHeader,\n      rightFixedTableHeader\n    } = instance.refs;\n    let panels = {};\n    if (tableHeader)\n      panels = Object.assign(panels, tableHeader.filterPanels);\n    if (fixedTableHeader)\n      panels = Object.assign(panels, fixedTableHeader.filterPanels);\n    if (rightFixedTableHeader)\n      panels = Object.assign(panels, rightFixedTableHeader.filterPanels);\n    const keys = Object.keys(panels);\n    if (!keys.length)\n      return;\n    if (typeof columnKeys === \"string\") {\n      columnKeys = [columnKeys];\n    }\n    if (Array.isArray(columnKeys)) {\n      const columns_ = columnKeys.map((key) => getColumnByKey({\n        columns: columns.value\n      }, key));\n      keys.forEach((key) => {\n        const column = columns_.find((col) => col.id === key);\n        if (column) {\n          column.filteredValue = [];\n        }\n      });\n      instance.store.commit(\"filterChange\", {\n        column: columns_,\n        values: [],\n        silent: true,\n        multi: true\n      });\n    } else {\n      keys.forEach((key) => {\n        const column = columns.value.find((col) => col.id === key);\n        if (column) {\n          column.filteredValue = [];\n        }\n      });\n      filters.value = {};\n      instance.store.commit(\"filterChange\", {\n        column: {},\n        values: [],\n        silent: true\n      });\n    }\n  };\n  const clearSort = () => {\n    if (!sortingColumn.value)\n      return;\n    updateSort(null, null, null);\n    instance.store.commit(\"changeSortCondition\", {\n      silent: true\n    });\n  };\n  const {\n    setExpandRowKeys,\n    toggleRowExpansion,\n    updateExpandRows,\n    states: expandStates,\n    isRowExpanded\n  } = useExpand({\n    data,\n    rowKey\n  });\n  const {\n    updateTreeExpandKeys,\n    toggleTreeExpansion,\n    loadOrToggle,\n    states: treeStates\n  } = useTree({\n    data,\n    rowKey\n  });\n  const {\n    updateCurrentRowData,\n    updateCurrentRow,\n    setCurrentRowKey,\n    states: currentData\n  } = useCurrent({\n    data,\n    rowKey\n  });\n  const setExpandRowKeysAdapter = (val) => {\n    setExpandRowKeys(val);\n    updateTreeExpandKeys(val);\n  };\n  const toggleRowExpansionAdapter = (row, expanded) => {\n    const hasExpandColumn = columns.value.some(({ type }) => type === \"expand\");\n    if (hasExpandColumn) {\n      toggleRowExpansion(row, expanded);\n    } else {\n      toggleTreeExpansion(row, expanded);\n    }\n  };\n  return {\n    assertRowKey,\n    updateColumns,\n    scheduleLayout,\n    isSelected,\n    clearSelection,\n    cleanSelection,\n    toggleRowSelection,\n    _toggleAllSelection,\n    toggleAllSelection: null,\n    updateSelectionByRowKey,\n    updateAllSelected,\n    updateFilters,\n    updateCurrentRow,\n    updateSort,\n    execFilter,\n    execSort,\n    execQuery,\n    clearFilter,\n    clearSort,\n    toggleRowExpansion,\n    setExpandRowKeysAdapter,\n    setCurrentRowKey,\n    toggleRowExpansionAdapter,\n    isRowExpanded,\n    updateExpandRows,\n    updateCurrentRowData,\n    loadOrToggle,\n    states: __spreadValues$2(__spreadValues$2(__spreadValues$2({\n      rowKey,\n      data,\n      _data,\n      isComplex,\n      _columns,\n      originColumns,\n      columns,\n      fixedColumns,\n      rightFixedColumns,\n      leafColumns,\n      fixedLeafColumns,\n      rightFixedLeafColumns,\n      leafColumnsLength,\n      fixedLeafColumnsLength,\n      rightFixedLeafColumnsLength,\n      isAllSelected,\n      selection,\n      reserveSelection,\n      selectOnIndeterminate,\n      selectable,\n      filters,\n      filteredData,\n      sortingColumn,\n      sortProp,\n      sortOrder,\n      hoverRow\n    }, expandStates), treeStates), currentData)\n  };\n}\n\nvar __defProp$3 = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$3 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$3 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$3 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$3 = (obj, key, value) => key in obj ? __defProp$3(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$3 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$3.call(b, prop))\n      __defNormalProp$3(a, prop, b[prop]);\n  if (__getOwnPropSymbols$3)\n    for (var prop of __getOwnPropSymbols$3(b)) {\n      if (__propIsEnum$3.call(b, prop))\n        __defNormalProp$3(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nfunction replaceColumn(array, column) {\n  return array.map((item) => {\n    var _a;\n    if (item.id === column.id) {\n      return column;\n    } else if ((_a = item.children) == null ? void 0 : _a.length) {\n      item.children = replaceColumn(item.children, column);\n    }\n    return item;\n  });\n}\nfunction sortColumn(array) {\n  array.forEach((item) => {\n    var _a, _b;\n    item.no = (_a = item.getColumnIndex) == null ? void 0 : _a.call(item);\n    if ((_b = item.children) == null ? void 0 : _b.length) {\n      sortColumn(item.children);\n    }\n  });\n  array.sort((cur, pre) => cur.no - pre.no);\n}\nfunction useStore() {\n  const instance = getCurrentInstance();\n  const watcher = useWatcher();\n  const mutations = {\n    setData(states, data) {\n      const dataInstanceChanged = unref(states.data) !== data;\n      states.data.value = data;\n      states._data.value = data;\n      instance.store.execQuery();\n      instance.store.updateCurrentRowData();\n      instance.store.updateExpandRows();\n      if (unref(states.reserveSelection)) {\n        instance.store.assertRowKey();\n        instance.store.updateSelectionByRowKey();\n      } else {\n        if (dataInstanceChanged) {\n          instance.store.clearSelection();\n        } else {\n          instance.store.cleanSelection();\n        }\n      }\n      instance.store.updateAllSelected();\n      if (instance.$ready) {\n        instance.store.scheduleLayout();\n      }\n    },\n    insertColumn(states, column, parent) {\n      const array = unref(states._columns);\n      let newColumns = [];\n      if (!parent) {\n        array.push(column);\n        newColumns = array;\n      } else {\n        if (parent && !parent.children) {\n          parent.children = [];\n        }\n        parent.children.push(column);\n        newColumns = replaceColumn(array, parent);\n      }\n      sortColumn(newColumns);\n      states._columns.value = newColumns;\n      if (column.type === \"selection\") {\n        states.selectable.value = column.selectable;\n        states.reserveSelection.value = column.reserveSelection;\n      }\n      if (instance.$ready) {\n        instance.store.updateColumns();\n        instance.store.scheduleLayout();\n      }\n    },\n    removeColumn(states, column, parent) {\n      const array = unref(states._columns) || [];\n      if (parent) {\n        parent.children.splice(parent.children.findIndex((item) => item.id === column.id), 1);\n        if (parent.children.length === 0) {\n          delete parent.children;\n        }\n        states._columns.value = replaceColumn(array, parent);\n      } else {\n        const index = array.indexOf(column);\n        if (index > -1) {\n          array.splice(index, 1);\n          states._columns.value = array;\n        }\n      }\n      if (instance.$ready) {\n        instance.store.updateColumns();\n        instance.store.scheduleLayout();\n      }\n    },\n    sort(states, options) {\n      const { prop, order, init } = options;\n      if (prop) {\n        const column = arrayFind(unref(states.columns), (column2) => column2.property === prop);\n        if (column) {\n          column.order = order;\n          instance.store.updateSort(column, prop, order);\n          instance.store.commit(\"changeSortCondition\", { init });\n        }\n      }\n    },\n    changeSortCondition(states, options) {\n      const { sortingColumn: column, sortProp: prop, sortOrder: order } = states;\n      if (unref(order) === null) {\n        states.sortingColumn.value = null;\n        states.sortProp.value = null;\n      }\n      const ingore = { filter: true };\n      instance.store.execQuery(ingore);\n      if (!options || !(options.silent || options.init)) {\n        instance.emit(\"sort-change\", {\n          column: unref(column),\n          prop: unref(prop),\n          order: unref(order)\n        });\n      }\n      instance.store.updateTableScrollY();\n    },\n    filterChange(_states, options) {\n      const { column, values, silent } = options;\n      const newFilters = instance.store.updateFilters(column, values);\n      instance.store.execQuery();\n      if (!silent) {\n        instance.emit(\"filter-change\", newFilters);\n      }\n      instance.store.updateTableScrollY();\n    },\n    toggleAllSelection() {\n      instance.store.toggleAllSelection();\n    },\n    rowSelectedChanged(_states, row) {\n      instance.store.toggleRowSelection(row);\n      instance.store.updateAllSelected();\n    },\n    setHoverRow(states, row) {\n      states.hoverRow.value = row;\n    },\n    setCurrentRow(_states, row) {\n      instance.store.updateCurrentRow(row);\n    }\n  };\n  const commit = function(name, ...args) {\n    const mutations2 = instance.store.mutations;\n    if (mutations2[name]) {\n      mutations2[name].apply(instance, [instance.store.states].concat(args));\n    } else {\n      throw new Error(`Action not found: ${name}`);\n    }\n  };\n  const updateTableScrollY = function() {\n    nextTick(() => instance.layout.updateScrollY.apply(instance.layout));\n  };\n  return __spreadProps(__spreadValues$3({}, watcher), {\n    mutations,\n    commit,\n    updateTableScrollY\n  });\n}\n\nconst InitialStateMap = {\n  rowKey: \"rowKey\",\n  defaultExpandAll: \"defaultExpandAll\",\n  selectOnIndeterminate: \"selectOnIndeterminate\",\n  indent: \"indent\",\n  lazy: \"lazy\",\n  data: \"data\",\n  [\"treeProps.hasChildren\"]: {\n    key: \"lazyColumnIdentifier\",\n    default: \"hasChildren\"\n  },\n  [\"treeProps.children\"]: {\n    key: \"childrenColumnName\",\n    default: \"children\"\n  }\n};\nfunction createStore(table, props) {\n  if (!table) {\n    throw new Error(\"Table is required.\");\n  }\n  const store = useStore();\n  store.toggleAllSelection = debounce(store._toggleAllSelection, 10);\n  Object.keys(InitialStateMap).forEach((key) => {\n    handleValue(getArrKeysValue(props, key), key, store);\n  });\n  proxyTableProps(store, props);\n  return store;\n}\nfunction proxyTableProps(store, props) {\n  Object.keys(InitialStateMap).forEach((key) => {\n    watch(() => getArrKeysValue(props, key), (value) => {\n      handleValue(value, key, store);\n    });\n  });\n}\nfunction handleValue(value, propsKey, store) {\n  let newVal = value;\n  let storeKey = InitialStateMap[propsKey];\n  if (typeof InitialStateMap[propsKey] === \"object\") {\n    storeKey = storeKey.key;\n    newVal = newVal || InitialStateMap[propsKey].default;\n  }\n  store.states[storeKey].value = newVal;\n}\nfunction getArrKeysValue(props, keys) {\n  if (keys.includes(\".\")) {\n    const keyList = keys.split(\".\");\n    let value = props;\n    keyList.forEach((key) => {\n      value = value[key];\n    });\n    return value;\n  } else {\n    return props[keys];\n  }\n}\n\nclass TableLayout {\n  constructor(options) {\n    this.observers = [];\n    this.table = null;\n    this.store = null;\n    this.columns = [];\n    this.fit = true;\n    this.showHeader = true;\n    this.height = ref(null);\n    this.scrollX = ref(false);\n    this.scrollY = ref(false);\n    this.bodyWidth = ref(null);\n    this.fixedWidth = ref(null);\n    this.rightFixedWidth = ref(null);\n    this.tableHeight = ref(null);\n    this.headerHeight = ref(44);\n    this.appendHeight = ref(0);\n    this.footerHeight = ref(44);\n    this.viewportHeight = ref(null);\n    this.bodyHeight = ref(null);\n    this.fixedBodyHeight = ref(null);\n    this.gutterWidth = scrollbarWidth();\n    for (const name in options) {\n      if (hasOwn(options, name)) {\n        if (isRef(this[name])) {\n          this[name].value = options[name];\n        } else {\n          this[name] = options[name];\n        }\n      }\n    }\n    if (!this.table) {\n      throw new Error(\"table is required for Table Layout\");\n    }\n    if (!this.store) {\n      throw new Error(\"store is required for Table Layout\");\n    }\n  }\n  updateScrollY() {\n    const height = this.height.value;\n    if (height === null)\n      return false;\n    const bodyWrapper = this.table.refs.bodyWrapper;\n    if (this.table.vnode.el && bodyWrapper) {\n      let scrollY = true;\n      const prevScrollY = this.scrollY.value;\n      if (this.bodyHeight.value === null) {\n        scrollY = false;\n      } else {\n        const body = bodyWrapper.querySelector(\".el-table__body\");\n        scrollY = body.offsetHeight > this.bodyHeight.value;\n      }\n      this.scrollY.value = scrollY;\n      return prevScrollY !== scrollY;\n    }\n    return false;\n  }\n  setHeight(value, prop = \"height\") {\n    if (isServer)\n      return;\n    const el = this.table.vnode.el;\n    value = parseHeight(value);\n    this.height.value = Number(value);\n    if (!el && (value || value === 0))\n      return nextTick(() => this.setHeight(value, prop));\n    if (typeof value === \"number\") {\n      el.style[prop] = value + \"px\";\n      this.updateElsHeight();\n    } else if (typeof value === \"string\") {\n      el.style[prop] = value;\n      this.updateElsHeight();\n    }\n  }\n  setMaxHeight(value) {\n    this.setHeight(value, \"max-height\");\n  }\n  getFlattenColumns() {\n    const flattenColumns = [];\n    const columns = this.table.store.states.columns.value;\n    columns.forEach((column) => {\n      if (column.isColumnGroup) {\n        flattenColumns.push.apply(flattenColumns, column.columns);\n      } else {\n        flattenColumns.push(column);\n      }\n    });\n    return flattenColumns;\n  }\n  updateElsHeight() {\n    if (!this.table.$ready)\n      return nextTick(() => this.updateElsHeight());\n    const { headerWrapper, appendWrapper, footerWrapper } = this.table.refs;\n    this.appendHeight.value = appendWrapper ? appendWrapper.offsetHeight : 0;\n    if (this.showHeader && !headerWrapper)\n      return;\n    const headerTrElm = headerWrapper ? headerWrapper.querySelector(\".el-table__header tr\") : null;\n    const noneHeader = this.headerDisplayNone(headerTrElm);\n    const headerHeight = this.headerHeight.value = !this.showHeader ? 0 : headerWrapper.offsetHeight;\n    if (this.showHeader && !noneHeader && headerWrapper.offsetWidth > 0 && (this.table.store.states.columns.value || []).length > 0 && headerHeight < 2) {\n      return nextTick(() => this.updateElsHeight());\n    }\n    const tableHeight = this.tableHeight.value = this.table.vnode.el.clientHeight;\n    const footerHeight = this.footerHeight.value = footerWrapper ? footerWrapper.offsetHeight : 0;\n    if (this.height.value !== null) {\n      this.bodyHeight.value = tableHeight - headerHeight - footerHeight + (footerWrapper ? 1 : 0);\n    }\n    this.fixedBodyHeight.value = this.scrollX.value ? this.bodyHeight.value - this.gutterWidth : this.bodyHeight.value;\n    this.viewportHeight.value = this.scrollX.value ? tableHeight - this.gutterWidth : tableHeight;\n    this.updateScrollY();\n    this.notifyObservers(\"scrollable\");\n  }\n  headerDisplayNone(elm) {\n    if (!elm)\n      return true;\n    let headerChild = elm;\n    while (headerChild.tagName !== \"DIV\") {\n      if (getComputedStyle(headerChild).display === \"none\") {\n        return true;\n      }\n      headerChild = headerChild.parentElement;\n    }\n    return false;\n  }\n  updateColumnsWidth() {\n    if (isServer)\n      return;\n    const fit = this.fit;\n    const bodyWidth = this.table.vnode.el.clientWidth;\n    let bodyMinWidth = 0;\n    const flattenColumns = this.getFlattenColumns();\n    const flexColumns = flattenColumns.filter((column) => typeof column.width !== \"number\");\n    flattenColumns.forEach((column) => {\n      if (typeof column.width === \"number\" && column.realWidth)\n        column.realWidth = null;\n    });\n    if (flexColumns.length > 0 && fit) {\n      flattenColumns.forEach((column) => {\n        bodyMinWidth += Number(column.width || column.minWidth || 80);\n      });\n      const scrollYWidth = this.scrollY.value ? this.gutterWidth : 0;\n      if (bodyMinWidth <= bodyWidth - scrollYWidth) {\n        this.scrollX.value = false;\n        const totalFlexWidth = bodyWidth - scrollYWidth - bodyMinWidth;\n        if (flexColumns.length === 1) {\n          flexColumns[0].realWidth = Number(flexColumns[0].minWidth || 80) + totalFlexWidth;\n        } else {\n          const allColumnsWidth = flexColumns.reduce((prev, column) => prev + Number(column.minWidth || 80), 0);\n          const flexWidthPerPixel = totalFlexWidth / allColumnsWidth;\n          let noneFirstWidth = 0;\n          flexColumns.forEach((column, index) => {\n            if (index === 0)\n              return;\n            const flexWidth = Math.floor(Number(column.minWidth || 80) * flexWidthPerPixel);\n            noneFirstWidth += flexWidth;\n            column.realWidth = Number(column.minWidth || 80) + flexWidth;\n          });\n          flexColumns[0].realWidth = Number(flexColumns[0].minWidth || 80) + totalFlexWidth - noneFirstWidth;\n        }\n      } else {\n        this.scrollX.value = true;\n        flexColumns.forEach(function(column) {\n          column.realWidth = Number(column.minWidth);\n        });\n      }\n      this.bodyWidth.value = Math.max(bodyMinWidth, bodyWidth);\n      this.table.state.resizeState.value.width = this.bodyWidth.value;\n    } else {\n      flattenColumns.forEach((column) => {\n        if (!column.width && !column.minWidth) {\n          column.realWidth = 80;\n        } else {\n          column.realWidth = Number(column.width || column.minWidth);\n        }\n        bodyMinWidth += column.realWidth;\n      });\n      this.scrollX.value = bodyMinWidth > bodyWidth;\n      this.bodyWidth.value = bodyMinWidth;\n    }\n    const fixedColumns = this.store.states.fixedColumns.value;\n    if (fixedColumns.length > 0) {\n      let fixedWidth = 0;\n      fixedColumns.forEach(function(column) {\n        fixedWidth += Number(column.realWidth || column.width);\n      });\n      this.fixedWidth.value = fixedWidth;\n    }\n    const rightFixedColumns = this.store.states.rightFixedColumns.value;\n    if (rightFixedColumns.length > 0) {\n      let rightFixedWidth = 0;\n      rightFixedColumns.forEach(function(column) {\n        rightFixedWidth += Number(column.realWidth || column.width);\n      });\n      this.rightFixedWidth.value = rightFixedWidth;\n    }\n    this.notifyObservers(\"columns\");\n  }\n  addObserver(observer) {\n    this.observers.push(observer);\n  }\n  removeObserver(observer) {\n    const index = this.observers.indexOf(observer);\n    if (index !== -1) {\n      this.observers.splice(index, 1);\n    }\n  }\n  notifyObservers(event) {\n    const observers = this.observers;\n    observers.forEach((observer) => {\n      var _a, _b;\n      switch (event) {\n        case \"columns\":\n          (_a = observer.state) == null ? void 0 : _a.onColumnsChange(this);\n          break;\n        case \"scrollable\":\n          (_b = observer.state) == null ? void 0 : _b.onScrollableChange(this);\n          break;\n        default:\n          throw new Error(`Table Layout don't have event ${event}.`);\n      }\n    });\n  }\n}\n\nvar script = defineComponent({\n  name: \"ElTableFilterPanel\",\n  components: {\n    ElCheckbox,\n    ElCheckboxGroup,\n    ElScrollbar,\n    ElPopper\n  },\n  directives: { ClickOutside },\n  props: {\n    placement: {\n      type: String,\n      default: \"bottom-start\"\n    },\n    store: {\n      type: Object\n    },\n    column: {\n      type: Object\n    },\n    upDataColumn: {\n      type: Function\n    }\n  },\n  setup(props) {\n    const instance = getCurrentInstance();\n    const { t } = useLocaleInject();\n    const parent = instance.parent;\n    if (!parent.filterPanels.value[props.column.id]) {\n      parent.filterPanels.value[props.column.id] = instance;\n    }\n    const tooltipVisible = ref(false);\n    const tooltip = ref(null);\n    const filters = computed(() => {\n      return props.column && props.column.filters;\n    });\n    const filterValue = computed({\n      get: () => (props.column.filteredValue || [])[0],\n      set: (value) => {\n        if (filteredValue.value) {\n          if (typeof value !== \"undefined\" && value !== null) {\n            filteredValue.value.splice(0, 1, value);\n          } else {\n            filteredValue.value.splice(0, 1);\n          }\n        }\n      }\n    });\n    const filteredValue = computed({\n      get() {\n        if (props.column) {\n          return props.column.filteredValue || [];\n        }\n        return [];\n      },\n      set(value) {\n        if (props.column) {\n          props.upDataColumn(\"filteredValue\", value);\n        }\n      }\n    });\n    const multiple = computed(() => {\n      if (props.column) {\n        return props.column.filterMultiple;\n      }\n      return true;\n    });\n    const isActive = (filter) => {\n      return filter.value === filterValue.value;\n    };\n    const hidden = () => {\n      tooltipVisible.value = false;\n    };\n    const showFilterPanel = (e) => {\n      e.stopPropagation();\n      tooltipVisible.value = !tooltipVisible.value;\n    };\n    const hideFilterPanel = () => {\n      tooltipVisible.value = false;\n    };\n    const handleConfirm = () => {\n      confirmFilter(filteredValue.value);\n      hidden();\n    };\n    const handleReset = () => {\n      filteredValue.value = [];\n      confirmFilter(filteredValue.value);\n      hidden();\n    };\n    const handleSelect = (_filterValue) => {\n      filterValue.value = _filterValue;\n      if (typeof _filterValue !== \"undefined\" && _filterValue !== null) {\n        confirmFilter(filteredValue.value);\n      } else {\n        confirmFilter([]);\n      }\n      hidden();\n    };\n    const confirmFilter = (filteredValue2) => {\n      props.store.commit(\"filterChange\", {\n        column: props.column,\n        values: filteredValue2\n      });\n      props.store.updateAllSelected();\n    };\n    watch(tooltipVisible, (value) => {\n      if (props.column) {\n        props.upDataColumn(\"filterOpened\", value);\n      }\n    }, {\n      immediate: true\n    });\n    const popperPaneRef = computed(() => {\n      var _a;\n      return (_a = tooltip.value) == null ? void 0 : _a.popperRef;\n    });\n    return {\n      tooltipVisible,\n      multiple,\n      filteredValue,\n      filterValue,\n      filters,\n      handleConfirm,\n      handleReset,\n      handleSelect,\n      isActive,\n      t,\n      showFilterPanel,\n      hideFilterPanel,\n      popperPaneRef,\n      tooltip\n    };\n  }\n});\n\nconst _hoisted_1 = { key: 0 };\nconst _hoisted_2 = { class: \"el-table-filter__content\" };\nconst _hoisted_3 = { class: \"el-table-filter__bottom\" };\nconst _hoisted_4 = {\n  key: 1,\n  class: \"el-table-filter__list\"\n};\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_checkbox = resolveComponent(\"el-checkbox\");\n  const _component_el_checkbox_group = resolveComponent(\"el-checkbox-group\");\n  const _component_el_scrollbar = resolveComponent(\"el-scrollbar\");\n  const _component_el_popper = resolveComponent(\"el-popper\");\n  const _directive_click_outside = resolveDirective(\"click-outside\");\n  return openBlock(), createBlock(_component_el_popper, {\n    ref: \"tooltip\",\n    visible: _ctx.tooltipVisible,\n    \"onUpdate:visible\": _cache[6] || (_cache[6] = ($event) => _ctx.tooltipVisible = $event),\n    offset: 0,\n    placement: _ctx.placement,\n    \"show-arrow\": false,\n    \"stop-popper-mouse-event\": false,\n    effect: \"light\",\n    pure: \"\",\n    \"manual-mode\": \"\",\n    \"popper-class\": \"el-table-filter\",\n    \"append-to-body\": \"\"\n  }, {\n    default: withCtx(() => [\n      _ctx.multiple ? (openBlock(), createBlock(\"div\", _hoisted_1, [\n        createVNode(\"div\", _hoisted_2, [\n          createVNode(_component_el_scrollbar, { \"wrap-class\": \"el-table-filter__wrap\" }, {\n            default: withCtx(() => [\n              createVNode(_component_el_checkbox_group, {\n                modelValue: _ctx.filteredValue,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => _ctx.filteredValue = $event),\n                class: \"el-table-filter__checkbox-group\"\n              }, {\n                default: withCtx(() => [\n                  (openBlock(true), createBlock(Fragment, null, renderList(_ctx.filters, (filter) => {\n                    return openBlock(), createBlock(_component_el_checkbox, {\n                      key: filter.value,\n                      label: filter.value\n                    }, {\n                      default: withCtx(() => [\n                        createTextVNode(toDisplayString(filter.text), 1)\n                      ]),\n                      _: 2\n                    }, 1032, [\"label\"]);\n                  }), 128))\n                ]),\n                _: 1\n              }, 8, [\"modelValue\"])\n            ]),\n            _: 1\n          })\n        ]),\n        createVNode(\"div\", _hoisted_3, [\n          createVNode(\"button\", {\n            class: { \"is-disabled\": _ctx.filteredValue.length === 0 },\n            disabled: _ctx.filteredValue.length === 0,\n            type: \"\",\n            onClick: _cache[2] || (_cache[2] = (...args) => _ctx.handleConfirm && _ctx.handleConfirm(...args))\n          }, toDisplayString(_ctx.t(\"el.table.confirmFilter\")), 11, [\"disabled\"]),\n          createVNode(\"button\", {\n            type: \"\",\n            onClick: _cache[3] || (_cache[3] = (...args) => _ctx.handleReset && _ctx.handleReset(...args))\n          }, toDisplayString(_ctx.t(\"el.table.resetFilter\")), 1)\n        ])\n      ])) : (openBlock(), createBlock(\"ul\", _hoisted_4, [\n        createVNode(\"li\", {\n          class: [{\n            \"is-active\": _ctx.filterValue === void 0 || _ctx.filterValue === null\n          }, \"el-table-filter__list-item\"],\n          onClick: _cache[4] || (_cache[4] = ($event) => _ctx.handleSelect(null))\n        }, toDisplayString(_ctx.t(\"el.table.clearFilter\")), 3),\n        (openBlock(true), createBlock(Fragment, null, renderList(_ctx.filters, (filter) => {\n          return openBlock(), createBlock(\"li\", {\n            key: filter.value,\n            class: [{ \"is-active\": _ctx.isActive(filter) }, \"el-table-filter__list-item\"],\n            label: filter.value,\n            onClick: ($event) => _ctx.handleSelect(filter.value)\n          }, toDisplayString(filter.text), 11, [\"label\", \"onClick\"]);\n        }), 128))\n      ]))\n    ]),\n    trigger: withCtx(() => [\n      withDirectives(createVNode(\"span\", {\n        class: \"el-table__column-filter-trigger el-none-outline\",\n        onClick: _cache[5] || (_cache[5] = (...args) => _ctx.showFilterPanel && _ctx.showFilterPanel(...args))\n      }, [\n        createVNode(\"i\", {\n          class: [\n            \"el-icon-arrow-down\",\n            _ctx.column.filterOpened ? \"el-icon-arrow-up\" : \"\"\n          ]\n        }, null, 2)\n      ], 512), [\n        [_directive_click_outside, _ctx.hideFilterPanel, _ctx.popperPaneRef]\n      ])\n    ]),\n    _: 1\n  }, 8, [\"visible\", \"placement\"]);\n}\n\nscript.render = render;\nscript.__file = \"packages/table/src/filter-panel.vue\";\n\nfunction useLayoutObserver(root) {\n  const instance = getCurrentInstance();\n  onBeforeMount(() => {\n    tableLayout.value.addObserver(instance);\n  });\n  onMounted(() => {\n    onColumnsChange(tableLayout.value);\n    onScrollableChange(tableLayout.value);\n  });\n  onUpdated(() => {\n    onColumnsChange(tableLayout.value);\n    onScrollableChange(tableLayout.value);\n  });\n  onUnmounted(() => {\n    tableLayout.value.removeObserver(instance);\n  });\n  const tableLayout = computed(() => {\n    const layout = root.layout;\n    if (!layout) {\n      throw new Error(\"Can not find table layout.\");\n    }\n    return layout;\n  });\n  const onColumnsChange = (layout) => {\n    var _a;\n    const cols = ((_a = root.vnode.el) == null ? void 0 : _a.querySelectorAll(\"colgroup > col\")) || [];\n    if (!cols.length)\n      return;\n    const flattenColumns = layout.getFlattenColumns();\n    const columnsMap = {};\n    flattenColumns.forEach((column) => {\n      columnsMap[column.id] = column;\n    });\n    for (let i = 0, j = cols.length; i < j; i++) {\n      const col = cols[i];\n      const name = col.getAttribute(\"name\");\n      const column = columnsMap[name];\n      if (column) {\n        col.setAttribute(\"width\", column.realWidth || column.width);\n      }\n    }\n  };\n  const onScrollableChange = (layout) => {\n    const cols = root.vnode.el.querySelectorAll(\"colgroup > col[name=gutter]\");\n    for (let i = 0, j = cols.length; i < j; i++) {\n      const col = cols[i];\n      col.setAttribute(\"width\", layout.scrollY.value ? layout.gutterWidth : \"0\");\n    }\n    const ths = root.vnode.el.querySelectorAll(\"th.gutter\");\n    for (let i = 0, j = ths.length; i < j; i++) {\n      const th = ths[i];\n      th.style.width = layout.scrollY.value ? layout.gutterWidth + \"px\" : \"0\";\n      th.style.display = layout.scrollY.value ? \"\" : \"none\";\n    }\n  };\n  return {\n    tableLayout: tableLayout.value,\n    onColumnsChange,\n    onScrollableChange\n  };\n}\n\nfunction useEvent(props, emit) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const handleFilterClick = (event) => {\n    event.stopPropagation();\n    return;\n  };\n  const handleHeaderClick = (event, column) => {\n    if (!column.filters && column.sortable) {\n      handleSortClick(event, column, false);\n    } else if (column.filterable && !column.sortable) {\n      handleFilterClick(event);\n    }\n    parent.emit(\"header-click\", column, event);\n  };\n  const handleHeaderContextMenu = (event, column) => {\n    parent.emit(\"header-contextmenu\", column, event);\n  };\n  const draggingColumn = ref(null);\n  const dragging = ref(false);\n  const dragState = ref({});\n  const handleMouseDown = (event, column) => {\n    if (isServer)\n      return;\n    if (column.children && column.children.length > 0)\n      return;\n    if (draggingColumn.value && props.border) {\n      dragging.value = true;\n      const table = parent;\n      emit(\"set-drag-visible\", true);\n      const tableEl = table.vnode.el;\n      const tableLeft = tableEl.getBoundingClientRect().left;\n      const columnEl = instance.vnode.el.querySelector(`th.${column.id}`);\n      const columnRect = columnEl.getBoundingClientRect();\n      const minLeft = columnRect.left - tableLeft + 30;\n      addClass(columnEl, \"noclick\");\n      dragState.value = {\n        startMouseLeft: event.clientX,\n        startLeft: columnRect.right - tableLeft,\n        startColumnLeft: columnRect.left - tableLeft,\n        tableLeft\n      };\n      const resizeProxy = table.refs.resizeProxy;\n      resizeProxy.style.left = dragState.value.startLeft + \"px\";\n      document.onselectstart = function() {\n        return false;\n      };\n      document.ondragstart = function() {\n        return false;\n      };\n      const handleMouseMove2 = (event2) => {\n        const deltaLeft = event2.clientX - dragState.value.startMouseLeft;\n        const proxyLeft = dragState.value.startLeft + deltaLeft;\n        resizeProxy.style.left = Math.max(minLeft, proxyLeft) + \"px\";\n      };\n      const handleMouseUp = () => {\n        if (dragging.value) {\n          const { startColumnLeft, startLeft } = dragState.value;\n          const finalLeft = parseInt(resizeProxy.style.left, 10);\n          const columnWidth = finalLeft - startColumnLeft;\n          column.width = column.realWidth = columnWidth;\n          table.emit(\"header-dragend\", column.width, startLeft - startColumnLeft, column, event);\n          props.store.scheduleLayout(false, true);\n          document.body.style.cursor = \"\";\n          dragging.value = false;\n          draggingColumn.value = null;\n          dragState.value = {};\n          emit(\"set-drag-visible\", false);\n        }\n        document.removeEventListener(\"mousemove\", handleMouseMove2);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n        document.onselectstart = null;\n        document.ondragstart = null;\n        setTimeout(function() {\n          removeClass(columnEl, \"noclick\");\n        }, 0);\n      };\n      document.addEventListener(\"mousemove\", handleMouseMove2);\n      document.addEventListener(\"mouseup\", handleMouseUp);\n    }\n  };\n  const handleMouseMove = (event, column) => {\n    if (column.children && column.children.length > 0)\n      return;\n    let target = event.target;\n    while (target && target.tagName !== \"TH\") {\n      target = target.parentNode;\n    }\n    if (!column || !column.resizable)\n      return;\n    if (!dragging.value && props.border) {\n      const rect = target.getBoundingClientRect();\n      const bodyStyle = document.body.style;\n      if (rect.width > 12 && rect.right - event.pageX < 8) {\n        bodyStyle.cursor = \"col-resize\";\n        if (hasClass(target, \"is-sortable\")) {\n          target.style.cursor = \"col-resize\";\n        }\n        draggingColumn.value = column;\n      } else if (!dragging.value) {\n        bodyStyle.cursor = \"\";\n        if (hasClass(target, \"is-sortable\")) {\n          target.style.cursor = \"pointer\";\n        }\n        draggingColumn.value = null;\n      }\n    }\n  };\n  const handleMouseOut = () => {\n    if (isServer)\n      return;\n    document.body.style.cursor = \"\";\n  };\n  const toggleOrder = ({ order, sortOrders }) => {\n    if (order === \"\")\n      return sortOrders[0];\n    const index = sortOrders.indexOf(order || null);\n    return sortOrders[index > sortOrders.length - 2 ? 0 : index + 1];\n  };\n  const handleSortClick = (event, column, givenOrder) => {\n    event.stopPropagation();\n    const order = column.order === givenOrder ? null : givenOrder || toggleOrder(column);\n    let target = event.target;\n    while (target && target.tagName !== \"TH\") {\n      target = target.parentNode;\n    }\n    if (target && target.tagName === \"TH\") {\n      if (hasClass(target, \"noclick\")) {\n        removeClass(target, \"noclick\");\n        return;\n      }\n    }\n    if (!column.sortable)\n      return;\n    const states = props.store.states;\n    let sortProp = states.sortProp.value;\n    let sortOrder;\n    const sortingColumn = states.sortingColumn.value;\n    if (sortingColumn !== column || sortingColumn === column && sortingColumn.order === null) {\n      if (sortingColumn) {\n        sortingColumn.order = null;\n      }\n      states.sortingColumn.value = column;\n      sortProp = column.property;\n    }\n    if (!order) {\n      sortOrder = column.order = null;\n    } else {\n      sortOrder = column.order = order;\n    }\n    states.sortProp.value = sortProp;\n    states.sortOrder.value = sortOrder;\n    parent.store.commit(\"changeSortCondition\");\n  };\n  return {\n    handleHeaderClick,\n    handleHeaderContextMenu,\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseOut,\n    handleSortClick,\n    handleFilterClick\n  };\n}\n\nfunction useStyle(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const storeData = parent.store.states;\n  const isCellHidden = (index, columns) => {\n    let start = 0;\n    for (let i = 0; i < index; i++) {\n      start += columns[i].colSpan;\n    }\n    const after = start + columns[index].colSpan - 1;\n    if (props.fixed === \"left\") {\n      return after >= storeData.fixedLeafColumnsLength.value;\n    } else if (props.fixed === \"right\") {\n      return start < storeData.columns.value.length - storeData.rightFixedLeafColumnsLength.value;\n    } else {\n      return after < storeData.fixedLeafColumnsLength.value || start >= storeData.columns.value.length - storeData.rightFixedLeafColumnsLength.value;\n    }\n  };\n  const getHeaderRowStyle = (rowIndex) => {\n    const headerRowStyle = parent.props.headerRowStyle;\n    if (typeof headerRowStyle === \"function\") {\n      return headerRowStyle.call(null, { rowIndex });\n    }\n    return headerRowStyle;\n  };\n  const getHeaderRowClass = (rowIndex) => {\n    const classes = [];\n    const headerRowClassName = parent.props.headerRowClassName;\n    if (typeof headerRowClassName === \"string\") {\n      classes.push(headerRowClassName);\n    } else if (typeof headerRowClassName === \"function\") {\n      classes.push(headerRowClassName.call(null, { rowIndex }));\n    }\n    return classes.join(\" \");\n  };\n  const getHeaderCellStyle = (rowIndex, columnIndex, row, column) => {\n    const headerCellStyle = parent.props.headerCellStyle;\n    if (typeof headerCellStyle === \"function\") {\n      return headerCellStyle.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      });\n    }\n    return headerCellStyle;\n  };\n  const getHeaderCellClass = (rowIndex, columnIndex, row, column) => {\n    const classes = [\n      column.id,\n      column.order,\n      column.headerAlign,\n      column.className,\n      column.labelClassName\n    ];\n    if (rowIndex === 0 && isCellHidden(columnIndex, row)) {\n      classes.push(\"is-hidden\");\n    }\n    if (!column.children) {\n      classes.push(\"is-leaf\");\n    }\n    if (column.sortable) {\n      classes.push(\"is-sortable\");\n    }\n    const headerCellClassName = parent.props.headerCellClassName;\n    if (typeof headerCellClassName === \"string\") {\n      classes.push(headerCellClassName);\n    } else if (typeof headerCellClassName === \"function\") {\n      classes.push(headerCellClassName.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      }));\n    }\n    return classes.join(\" \");\n  };\n  return {\n    getHeaderRowStyle,\n    getHeaderRowClass,\n    getHeaderCellStyle,\n    getHeaderCellClass\n  };\n}\n\nconst getAllColumns = (columns) => {\n  const result = [];\n  columns.forEach((column) => {\n    if (column.children) {\n      result.push(column);\n      result.push.apply(result, getAllColumns(column.children));\n    } else {\n      result.push(column);\n    }\n  });\n  return result;\n};\nconst convertToRows = (originColumns) => {\n  let maxLevel = 1;\n  const traverse = (column, parent) => {\n    if (parent) {\n      column.level = parent.level + 1;\n      if (maxLevel < column.level) {\n        maxLevel = column.level;\n      }\n    }\n    if (column.children) {\n      let colSpan = 0;\n      column.children.forEach((subColumn) => {\n        traverse(subColumn, column);\n        colSpan += subColumn.colSpan;\n      });\n      column.colSpan = colSpan;\n    } else {\n      column.colSpan = 1;\n    }\n  };\n  originColumns.forEach((column) => {\n    column.level = 1;\n    traverse(column, void 0);\n  });\n  const rows = [];\n  for (let i = 0; i < maxLevel; i++) {\n    rows.push([]);\n  }\n  const allColumns = getAllColumns(originColumns);\n  allColumns.forEach((column) => {\n    if (!column.children) {\n      column.rowSpan = maxLevel - column.level + 1;\n    } else {\n      column.rowSpan = 1;\n    }\n    rows[column.level - 1].push(column);\n  });\n  return rows;\n};\nfunction useUtils(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const columnRows = computed(() => {\n    return convertToRows(props.store.states.originColumns.value);\n  });\n  const isGroup = computed(() => {\n    const result = columnRows.value.length > 1;\n    if (result)\n      parent.state.isGroup.value = true;\n    return result;\n  });\n  const toggleAllSelection = (event) => {\n    event.stopPropagation();\n    parent.store.commit(\"toggleAllSelection\");\n  };\n  return {\n    isGroup,\n    toggleAllSelection,\n    columnRows\n  };\n}\n\nfunction hGutter() {\n  return h(\"col\", {\n    name: \"gutter\"\n  });\n}\nfunction hColgroup(columns, hasGutter = false) {\n  return h(\"colgroup\", {}, [\n    ...columns.map((column) => h(\"col\", {\n      name: column.id,\n      key: column.id\n    })),\n    hasGutter && hGutter()\n  ]);\n}\n\nvar TableHeader = defineComponent({\n  name: \"ElTableHeader\",\n  components: {\n    ElCheckbox\n  },\n  props: {\n    fixed: {\n      type: String,\n      default: \"\"\n    },\n    store: {\n      required: true,\n      type: Object\n    },\n    border: Boolean,\n    defaultSort: {\n      type: Object,\n      default: () => {\n        return {\n          prop: \"\",\n          order: \"\"\n        };\n      }\n    }\n  },\n  setup(props, { emit }) {\n    const instance = getCurrentInstance();\n    const parent = instance.parent;\n    const storeData = parent.store.states;\n    const filterPanels = ref({});\n    const {\n      tableLayout,\n      onColumnsChange,\n      onScrollableChange\n    } = useLayoutObserver(parent);\n    const hasGutter = computed(() => {\n      return !props.fixed && tableLayout.gutterWidth;\n    });\n    onMounted(() => {\n      nextTick(() => {\n        const { prop, order } = props.defaultSort;\n        const init = true;\n        parent.store.commit(\"sort\", { prop, order, init });\n      });\n    });\n    const {\n      handleHeaderClick,\n      handleHeaderContextMenu,\n      handleMouseDown,\n      handleMouseMove,\n      handleMouseOut,\n      handleSortClick,\n      handleFilterClick\n    } = useEvent(props, emit);\n    const {\n      getHeaderRowStyle,\n      getHeaderRowClass,\n      getHeaderCellStyle,\n      getHeaderCellClass\n    } = useStyle(props);\n    const { isGroup, toggleAllSelection, columnRows } = useUtils(props);\n    instance.state = {\n      onColumnsChange,\n      onScrollableChange\n    };\n    instance.filterPanels = filterPanels;\n    return {\n      columns: storeData.columns,\n      filterPanels,\n      hasGutter,\n      onColumnsChange,\n      onScrollableChange,\n      columnRows,\n      getHeaderRowClass,\n      getHeaderRowStyle,\n      getHeaderCellClass,\n      getHeaderCellStyle,\n      handleHeaderClick,\n      handleHeaderContextMenu,\n      handleMouseDown,\n      handleMouseMove,\n      handleMouseOut,\n      handleSortClick,\n      handleFilterClick,\n      isGroup,\n      toggleAllSelection\n    };\n  },\n  render() {\n    return h(\"table\", {\n      border: \"0\",\n      cellpadding: \"0\",\n      cellspacing: \"0\",\n      class: \"el-table__header\"\n    }, [\n      hColgroup(this.columns, this.hasGutter),\n      h(\"thead\", {\n        class: { \"is-group\": this.isGroup, \"has-gutter\": this.hasGutter }\n      }, this.columnRows.map((subColumns, rowIndex) => h(\"tr\", {\n        class: this.getHeaderRowClass(rowIndex),\n        key: rowIndex,\n        style: this.getHeaderRowStyle(rowIndex)\n      }, subColumns.map((column, cellIndex) => h(\"th\", {\n        class: this.getHeaderCellClass(rowIndex, cellIndex, subColumns, column),\n        colspan: column.colSpan,\n        key: `${column.id}-thead`,\n        rowSpan: column.rowSpan,\n        style: this.getHeaderCellStyle(rowIndex, cellIndex, subColumns, column),\n        onClick: ($event) => this.handleHeaderClick($event, column),\n        onContextmenu: ($event) => this.handleHeaderContextMenu($event, column),\n        onMousedown: ($event) => this.handleMouseDown($event, column),\n        onMousemove: ($event) => this.handleMouseMove($event, column),\n        onMouseout: this.handleMouseOut\n      }, [\n        h(\"div\", {\n          class: [\n            \"cell\",\n            column.filteredValue && column.filteredValue.length > 0 ? \"highlight\" : \"\",\n            column.labelClassName\n          ]\n        }, [\n          column.renderHeader ? column.renderHeader({\n            column,\n            $index: cellIndex,\n            store: this.store,\n            _self: this.$parent\n          }) : column.label,\n          column.sortable && h(\"span\", {\n            onClick: ($event) => this.handleSortClick($event, column),\n            class: \"caret-wrapper\"\n          }, [\n            h(\"i\", {\n              onClick: ($event) => this.handleSortClick($event, column, \"ascending\"),\n              class: \"sort-caret ascending\"\n            }),\n            h(\"i\", {\n              onClick: ($event) => this.handleSortClick($event, column, \"descending\"),\n              class: \"sort-caret descending\"\n            })\n          ]),\n          column.filterable && h(script, {\n            store: this.$parent.store,\n            placement: column.filterPlacement || \"bottom-start\",\n            column,\n            upDataColumn: (key, value) => {\n              column[key] = value;\n            }\n          })\n        ])\n      ])))))\n    ]);\n  }\n});\n\nfunction useEvents(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const tooltipContent = ref(\"\");\n  const tooltipTrigger = ref(h(\"div\"));\n  const handleEvent = (event, row, name) => {\n    const table = parent;\n    const cell = getCell(event);\n    let column;\n    if (cell) {\n      column = getColumnByCell({\n        columns: props.store.states.columns.value\n      }, cell);\n      if (column) {\n        table.emit(`cell-${name}`, row, column, cell, event);\n      }\n    }\n    table.emit(`row-${name}`, row, column, event);\n  };\n  const handleDoubleClick = (event, row) => {\n    handleEvent(event, row, \"dblclick\");\n  };\n  const handleClick = (event, row) => {\n    props.store.commit(\"setCurrentRow\", row);\n    handleEvent(event, row, \"click\");\n  };\n  const handleContextMenu = (event, row) => {\n    handleEvent(event, row, \"contextmenu\");\n  };\n  const handleMouseEnter = debounce(function(index) {\n    props.store.commit(\"setHoverRow\", index);\n  }, 30);\n  const handleMouseLeave = debounce(function() {\n    props.store.commit(\"setHoverRow\", null);\n  }, 30);\n  const handleCellMouseEnter = (event, row) => {\n    const table = parent;\n    const cell = getCell(event);\n    if (cell) {\n      const column = getColumnByCell({\n        columns: props.store.states.columns.value\n      }, cell);\n      const hoverState = table.hoverState = { cell, column, row };\n      table.emit(\"cell-mouse-enter\", hoverState.row, hoverState.column, hoverState.cell, event);\n    }\n    const cellChild = event.target.querySelector(\".cell\");\n    if (!(hasClass(cellChild, \"el-tooltip\") && cellChild.childNodes.length)) {\n      return;\n    }\n    const range = document.createRange();\n    range.setStart(cellChild, 0);\n    range.setEnd(cellChild, cellChild.childNodes.length);\n    const rangeWidth = range.getBoundingClientRect().width;\n    const padding = (parseInt(getStyle(cellChild, \"paddingLeft\"), 10) || 0) + (parseInt(getStyle(cellChild, \"paddingRight\"), 10) || 0);\n    if (rangeWidth + padding > cellChild.offsetWidth || cellChild.scrollWidth > cellChild.offsetWidth) {\n      createTablePopper(cell, cell.innerText || cell.textContent, {\n        placement: \"top\",\n        strategy: \"fixed\"\n      }, row.tooltipEffect);\n    }\n  };\n  const handleCellMouseLeave = (event) => {\n    const cell = getCell(event);\n    if (!cell)\n      return;\n    const oldHoverState = parent.hoverState;\n    parent.emit(\"cell-mouse-leave\", oldHoverState == null ? void 0 : oldHoverState.row, oldHoverState == null ? void 0 : oldHoverState.column, oldHoverState == null ? void 0 : oldHoverState.cell, event);\n  };\n  return {\n    handleDoubleClick,\n    handleClick,\n    handleContextMenu,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleCellMouseEnter,\n    handleCellMouseLeave,\n    tooltipContent,\n    tooltipTrigger\n  };\n}\n\nfunction useStyles(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const isColumnHidden = (index) => {\n    if (props.fixed === \"left\") {\n      return index >= props.store.states.fixedLeafColumnsLength.value;\n    } else if (props.fixed === \"right\") {\n      return index < props.store.states.columns.value.length - props.store.states.rightFixedLeafColumnsLength.value;\n    } else {\n      return index < props.store.states.fixedLeafColumnsLength.value || index >= props.store.states.columns.value.length - props.store.states.rightFixedLeafColumnsLength.value;\n    }\n  };\n  const getRowStyle = (row, rowIndex) => {\n    const rowStyle = parent.props.rowStyle;\n    if (typeof rowStyle === \"function\") {\n      return rowStyle.call(null, {\n        row,\n        rowIndex\n      });\n    }\n    return rowStyle || null;\n  };\n  const getRowClass = (row, rowIndex) => {\n    const classes = [\"el-table__row\"];\n    if (parent.props.highlightCurrentRow && row === props.store.states.currentRow.value) {\n      classes.push(\"current-row\");\n    }\n    if (props.stripe && rowIndex % 2 === 1) {\n      classes.push(\"el-table__row--striped\");\n    }\n    const rowClassName = parent.props.rowClassName;\n    if (typeof rowClassName === \"string\") {\n      classes.push(rowClassName);\n    } else if (typeof rowClassName === \"function\") {\n      classes.push(rowClassName.call(null, {\n        row,\n        rowIndex\n      }));\n    }\n    if (props.store.states.expandRows.value.indexOf(row) > -1) {\n      classes.push(\"expanded\");\n    }\n    return classes;\n  };\n  const getCellStyle = (rowIndex, columnIndex, row, column) => {\n    const cellStyle = parent.props.cellStyle;\n    if (typeof cellStyle === \"function\") {\n      return cellStyle.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      });\n    }\n    return cellStyle;\n  };\n  const getCellClass = (rowIndex, columnIndex, row, column) => {\n    const classes = [column.id, column.align, column.className];\n    if (isColumnHidden(columnIndex)) {\n      classes.push(\"is-hidden\");\n    }\n    const cellClassName = parent.props.cellClassName;\n    if (typeof cellClassName === \"string\") {\n      classes.push(cellClassName);\n    } else if (typeof cellClassName === \"function\") {\n      classes.push(cellClassName.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      }));\n    }\n    return classes.join(\" \");\n  };\n  const getSpan = (row, column, rowIndex, columnIndex) => {\n    let rowspan = 1;\n    let colspan = 1;\n    const fn = parent.props.spanMethod;\n    if (typeof fn === \"function\") {\n      const result = fn({\n        row,\n        column,\n        rowIndex,\n        columnIndex\n      });\n      if (Array.isArray(result)) {\n        rowspan = result[0];\n        colspan = result[1];\n      } else if (typeof result === \"object\") {\n        rowspan = result.rowspan;\n        colspan = result.colspan;\n      }\n    }\n    return { rowspan, colspan };\n  };\n  const getColspanRealWidth = (columns, colspan, index) => {\n    if (colspan < 1) {\n      return columns[index].realWidth;\n    }\n    const widthArr = columns.map(({ realWidth, width }) => realWidth || width).slice(index, index + colspan);\n    return Number(widthArr.reduce((acc, width) => Number(acc) + Number(width), -1));\n  };\n  return {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth,\n    isColumnHidden\n  };\n}\n\nvar __defProp$4 = Object.defineProperty;\nvar __defProps$1 = Object.defineProperties;\nvar __getOwnPropDescs$1 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$4 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$4 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$4 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$4 = (obj, key, value) => key in obj ? __defProp$4(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$4 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$4.call(b, prop))\n      __defNormalProp$4(a, prop, b[prop]);\n  if (__getOwnPropSymbols$4)\n    for (var prop of __getOwnPropSymbols$4(b)) {\n      if (__propIsEnum$4.call(b, prop))\n        __defNormalProp$4(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$1 = (a, b) => __defProps$1(a, __getOwnPropDescs$1(b));\nfunction useRender(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const {\n    handleDoubleClick,\n    handleClick,\n    handleContextMenu,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleCellMouseEnter,\n    handleCellMouseLeave,\n    tooltipContent,\n    tooltipTrigger\n  } = useEvents(props);\n  const {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth\n  } = useStyles(props);\n  const firstDefaultColumnIndex = computed(() => {\n    return arrayFindIndex(props.store.states.columns.value, ({ type }) => type === \"default\");\n  });\n  const getKeyOfRow = (row, index) => {\n    const rowKey = parent.props.rowKey;\n    if (rowKey) {\n      return getRowIdentity(row, rowKey);\n    }\n    return index;\n  };\n  const rowRender = (row, $index, treeRowData) => {\n    const { tooltipEffect, store } = props;\n    const { indent, columns } = store.states;\n    const rowClasses = getRowClass(row, $index);\n    let display = true;\n    if (treeRowData) {\n      rowClasses.push(\"el-table__row--level-\" + treeRowData.level);\n      display = treeRowData.display;\n    }\n    const displayStyle = display ? null : {\n      display: \"none\"\n    };\n    return h(\"tr\", {\n      style: [displayStyle, getRowStyle(row, $index)],\n      class: rowClasses,\n      key: getKeyOfRow(row, $index),\n      onDblclick: ($event) => handleDoubleClick($event, row),\n      onClick: ($event) => handleClick($event, row),\n      onContextmenu: ($event) => handleContextMenu($event, row),\n      onMouseenter: () => handleMouseEnter($index),\n      onMouseleave: handleMouseLeave\n    }, columns.value.map((column, cellIndex) => {\n      const { rowspan, colspan } = getSpan(row, column, $index, cellIndex);\n      if (!rowspan || !colspan) {\n        return null;\n      }\n      const columnData = __spreadValues$4({}, column);\n      columnData.realWidth = getColspanRealWidth(columns.value, colspan, cellIndex);\n      const data = {\n        store: props.store,\n        _self: props.context || parent,\n        column: columnData,\n        row,\n        $index\n      };\n      if (cellIndex === firstDefaultColumnIndex.value && treeRowData) {\n        data.treeNode = {\n          indent: treeRowData.level * indent.value,\n          level: treeRowData.level\n        };\n        if (typeof treeRowData.expanded === \"boolean\") {\n          data.treeNode.expanded = treeRowData.expanded;\n          if (\"loading\" in treeRowData) {\n            data.treeNode.loading = treeRowData.loading;\n          }\n          if (\"noLazyChildren\" in treeRowData) {\n            data.treeNode.noLazyChildren = treeRowData.noLazyChildren;\n          }\n        }\n      }\n      const baseKey = `${$index},${cellIndex}`;\n      const patchKey = columnData.columnKey || columnData.rawColumnKey || \"\";\n      return h(\"td\", {\n        style: getCellStyle($index, cellIndex, row, column),\n        class: getCellClass($index, cellIndex, row, column),\n        key: `${patchKey}${baseKey}`,\n        rowspan,\n        colspan,\n        onMouseenter: ($event) => handleCellMouseEnter($event, __spreadProps$1(__spreadValues$4({}, row), { tooltipEffect })),\n        onMouseleave: handleCellMouseLeave\n      }, [column.renderCell(data)]);\n    }));\n  };\n  const wrappedRowRender = (row, $index) => {\n    const store = props.store;\n    const { isRowExpanded, assertRowKey } = store;\n    const {\n      treeData,\n      lazyTreeNodeMap,\n      childrenColumnName,\n      rowKey\n    } = store.states;\n    const hasExpandColumn = store.states.columns.value.some(({ type }) => type === \"expand\");\n    if (hasExpandColumn && isRowExpanded(row)) {\n      const renderExpanded = parent.renderExpanded;\n      const tr = rowRender(row, $index, void 0);\n      if (!renderExpanded) {\n        console.error(\"[Element Error]renderExpanded is required.\");\n        return tr;\n      }\n      return [[\n        tr,\n        h(\"tr\", {\n          key: \"expanded-row__\" + tr.key\n        }, [\n          h(\"td\", {\n            colspan: store.states.columns.value.length,\n            class: \"el-table__expanded-cell\"\n          }, [renderExpanded({ row, $index, store })])\n        ])\n      ]];\n    } else if (Object.keys(treeData.value).length) {\n      assertRowKey();\n      const key = getRowIdentity(row, rowKey.value);\n      let cur = treeData.value[key];\n      let treeRowData = null;\n      if (cur) {\n        treeRowData = {\n          expanded: cur.expanded,\n          level: cur.level,\n          display: true\n        };\n        if (typeof cur.lazy === \"boolean\") {\n          if (typeof cur.loaded === \"boolean\" && cur.loaded) {\n            treeRowData.noLazyChildren = !(cur.children && cur.children.length);\n          }\n          treeRowData.loading = cur.loading;\n        }\n      }\n      const tmp = [rowRender(row, $index, treeRowData)];\n      if (cur) {\n        let i = 0;\n        const traverse = (children, parent2) => {\n          if (!(children && children.length && parent2))\n            return;\n          children.forEach((node) => {\n            const innerTreeRowData = {\n              display: parent2.display && parent2.expanded,\n              level: parent2.level + 1,\n              expanded: false,\n              noLazyChildren: false,\n              loading: false\n            };\n            const childKey = getRowIdentity(node, rowKey.value);\n            if (childKey === void 0 || childKey === null) {\n              throw new Error(\"for nested data item, row-key is required.\");\n            }\n            cur = __spreadValues$4({}, treeData.value[childKey]);\n            if (cur) {\n              innerTreeRowData.expanded = cur.expanded;\n              cur.level = cur.level || innerTreeRowData.level;\n              cur.display = !!(cur.expanded && innerTreeRowData.display);\n              if (typeof cur.lazy === \"boolean\") {\n                if (typeof cur.loaded === \"boolean\" && cur.loaded) {\n                  innerTreeRowData.noLazyChildren = !(cur.children && cur.children.length);\n                }\n                innerTreeRowData.loading = cur.loading;\n              }\n            }\n            i++;\n            tmp.push(rowRender(node, $index + i, innerTreeRowData));\n            if (cur) {\n              const nodes2 = lazyTreeNodeMap.value[childKey] || node[childrenColumnName.value];\n              traverse(nodes2, cur);\n            }\n          });\n        };\n        cur.display = true;\n        const nodes = lazyTreeNodeMap.value[key] || row[childrenColumnName.value];\n        traverse(nodes, cur);\n      }\n      return tmp;\n    } else {\n      return rowRender(row, $index, void 0);\n    }\n  };\n  return {\n    wrappedRowRender,\n    tooltipContent,\n    tooltipTrigger\n  };\n}\n\nconst defaultProps = {\n  store: {\n    required: true,\n    type: Object\n  },\n  stripe: Boolean,\n  tooltipEffect: String,\n  context: {\n    default: () => ({}),\n    type: Object\n  },\n  rowClassName: [String, Function],\n  rowStyle: [Object, Function],\n  fixed: {\n    type: String,\n    default: \"\"\n  },\n  highlight: Boolean\n};\n\nvar TableBody = defineComponent({\n  name: \"ElTableBody\",\n  props: defaultProps,\n  setup(props) {\n    const instance = getCurrentInstance();\n    const parent = instance.parent;\n    const { wrappedRowRender, tooltipContent, tooltipTrigger } = useRender(props);\n    const { onColumnsChange, onScrollableChange } = useLayoutObserver(parent);\n    watch(props.store.states.hoverRow, (newVal, oldVal) => {\n      if (!props.store.states.isComplex.value || isServer)\n        return;\n      let raf = window.requestAnimationFrame;\n      if (!raf) {\n        raf = (fn) => window.setTimeout(fn, 16);\n      }\n      raf(() => {\n        const rows = instance.vnode.el.querySelectorAll(\".el-table__row\");\n        const oldRow = rows[oldVal];\n        const newRow = rows[newVal];\n        if (oldRow) {\n          removeClass(oldRow, \"hover-row\");\n        }\n        if (newRow) {\n          addClass(newRow, \"hover-row\");\n        }\n      });\n    });\n    onUnmounted(() => {\n      var _a;\n      (_a = removePopper) == null ? void 0 : _a();\n    });\n    onUpdated(() => {\n      var _a;\n      (_a = removePopper) == null ? void 0 : _a();\n    });\n    return {\n      onColumnsChange,\n      onScrollableChange,\n      wrappedRowRender,\n      tooltipContent,\n      tooltipTrigger\n    };\n  },\n  render() {\n    const data = this.store.states.data.value || [];\n    return h(\"table\", {\n      class: \"el-table__body\",\n      cellspacing: \"0\",\n      cellpadding: \"0\",\n      border: \"0\"\n    }, [\n      hColgroup(this.store.states.columns.value),\n      h(\"tbody\", {}, [\n        data.reduce((acc, row) => {\n          return acc.concat(this.wrappedRowRender(row, acc.length));\n        }, [])\n      ])\n    ]);\n  }\n});\n\nfunction useMapState() {\n  const instance = getCurrentInstance();\n  const table = instance.parent;\n  const store = table.store;\n  const leftFixedLeafCount = computed(() => {\n    return store.states.fixedLeafColumnsLength.value;\n  });\n  const rightFixedLeafCount = computed(() => {\n    return store.states.rightFixedColumns.value.length;\n  });\n  const columnsCount = computed(() => {\n    return store.states.columns.value.length;\n  });\n  const leftFixedCount = computed(() => {\n    return store.states.fixedColumns.value.length;\n  });\n  const rightFixedCount = computed(() => {\n    return store.states.rightFixedColumns.value.length;\n  });\n  return {\n    leftFixedLeafCount,\n    rightFixedLeafCount,\n    columnsCount,\n    leftFixedCount,\n    rightFixedCount,\n    columns: store.states.columns\n  };\n}\n\nfunction useStyle$1(props) {\n  const instance = getCurrentInstance();\n  const table = instance.parent;\n  const store = table.store;\n  const {\n    leftFixedLeafCount,\n    rightFixedLeafCount,\n    columnsCount,\n    leftFixedCount,\n    rightFixedCount,\n    columns\n  } = useMapState();\n  const hasGutter = computed(() => {\n    return !props.fixed && table.layout.gutterWidth;\n  });\n  const isCellHidden = (index, columns2, column) => {\n    if (props.fixed || props.fixed === \"left\") {\n      return index >= leftFixedLeafCount.value;\n    } else if (props.fixed === \"right\") {\n      let before = 0;\n      for (let i = 0; i < index; i++) {\n        before += columns2[i].colSpan;\n      }\n      return before < columnsCount.value - rightFixedLeafCount.value;\n    } else if (!props.fixed && column.fixed) {\n      return true;\n    } else {\n      return index < leftFixedCount.value || index >= columnsCount.value - rightFixedCount.value;\n    }\n  };\n  const getRowClasses = (column, cellIndex) => {\n    const classes = [column.id, column.align, column.labelClassName];\n    if (column.className) {\n      classes.push(column.className);\n    }\n    if (isCellHidden(cellIndex, store.states.columns.value, column)) {\n      classes.push(\"is-hidden\");\n    }\n    if (!column.children) {\n      classes.push(\"is-leaf\");\n    }\n    return classes;\n  };\n  return {\n    hasGutter,\n    getRowClasses,\n    columns\n  };\n}\n\nvar TableFooter = defineComponent({\n  name: \"ElTableFooter\",\n  props: {\n    fixed: {\n      type: String,\n      default: \"\"\n    },\n    store: {\n      required: true,\n      type: Object\n    },\n    summaryMethod: Function,\n    sumText: String,\n    border: Boolean,\n    defaultSort: {\n      type: Object,\n      default: () => {\n        return {\n          prop: \"\",\n          order: \"\"\n        };\n      }\n    }\n  },\n  setup(props) {\n    const { hasGutter, getRowClasses, columns } = useStyle$1(props);\n    return {\n      getRowClasses,\n      hasGutter,\n      columns\n    };\n  },\n  render() {\n    let sums = [];\n    if (this.summaryMethod) {\n      sums = this.summaryMethod({\n        columns: this.columns,\n        data: this.store.states.data.value\n      });\n    } else {\n      this.columns.forEach((column, index) => {\n        if (index === 0) {\n          sums[index] = this.sumText;\n          return;\n        }\n        const values = this.store.states.data.value.map((item) => Number(item[column.property]));\n        const precisions = [];\n        let notNumber = true;\n        values.forEach((value) => {\n          if (!isNaN(value)) {\n            notNumber = false;\n            const decimal = (\"\" + value).split(\".\")[1];\n            precisions.push(decimal ? decimal.length : 0);\n          }\n        });\n        const precision = Math.max.apply(null, precisions);\n        if (!notNumber) {\n          sums[index] = values.reduce((prev, curr) => {\n            const value = Number(curr);\n            if (!isNaN(value)) {\n              return parseFloat((prev + curr).toFixed(Math.min(precision, 20)));\n            } else {\n              return prev;\n            }\n          }, 0);\n        } else {\n          sums[index] = \"\";\n        }\n      });\n    }\n    return h(\"table\", {\n      class: \"el-table__footer\",\n      cellspacing: \"0\",\n      cellpadding: \"0\",\n      border: \"0\"\n    }, [\n      hColgroup(this.columns, this.hasGutter),\n      h(\"tbody\", {\n        class: [{ \"has-gutter\": this.hasGutter }]\n      }, [\n        h(\"tr\", {}, [\n          ...this.columns.map((column, cellIndex) => h(\"td\", {\n            key: cellIndex,\n            colspan: column.colSpan,\n            rowspan: column.rowSpan,\n            class: this.getRowClasses(column, cellIndex)\n          }, [\n            h(\"div\", {\n              class: [\"cell\", column.labelClassName]\n            }, [sums[cellIndex]])\n          ])),\n          this.hasGutter && hGutter()\n        ])\n      ])\n    ]);\n  }\n});\n\nfunction useUtils$1(store) {\n  const setCurrentRow = (row) => {\n    store.commit(\"setCurrentRow\", row);\n  };\n  const toggleRowSelection = (row, selected) => {\n    store.toggleRowSelection(row, selected, false);\n    store.updateAllSelected();\n  };\n  const clearSelection = () => {\n    store.clearSelection();\n  };\n  const clearFilter = (columnKeys) => {\n    store.clearFilter(columnKeys);\n  };\n  const toggleAllSelection = () => {\n    store.commit(\"toggleAllSelection\");\n  };\n  const toggleRowExpansion = (row, expanded) => {\n    store.toggleRowExpansionAdapter(row, expanded);\n  };\n  const clearSort = () => {\n    store.clearSort();\n  };\n  const sort = (prop, order) => {\n    store.commit(\"sort\", { prop, order });\n  };\n  return {\n    setCurrentRow,\n    toggleRowSelection,\n    clearSelection,\n    clearFilter,\n    toggleAllSelection,\n    toggleRowExpansion,\n    clearSort,\n    sort\n  };\n}\n\nfunction useStyle$2(props, layout, store, table) {\n  const $ELEMENT = useGlobalConfig();\n  const isHidden = ref(false);\n  const renderExpanded = ref(null);\n  const resizeProxyVisible = ref(false);\n  const setDragVisible = (visible) => {\n    resizeProxyVisible.value = visible;\n  };\n  const resizeState = ref({\n    width: null,\n    height: null\n  });\n  const isGroup = ref(false);\n  watchEffect(() => {\n    layout.setHeight(props.height);\n  });\n  watchEffect(() => {\n    layout.setMaxHeight(props.maxHeight);\n  });\n  watch(() => [props.currentRowKey, store.states.rowKey], ([currentRowKey, rowKey]) => {\n    if (!unref(rowKey))\n      return;\n    store.setCurrentRowKey(currentRowKey + \"\");\n  }, {\n    immediate: true\n  });\n  watch(() => props.data, (data) => {\n    table.store.commit(\"setData\", data);\n  }, {\n    immediate: true,\n    deep: true\n  });\n  watchEffect(() => {\n    if (props.expandRowKeys) {\n      store.setExpandRowKeysAdapter(props.expandRowKeys);\n    }\n  });\n  const handleMouseLeave = () => {\n    table.store.commit(\"setHoverRow\", null);\n    if (table.hoverState)\n      table.hoverState = null;\n  };\n  const handleHeaderFooterMousewheel = (event, data) => {\n    const { pixelX, pixelY } = data;\n    if (Math.abs(pixelX) >= Math.abs(pixelY)) {\n      table.refs.bodyWrapper.scrollLeft += data.pixelX / 5;\n    }\n  };\n  const shouldUpdateHeight = computed(() => {\n    return props.height || props.maxHeight || store.states.fixedColumns.value.length > 0 || store.states.rightFixedColumns.value.length > 0;\n  });\n  const doLayout = () => {\n    if (shouldUpdateHeight.value) {\n      layout.updateElsHeight();\n    }\n    layout.updateColumnsWidth();\n    syncPostion();\n  };\n  onMounted(() => {\n    setScrollClass(\"is-scrolling-left\");\n    bindEvents();\n    store.updateColumns();\n    doLayout();\n    resizeState.value = {\n      width: table.vnode.el.offsetWidth,\n      height: table.vnode.el.offsetHeight\n    };\n    store.states.columns.value.forEach((column) => {\n      if (column.filteredValue && column.filteredValue.length) {\n        table.store.commit(\"filterChange\", {\n          column,\n          values: column.filteredValue,\n          silent: true\n        });\n      }\n    });\n    table.$ready = true;\n  });\n  const setScrollClassByEl = (el, className) => {\n    if (!el)\n      return;\n    const classList = Array.from(el.classList).filter((item) => !item.startsWith(\"is-scrolling-\"));\n    classList.push(layout.scrollX.value ? className : \"is-scrolling-none\");\n    el.className = classList.join(\" \");\n  };\n  const setScrollClass = (className) => {\n    const { bodyWrapper } = table.refs;\n    setScrollClassByEl(bodyWrapper, className);\n  };\n  const syncPostion = throttle(function() {\n    if (!table.refs.bodyWrapper)\n      return;\n    const {\n      scrollLeft,\n      scrollTop,\n      offsetWidth,\n      scrollWidth\n    } = table.refs.bodyWrapper;\n    const {\n      headerWrapper,\n      footerWrapper,\n      fixedBodyWrapper,\n      rightFixedBodyWrapper\n    } = table.refs;\n    if (headerWrapper)\n      headerWrapper.scrollLeft = scrollLeft;\n    if (footerWrapper)\n      footerWrapper.scrollLeft = scrollLeft;\n    if (fixedBodyWrapper)\n      fixedBodyWrapper.scrollTop = scrollTop;\n    if (rightFixedBodyWrapper)\n      rightFixedBodyWrapper.scrollTop = scrollTop;\n    const maxScrollLeftPosition = scrollWidth - offsetWidth - 1;\n    if (scrollLeft >= maxScrollLeftPosition) {\n      setScrollClass(\"is-scrolling-right\");\n    } else if (scrollLeft === 0) {\n      setScrollClass(\"is-scrolling-left\");\n    } else {\n      setScrollClass(\"is-scrolling-middle\");\n    }\n  }, 10);\n  const bindEvents = () => {\n    window.addEventListener(\"resize\", doLayout);\n    table.refs.bodyWrapper.addEventListener(\"scroll\", syncPostion, {\n      passive: true\n    });\n    if (props.fit) {\n      addResizeListener(table.vnode.el, resizeListener);\n    }\n  };\n  onUnmounted(() => {\n    unbindEvents();\n  });\n  const unbindEvents = () => {\n    var _a;\n    (_a = table.refs.bodyWrapper) == null ? void 0 : _a.removeEventListener(\"scroll\", syncPostion, true);\n    window.removeEventListener(\"resize\", doLayout);\n    if (props.fit) {\n      removeResizeListener(table.vnode.el, resizeListener);\n    }\n  };\n  const resizeListener = () => {\n    if (!table.$ready)\n      return;\n    let shouldUpdateLayout = false;\n    const el = table.vnode.el;\n    const { width: oldWidth, height: oldHeight } = resizeState.value;\n    const width = el.offsetWidth;\n    if (oldWidth !== width) {\n      shouldUpdateLayout = true;\n    }\n    const height = el.offsetHeight;\n    if ((props.height || shouldUpdateHeight.value) && oldHeight !== height) {\n      shouldUpdateLayout = true;\n    }\n    if (shouldUpdateLayout) {\n      resizeState.value = {\n        width,\n        height\n      };\n      doLayout();\n    }\n  };\n  const tableSize = computed(() => {\n    return props.size || $ELEMENT.size;\n  });\n  const bodyWidth = computed(() => {\n    const { bodyWidth: bodyWidth_, scrollY, gutterWidth } = layout;\n    return bodyWidth_.value ? bodyWidth_.value - (scrollY.value ? gutterWidth : 0) + \"px\" : \"\";\n  });\n  const bodyHeight = computed(() => {\n    const headerHeight = layout.headerHeight.value || 0;\n    const bodyHeight2 = layout.bodyHeight.value;\n    const footerHeight = layout.footerHeight.value || 0;\n    if (props.height) {\n      return {\n        height: bodyHeight2 ? bodyHeight2 + \"px\" : \"\"\n      };\n    } else if (props.maxHeight) {\n      const maxHeight = parseHeight(props.maxHeight);\n      if (typeof maxHeight === \"number\") {\n        return {\n          \"max-height\": maxHeight - footerHeight - (props.showHeader ? headerHeight : 0) + \"px\"\n        };\n      }\n    }\n    return {};\n  });\n  const emptyBlockStyle = computed(() => {\n    if (props.data && props.data.length)\n      return null;\n    let height = \"100%\";\n    if (layout.appendHeight.value) {\n      height = `calc(100% - ${layout.appendHeight.value}px)`;\n    }\n    return {\n      width: bodyWidth.value,\n      height\n    };\n  });\n  const handleFixedMousewheel = (event, data) => {\n    const bodyWrapper = table.refs.bodyWrapper;\n    if (Math.abs(data.spinY) > 0) {\n      const currentScrollTop = bodyWrapper.scrollTop;\n      if (data.pixelY < 0 && currentScrollTop !== 0) {\n        event.preventDefault();\n      }\n      if (data.pixelY > 0 && bodyWrapper.scrollHeight - bodyWrapper.clientHeight > currentScrollTop) {\n        event.preventDefault();\n      }\n      bodyWrapper.scrollTop += Math.ceil(data.pixelY / 5);\n    } else {\n      bodyWrapper.scrollLeft += Math.ceil(data.pixelX / 5);\n    }\n  };\n  const fixedHeight = computed(() => {\n    if (props.maxHeight) {\n      if (props.showSummary) {\n        return {\n          bottom: 0\n        };\n      }\n      return {\n        bottom: layout.scrollX.value && props.data.length ? layout.gutterWidth + \"px\" : \"\"\n      };\n    } else {\n      if (props.showSummary) {\n        return {\n          height: layout.tableHeight.value ? layout.tableHeight.value + \"px\" : \"\"\n        };\n      }\n      return {\n        height: layout.viewportHeight.value ? layout.viewportHeight.value + \"px\" : \"\"\n      };\n    }\n  });\n  const fixedBodyHeight = computed(() => {\n    if (props.height) {\n      return {\n        height: layout.fixedBodyHeight.value ? layout.fixedBodyHeight.value + \"px\" : \"\"\n      };\n    } else if (props.maxHeight) {\n      let maxHeight = parseHeight(props.maxHeight);\n      if (typeof maxHeight === \"number\") {\n        maxHeight = layout.scrollX.value ? maxHeight - layout.gutterWidth : maxHeight;\n        if (props.showHeader) {\n          maxHeight -= layout.headerHeight.value;\n        }\n        maxHeight -= layout.footerHeight.value;\n        return {\n          \"max-height\": maxHeight + \"px\"\n        };\n      }\n    }\n    return {};\n  });\n  return {\n    isHidden,\n    renderExpanded,\n    setDragVisible,\n    isGroup,\n    handleMouseLeave,\n    handleHeaderFooterMousewheel,\n    tableSize,\n    bodyHeight,\n    emptyBlockStyle,\n    handleFixedMousewheel,\n    fixedHeight,\n    fixedBodyHeight,\n    resizeProxyVisible,\n    bodyWidth,\n    resizeState,\n    doLayout\n  };\n}\n\nvar defaultProps$1 = {\n  data: {\n    type: Array,\n    default: () => {\n      return [];\n    }\n  },\n  size: String,\n  width: [String, Number],\n  height: [String, Number],\n  maxHeight: [String, Number],\n  fit: {\n    type: Boolean,\n    default: true\n  },\n  stripe: Boolean,\n  border: Boolean,\n  rowKey: [String, Function],\n  showHeader: {\n    type: Boolean,\n    default: true\n  },\n  showSummary: Boolean,\n  sumText: String,\n  summaryMethod: Function,\n  rowClassName: [String, Function],\n  rowStyle: [Object, Function],\n  cellClassName: [String, Function],\n  cellStyle: [Object, Function],\n  headerRowClassName: [String, Function],\n  headerRowStyle: [Object, Function],\n  headerCellClassName: [String, Function],\n  headerCellStyle: [Object, Function],\n  highlightCurrentRow: Boolean,\n  currentRowKey: [String, Number],\n  emptyText: String,\n  expandRowKeys: Array,\n  defaultExpandAll: Boolean,\n  defaultSort: Object,\n  tooltipEffect: String,\n  spanMethod: Function,\n  selectOnIndeterminate: {\n    type: Boolean,\n    default: true\n  },\n  indent: {\n    type: Number,\n    default: 16\n  },\n  treeProps: {\n    type: Object,\n    default: () => {\n      return {\n        hasChildren: \"hasChildren\",\n        children: \"children\"\n      };\n    }\n  },\n  lazy: Boolean,\n  load: Function,\n  style: {\n    type: Object,\n    default: () => ({})\n  },\n  className: {\n    type: String,\n    default: \"\"\n  }\n};\n\nlet tableIdSeed = 1;\nvar script$1 = defineComponent({\n  name: \"ElTable\",\n  directives: {\n    Mousewheel\n  },\n  components: {\n    TableHeader,\n    TableBody,\n    TableFooter\n  },\n  props: defaultProps$1,\n  emits: [\n    \"select\",\n    \"select-all\",\n    \"selection-change\",\n    \"cell-mouse-enter\",\n    \"cell-mouse-leave\",\n    \"cell-contextmenu\",\n    \"cell-click\",\n    \"cell-dblclick\",\n    \"row-click\",\n    \"row-contextmenu\",\n    \"row-dblclick\",\n    \"header-click\",\n    \"header-contextmenu\",\n    \"sort-change\",\n    \"filter-change\",\n    \"current-change\",\n    \"header-dragend\",\n    \"expand-change\"\n  ],\n  setup(props) {\n    const { t } = useLocaleInject();\n    let table = getCurrentInstance();\n    const store = createStore(table, props);\n    table.store = store;\n    const layout = new TableLayout({\n      store: table.store,\n      table,\n      fit: props.fit,\n      showHeader: props.showHeader\n    });\n    table.layout = layout;\n    const isEmpty = computed(() => (store.states.data.value || []).length === 0);\n    const {\n      setCurrentRow,\n      toggleRowSelection,\n      clearSelection,\n      clearFilter,\n      toggleAllSelection,\n      toggleRowExpansion,\n      clearSort,\n      sort\n    } = useUtils$1(store);\n    const {\n      isHidden,\n      renderExpanded,\n      setDragVisible,\n      isGroup,\n      handleMouseLeave,\n      handleHeaderFooterMousewheel,\n      tableSize,\n      bodyHeight,\n      emptyBlockStyle,\n      handleFixedMousewheel,\n      fixedHeight,\n      fixedBodyHeight,\n      resizeProxyVisible,\n      bodyWidth,\n      resizeState,\n      doLayout\n    } = useStyle$2(props, layout, store, table);\n    const debouncedUpdateLayout = debounce(doLayout, 50);\n    const tableId = \"el-table_\" + tableIdSeed++;\n    table.tableId = tableId;\n    table.state = {\n      isGroup,\n      resizeState,\n      doLayout,\n      debouncedUpdateLayout\n    };\n    return {\n      layout,\n      store,\n      handleHeaderFooterMousewheel,\n      handleMouseLeave,\n      tableId,\n      tableSize,\n      isHidden,\n      isEmpty,\n      renderExpanded,\n      resizeProxyVisible,\n      resizeState,\n      isGroup,\n      bodyWidth,\n      bodyHeight,\n      emptyBlockStyle,\n      debouncedUpdateLayout,\n      handleFixedMousewheel,\n      fixedHeight,\n      fixedBodyHeight,\n      setCurrentRow,\n      toggleRowSelection,\n      clearSelection,\n      clearFilter,\n      toggleAllSelection,\n      toggleRowExpansion,\n      clearSort,\n      doLayout,\n      sort,\n      t,\n      setDragVisible,\n      context: table\n    };\n  }\n});\n\nconst _hoisted_1$1 = {\n  ref: \"hiddenColumns\",\n  class: \"hidden-columns\"\n};\nconst _hoisted_2$1 = {\n  key: 0,\n  ref: \"headerWrapper\",\n  class: \"el-table__header-wrapper\"\n};\nconst _hoisted_3$1 = { class: \"el-table__empty-text\" };\nconst _hoisted_4$1 = {\n  key: 1,\n  ref: \"appendWrapper\",\n  class: \"el-table__append-wrapper\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  ref: \"footerWrapper\",\n  class: \"el-table__footer-wrapper\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  ref: \"fixedHeaderWrapper\",\n  class: \"el-table__fixed-header-wrapper\"\n};\nconst _hoisted_7 = {\n  key: 1,\n  ref: \"fixedFooterWrapper\",\n  class: \"el-table__fixed-footer-wrapper\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  ref: \"rightFixedHeaderWrapper\",\n  class: \"el-table__fixed-header-wrapper\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  ref: \"rightFixedFooterWrapper\",\n  class: \"el-table__fixed-footer-wrapper\"\n};\nconst _hoisted_10 = {\n  ref: \"resizeProxy\",\n  class: \"el-table__column-resize-proxy\"\n};\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_table_header = resolveComponent(\"table-header\");\n  const _component_table_body = resolveComponent(\"table-body\");\n  const _component_table_footer = resolveComponent(\"table-footer\");\n  const _directive_mousewheel = resolveDirective(\"mousewheel\");\n  return openBlock(), createBlock(\"div\", {\n    class: [\n      {\n        \"el-table--fit\": _ctx.fit,\n        \"el-table--striped\": _ctx.stripe,\n        \"el-table--border\": _ctx.border || _ctx.isGroup,\n        \"el-table--hidden\": _ctx.isHidden,\n        \"el-table--group\": _ctx.isGroup,\n        \"el-table--fluid-height\": _ctx.maxHeight,\n        \"el-table--scrollable-x\": _ctx.layout.scrollX.value,\n        \"el-table--scrollable-y\": _ctx.layout.scrollY.value,\n        \"el-table--enable-row-hover\": !_ctx.store.states.isComplex.value,\n        \"el-table--enable-row-transition\": (_ctx.store.states.data.value || []).length !== 0 && (_ctx.store.states.data.value || []).length < 100\n      },\n      _ctx.tableSize ? `el-table--${_ctx.tableSize}` : \"\",\n      _ctx.className,\n      \"el-table\"\n    ],\n    style: _ctx.style,\n    onMouseleave: _cache[1] || (_cache[1] = ($event) => _ctx.handleMouseLeave())\n  }, [\n    createVNode(\"div\", _hoisted_1$1, [\n      renderSlot(_ctx.$slots, \"default\")\n    ], 512),\n    _ctx.showHeader ? withDirectives((openBlock(), createBlock(\"div\", _hoisted_2$1, [\n      createVNode(_component_table_header, {\n        ref: \"tableHeader\",\n        border: _ctx.border,\n        \"default-sort\": _ctx.defaultSort,\n        store: _ctx.store,\n        style: {\n          width: _ctx.layout.bodyWidth.value ? _ctx.layout.bodyWidth.value + \"px\" : \"\"\n        },\n        onSetDragVisible: _ctx.setDragVisible\n      }, null, 8, [\"border\", \"default-sort\", \"store\", \"style\", \"onSetDragVisible\"])\n    ], 512)), [\n      [_directive_mousewheel, _ctx.handleHeaderFooterMousewheel]\n    ]) : createCommentVNode(\"v-if\", true),\n    createVNode(\"div\", {\n      ref: \"bodyWrapper\",\n      style: [_ctx.bodyHeight],\n      class: \"el-table__body-wrapper\"\n    }, [\n      createVNode(_component_table_body, {\n        context: _ctx.context,\n        highlight: _ctx.highlightCurrentRow,\n        \"row-class-name\": _ctx.rowClassName,\n        \"tooltip-effect\": _ctx.tooltipEffect,\n        \"row-style\": _ctx.rowStyle,\n        store: _ctx.store,\n        stripe: _ctx.stripe,\n        style: {\n          width: _ctx.bodyWidth\n        }\n      }, null, 8, [\"context\", \"highlight\", \"row-class-name\", \"tooltip-effect\", \"row-style\", \"store\", \"stripe\", \"style\"]),\n      _ctx.isEmpty ? (openBlock(), createBlock(\"div\", {\n        key: 0,\n        ref: \"emptyBlock\",\n        style: _ctx.emptyBlockStyle,\n        class: \"el-table__empty-block\"\n      }, [\n        createVNode(\"span\", _hoisted_3$1, [\n          renderSlot(_ctx.$slots, \"empty\", {}, () => [\n            createTextVNode(toDisplayString(_ctx.emptyText || _ctx.t(\"el.table.emptyText\")), 1)\n          ])\n        ])\n      ], 4)) : createCommentVNode(\"v-if\", true),\n      _ctx.$slots.append ? (openBlock(), createBlock(\"div\", _hoisted_4$1, [\n        renderSlot(_ctx.$slots, \"append\")\n      ], 512)) : createCommentVNode(\"v-if\", true)\n    ], 4),\n    _ctx.showSummary ? withDirectives((openBlock(), createBlock(\"div\", _hoisted_5, [\n      createVNode(_component_table_footer, {\n        border: _ctx.border,\n        \"default-sort\": _ctx.defaultSort,\n        store: _ctx.store,\n        style: {\n          width: _ctx.layout.bodyWidth.value ? _ctx.layout.bodyWidth.value + \"px\" : \"\"\n        },\n        \"sum-text\": _ctx.sumText || _ctx.t(\"el.table.sumText\"),\n        \"summary-method\": _ctx.summaryMethod\n      }, null, 8, [\"border\", \"default-sort\", \"store\", \"style\", \"sum-text\", \"summary-method\"])\n    ], 512)), [\n      [vShow, !_ctx.isEmpty],\n      [_directive_mousewheel, _ctx.handleHeaderFooterMousewheel]\n    ]) : createCommentVNode(\"v-if\", true),\n    _ctx.store.states.fixedColumns.value.length > 0 ? withDirectives((openBlock(), createBlock(\"div\", {\n      key: 2,\n      ref: \"fixedWrapper\",\n      style: [\n        {\n          width: _ctx.layout.fixedWidth.value ? _ctx.layout.fixedWidth.value + \"px\" : \"\"\n        },\n        _ctx.fixedHeight\n      ],\n      class: \"el-table__fixed\"\n    }, [\n      _ctx.showHeader ? (openBlock(), createBlock(\"div\", _hoisted_6, [\n        createVNode(_component_table_header, {\n          ref: \"fixedTableHeader\",\n          border: _ctx.border,\n          store: _ctx.store,\n          style: {\n            width: _ctx.bodyWidth\n          },\n          fixed: \"left\",\n          onSetDragVisible: _ctx.setDragVisible\n        }, null, 8, [\"border\", \"store\", \"style\", \"onSetDragVisible\"])\n      ], 512)) : createCommentVNode(\"v-if\", true),\n      createVNode(\"div\", {\n        ref: \"fixedBodyWrapper\",\n        style: [\n          {\n            top: _ctx.layout.headerHeight.value + \"px\"\n          },\n          _ctx.fixedBodyHeight\n        ],\n        class: \"el-table__fixed-body-wrapper\"\n      }, [\n        createVNode(_component_table_body, {\n          highlight: _ctx.highlightCurrentRow,\n          \"row-class-name\": _ctx.rowClassName,\n          \"tooltip-effect\": _ctx.tooltipEffect,\n          \"row-style\": _ctx.rowStyle,\n          store: _ctx.store,\n          stripe: _ctx.stripe,\n          style: {\n            width: _ctx.bodyWidth\n          },\n          fixed: \"left\"\n        }, null, 8, [\"highlight\", \"row-class-name\", \"tooltip-effect\", \"row-style\", \"store\", \"stripe\", \"style\"]),\n        _ctx.$slots.append ? (openBlock(), createBlock(\"div\", {\n          key: 0,\n          style: { height: _ctx.layout.appendHeight.value + \"px\" },\n          class: \"el-table__append-gutter\"\n        }, null, 4)) : createCommentVNode(\"v-if\", true)\n      ], 4),\n      _ctx.showSummary ? withDirectives((openBlock(), createBlock(\"div\", _hoisted_7, [\n        createVNode(_component_table_footer, {\n          border: _ctx.border,\n          store: _ctx.store,\n          style: {\n            width: _ctx.bodyWidth\n          },\n          \"sum-text\": _ctx.sumText || _ctx.t(\"el.table.sumText\"),\n          \"summary-method\": _ctx.summaryMethod,\n          fixed: \"left\"\n        }, null, 8, [\"border\", \"store\", \"style\", \"sum-text\", \"summary-method\"])\n      ], 512)), [\n        [vShow, !_ctx.isEmpty]\n      ]) : createCommentVNode(\"v-if\", true)\n    ], 4)), [\n      [_directive_mousewheel, _ctx.handleFixedMousewheel]\n    ]) : createCommentVNode(\"v-if\", true),\n    _ctx.store.states.rightFixedColumns.value.length > 0 ? withDirectives((openBlock(), createBlock(\"div\", {\n      key: 3,\n      ref: \"rightFixedWrapper\",\n      style: [\n        {\n          width: _ctx.layout.rightFixedWidth.value ? _ctx.layout.rightFixedWidth.value + \"px\" : \"\",\n          right: _ctx.layout.scrollY.value ? (_ctx.border ? _ctx.layout.gutterWidth : _ctx.layout.gutterWidth || 0) + \"px\" : \"\"\n        },\n        _ctx.fixedHeight\n      ],\n      class: \"el-table__fixed-right\"\n    }, [\n      _ctx.showHeader ? (openBlock(), createBlock(\"div\", _hoisted_8, [\n        createVNode(_component_table_header, {\n          ref: \"rightFixedTableHeader\",\n          border: _ctx.border,\n          store: _ctx.store,\n          style: {\n            width: _ctx.bodyWidth\n          },\n          fixed: \"right\",\n          onSetDragVisible: _ctx.setDragVisible\n        }, null, 8, [\"border\", \"store\", \"style\", \"onSetDragVisible\"])\n      ], 512)) : createCommentVNode(\"v-if\", true),\n      createVNode(\"div\", {\n        ref: \"rightFixedBodyWrapper\",\n        style: [{ top: _ctx.layout.headerHeight.value + \"px\" }, _ctx.fixedBodyHeight],\n        class: \"el-table__fixed-body-wrapper\"\n      }, [\n        createVNode(_component_table_body, {\n          highlight: _ctx.highlightCurrentRow,\n          \"row-class-name\": _ctx.rowClassName,\n          \"tooltip-effect\": _ctx.tooltipEffect,\n          \"row-style\": _ctx.rowStyle,\n          store: _ctx.store,\n          stripe: _ctx.stripe,\n          style: {\n            width: _ctx.bodyWidth\n          },\n          fixed: \"right\"\n        }, null, 8, [\"highlight\", \"row-class-name\", \"tooltip-effect\", \"row-style\", \"store\", \"stripe\", \"style\"]),\n        _ctx.$slots.append ? (openBlock(), createBlock(\"div\", {\n          key: 0,\n          style: { height: _ctx.layout.appendHeight.value + \"px\" },\n          class: \"el-table__append-gutter\"\n        }, null, 4)) : createCommentVNode(\"v-if\", true)\n      ], 4),\n      _ctx.showSummary ? withDirectives((openBlock(), createBlock(\"div\", _hoisted_9, [\n        createVNode(_component_table_footer, {\n          border: _ctx.border,\n          store: _ctx.store,\n          style: {\n            width: _ctx.bodyWidth\n          },\n          \"sum-text\": _ctx.sumText || _ctx.t(\"el.table.sumText\"),\n          \"summary-method\": _ctx.summaryMethod,\n          fixed: \"right\"\n        }, null, 8, [\"border\", \"store\", \"style\", \"sum-text\", \"summary-method\"])\n      ], 512)), [\n        [vShow, !_ctx.isEmpty]\n      ]) : createCommentVNode(\"v-if\", true)\n    ], 4)), [\n      [_directive_mousewheel, _ctx.handleFixedMousewheel]\n    ]) : createCommentVNode(\"v-if\", true),\n    _ctx.store.states.rightFixedColumns.value.length > 0 ? (openBlock(), createBlock(\"div\", {\n      key: 4,\n      ref: \"rightFixedPatch\",\n      style: {\n        width: _ctx.layout.scrollY.value ? _ctx.layout.gutterWidth + \"px\" : \"0\",\n        height: _ctx.layout.headerHeight.value + \"px\"\n      },\n      class: \"el-table__fixed-right-patch\"\n    }, null, 4)) : createCommentVNode(\"v-if\", true),\n    withDirectives(createVNode(\"div\", _hoisted_10, null, 512), [\n      [vShow, _ctx.resizeProxyVisible]\n    ])\n  ], 38);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/table/src/table.vue\";\n\nscript$1.install = (app) => {\n  app.component(script$1.name, script$1);\n};\nconst _Table = script$1;\n\nexport default _Table;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}