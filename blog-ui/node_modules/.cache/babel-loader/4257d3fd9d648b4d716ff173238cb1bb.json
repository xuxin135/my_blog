{"ast":null,"code":"import { EVENT_CODE, triggerEvent } from '../aria';\nimport SubMenu from './submenu';\n\nclass MenuItem {\n  constructor(domNode) {\n    this.domNode = domNode;\n    this.submenu = null;\n    this.submenu = null;\n    this.init();\n  }\n\n  init() {\n    this.domNode.setAttribute('tabindex', '0');\n    const menuChild = this.domNode.querySelector('.el-menu');\n\n    if (menuChild) {\n      this.submenu = new SubMenu(this, menuChild);\n    }\n\n    this.addListeners();\n  }\n\n  addListeners() {\n    this.domNode.addEventListener('keydown', event => {\n      let prevDef = false;\n\n      switch (event.code) {\n        case EVENT_CODE.down:\n          {\n            triggerEvent(event.currentTarget, 'mouseenter');\n            this.submenu && this.submenu.gotoSubIndex(0);\n            prevDef = true;\n            break;\n          }\n\n        case EVENT_CODE.up:\n          {\n            triggerEvent(event.currentTarget, 'mouseenter');\n            this.submenu && this.submenu.gotoSubIndex(this.submenu.subMenuItems.length - 1);\n            prevDef = true;\n            break;\n          }\n\n        case EVENT_CODE.tab:\n          {\n            triggerEvent(event.currentTarget, 'mouseleave');\n            break;\n          }\n\n        case EVENT_CODE.enter:\n        case EVENT_CODE.space:\n          {\n            prevDef = true;\n            event.currentTarget.click();\n            break;\n          }\n      }\n\n      if (prevDef) {\n        event.preventDefault();\n      }\n    });\n  }\n\n}\n\nexport default MenuItem;","map":{"version":3,"names":["EVENT_CODE","triggerEvent","SubMenu","MenuItem","constructor","domNode","submenu","init","setAttribute","menuChild","querySelector","addListeners","addEventListener","event","prevDef","code","down","currentTarget","gotoSubIndex","up","subMenuItems","length","tab","enter","space","click","preventDefault"],"sources":["D:/project/my_blog/blog-ui/node_modules/element-plus/es/utils/menu/menu-item.js"],"sourcesContent":["import { EVENT_CODE, triggerEvent } from '../aria';\nimport SubMenu from './submenu';\n\nclass MenuItem {\r\n    constructor(domNode) {\r\n        this.domNode = domNode;\r\n        this.submenu = null;\r\n        this.submenu = null;\r\n        this.init();\r\n    }\r\n    init() {\r\n        this.domNode.setAttribute('tabindex', '0');\r\n        const menuChild = this.domNode.querySelector('.el-menu');\r\n        if (menuChild) {\r\n            this.submenu = new SubMenu(this, menuChild);\r\n        }\r\n        this.addListeners();\r\n    }\r\n    addListeners() {\r\n        this.domNode.addEventListener('keydown', (event) => {\r\n            let prevDef = false;\r\n            switch (event.code) {\r\n                case EVENT_CODE.down: {\r\n                    triggerEvent(event.currentTarget, 'mouseenter');\r\n                    this.submenu && this.submenu.gotoSubIndex(0);\r\n                    prevDef = true;\r\n                    break;\r\n                }\r\n                case EVENT_CODE.up: {\r\n                    triggerEvent(event.currentTarget, 'mouseenter');\r\n                    this.submenu && this.submenu.gotoSubIndex(this.submenu.subMenuItems.length - 1);\r\n                    prevDef = true;\r\n                    break;\r\n                }\r\n                case EVENT_CODE.tab: {\r\n                    triggerEvent(event.currentTarget, 'mouseleave');\r\n                    break;\r\n                }\r\n                case EVENT_CODE.enter:\r\n                case EVENT_CODE.space: {\r\n                    prevDef = true;\r\n                    event.currentTarget.click();\r\n                    break;\r\n                }\r\n            }\r\n            if (prevDef) {\r\n                event.preventDefault();\r\n            }\r\n        });\r\n    }\r\n}\n\nexport default MenuItem;\n"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,YAArB,QAAyC,SAAzC;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,MAAMC,QAAN,CAAe;EACXC,WAAW,CAACC,OAAD,EAAU;IACjB,KAAKA,OAAL,GAAeA,OAAf;IACA,KAAKC,OAAL,GAAe,IAAf;IACA,KAAKA,OAAL,GAAe,IAAf;IACA,KAAKC,IAAL;EACH;;EACDA,IAAI,GAAG;IACH,KAAKF,OAAL,CAAaG,YAAb,CAA0B,UAA1B,EAAsC,GAAtC;IACA,MAAMC,SAAS,GAAG,KAAKJ,OAAL,CAAaK,aAAb,CAA2B,UAA3B,CAAlB;;IACA,IAAID,SAAJ,EAAe;MACX,KAAKH,OAAL,GAAe,IAAIJ,OAAJ,CAAY,IAAZ,EAAkBO,SAAlB,CAAf;IACH;;IACD,KAAKE,YAAL;EACH;;EACDA,YAAY,GAAG;IACX,KAAKN,OAAL,CAAaO,gBAAb,CAA8B,SAA9B,EAA0CC,KAAD,IAAW;MAChD,IAAIC,OAAO,GAAG,KAAd;;MACA,QAAQD,KAAK,CAACE,IAAd;QACI,KAAKf,UAAU,CAACgB,IAAhB;UAAsB;YAClBf,YAAY,CAACY,KAAK,CAACI,aAAP,EAAsB,YAAtB,CAAZ;YACA,KAAKX,OAAL,IAAgB,KAAKA,OAAL,CAAaY,YAAb,CAA0B,CAA1B,CAAhB;YACAJ,OAAO,GAAG,IAAV;YACA;UACH;;QACD,KAAKd,UAAU,CAACmB,EAAhB;UAAoB;YAChBlB,YAAY,CAACY,KAAK,CAACI,aAAP,EAAsB,YAAtB,CAAZ;YACA,KAAKX,OAAL,IAAgB,KAAKA,OAAL,CAAaY,YAAb,CAA0B,KAAKZ,OAAL,CAAac,YAAb,CAA0BC,MAA1B,GAAmC,CAA7D,CAAhB;YACAP,OAAO,GAAG,IAAV;YACA;UACH;;QACD,KAAKd,UAAU,CAACsB,GAAhB;UAAqB;YACjBrB,YAAY,CAACY,KAAK,CAACI,aAAP,EAAsB,YAAtB,CAAZ;YACA;UACH;;QACD,KAAKjB,UAAU,CAACuB,KAAhB;QACA,KAAKvB,UAAU,CAACwB,KAAhB;UAAuB;YACnBV,OAAO,GAAG,IAAV;YACAD,KAAK,CAACI,aAAN,CAAoBQ,KAApB;YACA;UACH;MAtBL;;MAwBA,IAAIX,OAAJ,EAAa;QACTD,KAAK,CAACa,cAAN;MACH;IACJ,CA7BD;EA8BH;;AA9CU;;AAiDf,eAAevB,QAAf"},"metadata":{},"sourceType":"module"}