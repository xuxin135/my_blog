{"ast":null,"code":"import { inject, computed, nextTick, watch, ref, defineComponent, reactive, toRefs, resolveComponent, openBlock, createBlock, withKeys, withModifiers, createVNode, withCtx, toDisplayString, h, provide, onMounted, onBeforeUnmount, createCommentVNode, Fragment, renderList } from 'vue';\nimport { UPDATE_MODEL_EVENT, CHANGE_EVENT, INPUT_EVENT } from '../utils/constants';\nimport { on, off } from '../utils/dom';\nimport throwError from '../utils/error';\nimport ElInputNumber from '../el-input-number';\nimport ElTooltip from '../el-tooltip';\nimport debounce from 'lodash/debounce';\nimport { elFormKey, elFormItemKey } from '../el-form';\n\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = value => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var rejected = value => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var step = x => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\nconst useTooltip = (props, formatTooltip, showTooltip) => {\n  const tooltip = ref(null);\n  const tooltipVisible = ref(false);\n  const enableFormat = computed(() => {\n    return formatTooltip.value instanceof Function;\n  });\n  const formatValue = computed(() => {\n    return enableFormat.value && formatTooltip.value(props.modelValue) || props.modelValue;\n  });\n  const displayTooltip = debounce(() => {\n    showTooltip.value && (tooltipVisible.value = true);\n  }, 50);\n  const hideTooltip = debounce(() => {\n    showTooltip.value && (tooltipVisible.value = false);\n  }, 50);\n  return {\n    tooltip,\n    tooltipVisible,\n    formatValue,\n    displayTooltip,\n    hideTooltip\n  };\n};\n\nconst useSliderButton = (props, initData, emit) => {\n  const {\n    disabled,\n    min,\n    max,\n    step,\n    showTooltip,\n    precision,\n    sliderSize,\n    formatTooltip,\n    emitChange,\n    resetSize,\n    updateDragging\n  } = inject(\"SliderProvider\");\n  const {\n    tooltip,\n    tooltipVisible,\n    formatValue,\n    displayTooltip,\n    hideTooltip\n  } = useTooltip(props, formatTooltip, showTooltip);\n  const currentPosition = computed(() => {\n    return `${(props.modelValue - min.value) / (max.value - min.value) * 100}%`;\n  });\n  const wrapperStyle = computed(() => {\n    return props.vertical ? {\n      bottom: currentPosition.value\n    } : {\n      left: currentPosition.value\n    };\n  });\n\n  const handleMouseEnter = () => {\n    initData.hovering = true;\n    displayTooltip();\n  };\n\n  const handleMouseLeave = () => {\n    initData.hovering = false;\n\n    if (!initData.dragging) {\n      hideTooltip();\n    }\n  };\n\n  const onButtonDown = event => {\n    if (disabled.value) return;\n    event.preventDefault();\n    onDragStart(event);\n    on(window, \"mousemove\", onDragging);\n    on(window, \"touchmove\", onDragging);\n    on(window, \"mouseup\", onDragEnd);\n    on(window, \"touchend\", onDragEnd);\n    on(window, \"contextmenu\", onDragEnd);\n  };\n\n  const onLeftKeyDown = () => {\n    if (disabled.value) return;\n    initData.newPosition = parseFloat(currentPosition.value) - step.value / (max.value - min.value) * 100;\n    setPosition(initData.newPosition);\n    emitChange();\n  };\n\n  const onRightKeyDown = () => {\n    if (disabled.value) return;\n    initData.newPosition = parseFloat(currentPosition.value) + step.value / (max.value - min.value) * 100;\n    setPosition(initData.newPosition);\n    emitChange();\n  };\n\n  const getClientXY = event => {\n    let clientX;\n    let clientY;\n\n    if (event.type.startsWith(\"touch\")) {\n      clientY = event.touches[0].clientY;\n      clientX = event.touches[0].clientX;\n    } else {\n      clientY = event.clientY;\n      clientX = event.clientX;\n    }\n\n    return {\n      clientX,\n      clientY\n    };\n  };\n\n  const onDragStart = event => {\n    initData.dragging = true;\n    initData.isClick = true;\n    const {\n      clientX,\n      clientY\n    } = getClientXY(event);\n\n    if (props.vertical) {\n      initData.startY = clientY;\n    } else {\n      initData.startX = clientX;\n    }\n\n    initData.startPosition = parseFloat(currentPosition.value);\n    initData.newPosition = initData.startPosition;\n  };\n\n  const onDragging = event => {\n    if (initData.dragging) {\n      initData.isClick = false;\n      displayTooltip();\n      resetSize();\n      let diff;\n      const {\n        clientX,\n        clientY\n      } = getClientXY(event);\n\n      if (props.vertical) {\n        initData.currentY = clientY;\n        diff = (initData.startY - initData.currentY) / sliderSize.value * 100;\n      } else {\n        initData.currentX = clientX;\n        diff = (initData.currentX - initData.startX) / sliderSize.value * 100;\n      }\n\n      initData.newPosition = initData.startPosition + diff;\n      setPosition(initData.newPosition);\n    }\n  };\n\n  const onDragEnd = () => {\n    if (initData.dragging) {\n      setTimeout(() => {\n        initData.dragging = false;\n\n        if (!initData.hovering) {\n          hideTooltip();\n        }\n\n        if (!initData.isClick) {\n          setPosition(initData.newPosition);\n          emitChange();\n        }\n      }, 0);\n      off(window, \"mousemove\", onDragging);\n      off(window, \"touchmove\", onDragging);\n      off(window, \"mouseup\", onDragEnd);\n      off(window, \"touchend\", onDragEnd);\n      off(window, \"contextmenu\", onDragEnd);\n    }\n  };\n\n  const setPosition = newPosition => __async(undefined, null, function* () {\n    if (newPosition === null || isNaN(newPosition)) return;\n\n    if (newPosition < 0) {\n      newPosition = 0;\n    } else if (newPosition > 100) {\n      newPosition = 100;\n    }\n\n    const lengthPerStep = 100 / ((max.value - min.value) / step.value);\n    const steps = Math.round(newPosition / lengthPerStep);\n    let value = steps * lengthPerStep * (max.value - min.value) * 0.01 + min.value;\n    value = parseFloat(value.toFixed(precision.value));\n    emit(UPDATE_MODEL_EVENT, value);\n\n    if (!initData.dragging && props.modelValue !== initData.oldValue) {\n      initData.oldValue = props.modelValue;\n    }\n\n    yield nextTick();\n    initData.dragging && displayTooltip();\n    tooltip.value.updatePopper();\n  });\n\n  watch(() => initData.dragging, val => {\n    updateDragging(val);\n  });\n  return {\n    tooltip,\n    tooltipVisible,\n    showTooltip,\n    wrapperStyle,\n    formatValue,\n    handleMouseEnter,\n    handleMouseLeave,\n    onButtonDown,\n    onLeftKeyDown,\n    onRightKeyDown,\n    setPosition\n  };\n};\n\nvar script = defineComponent({\n  name: \"ElSliderButton\",\n  components: {\n    ElTooltip\n  },\n  props: {\n    modelValue: {\n      type: Number,\n      default: 0\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    tooltipClass: {\n      type: String,\n      default: \"\"\n    }\n  },\n  emits: [UPDATE_MODEL_EVENT],\n\n  setup(props, {\n    emit\n  }) {\n    const initData = reactive({\n      hovering: false,\n      dragging: false,\n      isClick: false,\n      startX: 0,\n      currentX: 0,\n      startY: 0,\n      currentY: 0,\n      startPosition: 0,\n      newPosition: 0,\n      oldValue: props.modelValue\n    });\n    const {\n      tooltip,\n      showTooltip,\n      tooltipVisible,\n      wrapperStyle,\n      formatValue,\n      handleMouseEnter,\n      handleMouseLeave,\n      onButtonDown,\n      onLeftKeyDown,\n      onRightKeyDown,\n      setPosition\n    } = useSliderButton(props, initData, emit);\n    const {\n      hovering,\n      dragging\n    } = toRefs(initData);\n    return {\n      tooltip,\n      tooltipVisible,\n      showTooltip,\n      wrapperStyle,\n      formatValue,\n      handleMouseEnter,\n      handleMouseLeave,\n      onButtonDown,\n      onLeftKeyDown,\n      onRightKeyDown,\n      setPosition,\n      hovering,\n      dragging\n    };\n  }\n\n});\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tooltip = resolveComponent(\"el-tooltip\");\n\n  return openBlock(), createBlock(\"div\", {\n    ref: \"button\",\n    class: [\"el-slider__button-wrapper\", {\n      hover: _ctx.hovering,\n      dragging: _ctx.dragging\n    }],\n    style: _ctx.wrapperStyle,\n    tabindex: \"0\",\n    onMouseenter: _cache[2] || (_cache[2] = (...args) => _ctx.handleMouseEnter && _ctx.handleMouseEnter(...args)),\n    onMouseleave: _cache[3] || (_cache[3] = (...args) => _ctx.handleMouseLeave && _ctx.handleMouseLeave(...args)),\n    onMousedown: _cache[4] || (_cache[4] = (...args) => _ctx.onButtonDown && _ctx.onButtonDown(...args)),\n    onTouchstart: _cache[5] || (_cache[5] = (...args) => _ctx.onButtonDown && _ctx.onButtonDown(...args)),\n    onFocus: _cache[6] || (_cache[6] = (...args) => _ctx.handleMouseEnter && _ctx.handleMouseEnter(...args)),\n    onBlur: _cache[7] || (_cache[7] = (...args) => _ctx.handleMouseLeave && _ctx.handleMouseLeave(...args)),\n    onKeydown: [_cache[8] || (_cache[8] = withKeys((...args) => _ctx.onLeftKeyDown && _ctx.onLeftKeyDown(...args), [\"left\"])), _cache[9] || (_cache[9] = withKeys((...args) => _ctx.onRightKeyDown && _ctx.onRightKeyDown(...args), [\"right\"])), _cache[10] || (_cache[10] = withKeys(withModifiers((...args) => _ctx.onLeftKeyDown && _ctx.onLeftKeyDown(...args), [\"prevent\"]), [\"down\"])), _cache[11] || (_cache[11] = withKeys(withModifiers((...args) => _ctx.onRightKeyDown && _ctx.onRightKeyDown(...args), [\"prevent\"]), [\"up\"]))]\n  }, [createVNode(_component_el_tooltip, {\n    ref: \"tooltip\",\n    modelValue: _ctx.tooltipVisible,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.tooltipVisible = $event),\n    placement: \"top\",\n    \"stop-popper-mouse-event\": false,\n    \"popper-class\": _ctx.tooltipClass,\n    disabled: !_ctx.showTooltip,\n    manual: \"\"\n  }, {\n    content: withCtx(() => [createVNode(\"span\", null, toDisplayString(_ctx.formatValue), 1)]),\n    default: withCtx(() => [createVNode(\"div\", {\n      class: [\"el-slider__button\", {\n        hover: _ctx.hovering,\n        dragging: _ctx.dragging\n      }]\n    }, null, 2)]),\n    _: 1\n  }, 8, [\"modelValue\", \"popper-class\", \"disabled\"])], 38);\n}\n\nscript.render = render;\nscript.__file = \"packages/slider/src/button.vue\";\nvar script$1 = defineComponent({\n  name: \"ElMarker\",\n  props: {\n    mark: {\n      type: [String, Object],\n      default: () => void 0\n    }\n  },\n\n  setup(props) {\n    const label = computed(() => {\n      return typeof props.mark === \"string\" ? props.mark : props.mark.label;\n    });\n    return {\n      label\n    };\n  },\n\n  render() {\n    var _a;\n\n    return h(\"div\", {\n      class: \"el-slider__marks-text\",\n      style: (_a = this.mark) == null ? void 0 : _a.style\n    }, this.label);\n  }\n\n});\nscript$1.__file = \"packages/slider/src/marker.vue\";\n\nconst useMarks = props => {\n  return computed(() => {\n    if (!props.marks) {\n      return [];\n    }\n\n    const marksKeys = Object.keys(props.marks);\n    return marksKeys.map(parseFloat).sort((a, b) => a - b).filter(point => point <= props.max && point >= props.min).map(point => ({\n      point,\n      position: (point - props.min) * 100 / (props.max - props.min),\n      mark: props.marks[point]\n    }));\n  });\n};\n\nvar __async$1 = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = value => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var rejected = value => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var step = x => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\nconst useSlide = (props, initData, emit) => {\n  const elForm = inject(elFormKey, {});\n  const elFormItem = inject(elFormItemKey, {});\n  const slider = ref(null);\n  const firstButton = ref(null);\n  const secondButton = ref(null);\n  const buttonRefs = {\n    firstButton,\n    secondButton\n  };\n  const sliderDisabled = computed(() => {\n    return props.disabled || elForm.disabled || false;\n  });\n  const minValue = computed(() => {\n    return Math.min(initData.firstValue, initData.secondValue);\n  });\n  const maxValue = computed(() => {\n    return Math.max(initData.firstValue, initData.secondValue);\n  });\n  const barSize = computed(() => {\n    return props.range ? `${100 * (maxValue.value - minValue.value) / (props.max - props.min)}%` : `${100 * (initData.firstValue - props.min) / (props.max - props.min)}%`;\n  });\n  const barStart = computed(() => {\n    return props.range ? `${100 * (minValue.value - props.min) / (props.max - props.min)}%` : \"0%\";\n  });\n  const runwayStyle = computed(() => {\n    return props.vertical ? {\n      height: props.height\n    } : {};\n  });\n  const barStyle = computed(() => {\n    return props.vertical ? {\n      height: barSize.value,\n      bottom: barStart.value\n    } : {\n      width: barSize.value,\n      left: barStart.value\n    };\n  });\n\n  const resetSize = () => {\n    if (slider.value) {\n      initData.sliderSize = slider.value[`client${props.vertical ? \"Height\" : \"Width\"}`];\n    }\n  };\n\n  const setPosition = percent => {\n    const targetValue = props.min + percent * (props.max - props.min) / 100;\n\n    if (!props.range) {\n      firstButton.value.setPosition(percent);\n      return;\n    }\n\n    let buttonRefName;\n\n    if (Math.abs(minValue.value - targetValue) < Math.abs(maxValue.value - targetValue)) {\n      buttonRefName = initData.firstValue < initData.secondValue ? \"firstButton\" : \"secondButton\";\n    } else {\n      buttonRefName = initData.firstValue > initData.secondValue ? \"firstButton\" : \"secondButton\";\n    }\n\n    buttonRefs[buttonRefName].value.setPosition(percent);\n  };\n\n  const emitChange = () => __async$1(undefined, null, function* () {\n    yield nextTick();\n    emit(CHANGE_EVENT, props.range ? [minValue.value, maxValue.value] : props.modelValue);\n  });\n\n  const onSliderClick = event => {\n    if (sliderDisabled.value || initData.dragging) return;\n    resetSize();\n\n    if (props.vertical) {\n      const sliderOffsetBottom = slider.value.getBoundingClientRect().bottom;\n      setPosition((sliderOffsetBottom - event.clientY) / initData.sliderSize * 100);\n    } else {\n      const sliderOffsetLeft = slider.value.getBoundingClientRect().left;\n      setPosition((event.clientX - sliderOffsetLeft) / initData.sliderSize * 100);\n    }\n\n    emitChange();\n  };\n\n  return {\n    elFormItem,\n    slider,\n    firstButton,\n    secondButton,\n    sliderDisabled,\n    minValue,\n    maxValue,\n    runwayStyle,\n    barStyle,\n    resetSize,\n    setPosition,\n    emitChange,\n    onSliderClick\n  };\n};\n\nconst useStops = (props, initData, minValue, maxValue) => {\n  const stops = computed(() => {\n    if (!props.showStops || props.min > props.max) return [];\n\n    if (props.step === 0) {\n      process.env.NODE_ENV !== \"production\" && console.warn(\"[Element Warn][Slider]step should not be 0.\");\n      return [];\n    }\n\n    const stopCount = (props.max - props.min) / props.step;\n    const stepWidth = 100 * props.step / (props.max - props.min);\n    const result = Array.from({\n      length: stopCount - 1\n    }).map((_, index) => (index + 1) * stepWidth);\n\n    if (props.range) {\n      return result.filter(step => {\n        return step < 100 * (minValue.value - props.min) / (props.max - props.min) || step > 100 * (maxValue.value - props.min) / (props.max - props.min);\n      });\n    } else {\n      return result.filter(step => step > 100 * (initData.firstValue - props.min) / (props.max - props.min));\n    }\n  });\n\n  const getStopStyle = position => {\n    return props.vertical ? {\n      \"bottom\": position + \"%\"\n    } : {\n      \"left\": position + \"%\"\n    };\n  };\n\n  return {\n    stops,\n    getStopStyle\n  };\n};\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\nvar __async$2 = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = value => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var rejected = value => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var step = x => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\nvar script$2 = defineComponent({\n  name: \"ElSlider\",\n  components: {\n    ElInputNumber,\n    SliderButton: script,\n    SliderMarker: script$1\n  },\n  props: {\n    modelValue: {\n      type: [Number, Array],\n      default: 0\n    },\n    min: {\n      type: Number,\n      default: 0\n    },\n    max: {\n      type: Number,\n      default: 100\n    },\n    step: {\n      type: Number,\n      default: 1\n    },\n    showInput: {\n      type: Boolean,\n      default: false\n    },\n    showInputControls: {\n      type: Boolean,\n      default: true\n    },\n    inputSize: {\n      type: String,\n      default: \"small\"\n    },\n    showStops: {\n      type: Boolean,\n      default: false\n    },\n    showTooltip: {\n      type: Boolean,\n      default: true\n    },\n    formatTooltip: {\n      type: Function,\n      default: void 0\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    range: {\n      type: Boolean,\n      default: false\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    height: {\n      type: String,\n      default: \"\"\n    },\n    debounce: {\n      type: Number,\n      default: 300\n    },\n    label: {\n      type: String,\n      default: void 0\n    },\n    tooltipClass: {\n      type: String,\n      default: void 0\n    },\n    marks: Object\n  },\n  emits: [UPDATE_MODEL_EVENT, CHANGE_EVENT, INPUT_EVENT],\n\n  setup(props, {\n    emit\n  }) {\n    const initData = reactive({\n      firstValue: 0,\n      secondValue: 0,\n      oldValue: 0,\n      dragging: false,\n      sliderSize: 1\n    });\n    const {\n      elFormItem,\n      slider,\n      firstButton,\n      secondButton,\n      sliderDisabled,\n      minValue,\n      maxValue,\n      runwayStyle,\n      barStyle,\n      resetSize,\n      emitChange,\n      onSliderClick\n    } = useSlide(props, initData, emit);\n    const {\n      stops,\n      getStopStyle\n    } = useStops(props, initData, minValue, maxValue);\n    const markList = useMarks(props);\n    useWatch(props, initData, minValue, maxValue, emit, elFormItem);\n    const precision = computed(() => {\n      let precisions = [props.min, props.max, props.step].map(item => {\n        let decimal = (\"\" + item).split(\".\")[1];\n        return decimal ? decimal.length : 0;\n      });\n      return Math.max.apply(null, precisions);\n    });\n    const {\n      sliderWrapper\n    } = useLifecycle(props, initData, resetSize);\n    const {\n      firstValue,\n      secondValue,\n      oldValue,\n      dragging,\n      sliderSize\n    } = toRefs(initData);\n\n    const updateDragging = val => {\n      initData.dragging = val;\n    };\n\n    provide(\"SliderProvider\", __spreadProps(__spreadValues({}, toRefs(props)), {\n      sliderSize,\n      disabled: sliderDisabled,\n      precision,\n      emitChange,\n      resetSize,\n      updateDragging\n    }));\n    return {\n      firstValue,\n      secondValue,\n      oldValue,\n      dragging,\n      sliderSize,\n      slider,\n      firstButton,\n      secondButton,\n      sliderDisabled,\n      runwayStyle,\n      barStyle,\n      emitChange,\n      onSliderClick,\n      getStopStyle,\n      stops,\n      markList,\n      sliderWrapper\n    };\n  }\n\n});\n\nconst useWatch = (props, initData, minValue, maxValue, emit, elFormItem) => {\n  const _emit = val => {\n    emit(UPDATE_MODEL_EVENT, val);\n    emit(INPUT_EVENT, val);\n  };\n\n  const valueChanged = () => {\n    if (props.range) {\n      return ![minValue.value, maxValue.value].every((item, index) => item === initData.oldValue[index]);\n    } else {\n      return props.modelValue !== initData.oldValue;\n    }\n  };\n\n  const setValues = () => {\n    var _a, _b;\n\n    if (props.min > props.max) {\n      throwError(\"Slider\", \"min should not be greater than max.\");\n      return;\n    }\n\n    const val = props.modelValue;\n\n    if (props.range && Array.isArray(val)) {\n      if (val[1] < props.min) {\n        _emit([props.min, props.min]);\n      } else if (val[0] > props.max) {\n        _emit([props.max, props.max]);\n      } else if (val[0] < props.min) {\n        _emit([props.min, val[1]]);\n      } else if (val[1] > props.max) {\n        _emit([val[0], props.max]);\n      } else {\n        initData.firstValue = val[0];\n        initData.secondValue = val[1];\n\n        if (valueChanged()) {\n          (_a = elFormItem.formItemMitt) == null ? void 0 : _a.emit(\"el.form.change\", [minValue.value, maxValue.value]);\n          initData.oldValue = val.slice();\n        }\n      }\n    } else if (!props.range && typeof val === \"number\" && !isNaN(val)) {\n      if (val < props.min) {\n        _emit(props.min);\n      } else if (val > props.max) {\n        _emit(props.max);\n      } else {\n        initData.firstValue = val;\n\n        if (valueChanged()) {\n          (_b = elFormItem.formItemMitt) == null ? void 0 : _b.emit(\"el.form.change\", val);\n          initData.oldValue = val;\n        }\n      }\n    }\n  };\n\n  setValues();\n  watch(() => initData.dragging, val => {\n    if (!val) {\n      setValues();\n    }\n  });\n  watch(() => initData.firstValue, val => {\n    if (props.range) {\n      _emit([minValue.value, maxValue.value]);\n    } else {\n      _emit(val);\n    }\n  });\n  watch(() => initData.secondValue, () => {\n    if (props.range) {\n      _emit([minValue.value, maxValue.value]);\n    }\n  });\n  watch(() => props.modelValue, (val, oldVal) => {\n    if (initData.dragging || Array.isArray(val) && Array.isArray(oldVal) && val.every((item, index) => item === oldVal[index])) {\n      return;\n    }\n\n    setValues();\n  });\n  watch(() => [props.min, props.max], () => {\n    setValues();\n  });\n};\n\nconst useLifecycle = (props, initData, resetSize) => {\n  const sliderWrapper = ref(null);\n  onMounted(() => __async$2(undefined, null, function* () {\n    let valuetext;\n\n    if (props.range) {\n      if (Array.isArray(props.modelValue)) {\n        initData.firstValue = Math.max(props.min, props.modelValue[0]);\n        initData.secondValue = Math.min(props.max, props.modelValue[1]);\n      } else {\n        initData.firstValue = props.min;\n        initData.secondValue = props.max;\n      }\n\n      initData.oldValue = [initData.firstValue, initData.secondValue];\n      valuetext = `${initData.firstValue}-${initData.secondValue}`;\n    } else {\n      if (typeof props.modelValue !== \"number\" || isNaN(props.modelValue)) {\n        initData.firstValue = props.min;\n      } else {\n        initData.firstValue = Math.min(props.max, Math.max(props.min, props.modelValue));\n      }\n\n      initData.oldValue = initData.firstValue;\n      valuetext = initData.firstValue;\n    }\n\n    sliderWrapper.value.setAttribute(\"aria-valuetext\", valuetext);\n    sliderWrapper.value.setAttribute(\"aria-label\", props.label ? props.label : `slider between ${props.min} and ${props.max}`);\n    on(window, \"resize\", resetSize);\n    yield nextTick();\n    resetSize();\n  }));\n  onBeforeUnmount(() => {\n    off(window, \"resize\", resetSize);\n  });\n  return {\n    sliderWrapper\n  };\n};\n\nconst _hoisted_1 = {\n  key: 1\n};\nconst _hoisted_2 = {\n  class: \"el-slider__marks\"\n};\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input_number = resolveComponent(\"el-input-number\");\n\n  const _component_slider_button = resolveComponent(\"slider-button\");\n\n  const _component_slider_marker = resolveComponent(\"slider-marker\");\n\n  return openBlock(), createBlock(\"div\", {\n    ref: \"sliderWrapper\",\n    class: [\"el-slider\", {\n      \"is-vertical\": _ctx.vertical,\n      \"el-slider--with-input\": _ctx.showInput\n    }],\n    role: \"slider\",\n    \"aria-valuemin\": _ctx.min,\n    \"aria-valuemax\": _ctx.max,\n    \"aria-orientation\": _ctx.vertical ? \"vertical\" : \"horizontal\",\n    \"aria-disabled\": _ctx.sliderDisabled\n  }, [_ctx.showInput && !_ctx.range ? (openBlock(), createBlock(_component_el_input_number, {\n    key: 0,\n    ref: \"input\",\n    modelValue: _ctx.firstValue,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.firstValue = $event),\n    class: \"el-slider__input\",\n    step: _ctx.step,\n    disabled: _ctx.sliderDisabled,\n    controls: _ctx.showInputControls,\n    min: _ctx.min,\n    max: _ctx.max,\n    debounce: _ctx.debounce,\n    size: _ctx.inputSize,\n    onChange: _ctx.emitChange\n  }, null, 8, [\"modelValue\", \"step\", \"disabled\", \"controls\", \"min\", \"max\", \"debounce\", \"size\", \"onChange\"])) : createCommentVNode(\"v-if\", true), createVNode(\"div\", {\n    ref: \"slider\",\n    class: [\"el-slider__runway\", {\n      \"show-input\": _ctx.showInput && !_ctx.range,\n      \"disabled\": _ctx.sliderDisabled\n    }],\n    style: _ctx.runwayStyle,\n    onClick: _cache[4] || (_cache[4] = (...args) => _ctx.onSliderClick && _ctx.onSliderClick(...args))\n  }, [createVNode(\"div\", {\n    class: \"el-slider__bar\",\n    style: _ctx.barStyle\n  }, null, 4), createVNode(_component_slider_button, {\n    ref: \"firstButton\",\n    modelValue: _ctx.firstValue,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.firstValue = $event),\n    vertical: _ctx.vertical,\n    \"tooltip-class\": _ctx.tooltipClass\n  }, null, 8, [\"modelValue\", \"vertical\", \"tooltip-class\"]), _ctx.range ? (openBlock(), createBlock(_component_slider_button, {\n    key: 0,\n    ref: \"secondButton\",\n    modelValue: _ctx.secondValue,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.secondValue = $event),\n    vertical: _ctx.vertical,\n    \"tooltip-class\": _ctx.tooltipClass\n  }, null, 8, [\"modelValue\", \"vertical\", \"tooltip-class\"])) : createCommentVNode(\"v-if\", true), _ctx.showStops ? (openBlock(), createBlock(\"div\", _hoisted_1, [(openBlock(true), createBlock(Fragment, null, renderList(_ctx.stops, (item, key) => {\n    return openBlock(), createBlock(\"div\", {\n      key,\n      class: \"el-slider__stop\",\n      style: _ctx.getStopStyle(item)\n    }, null, 4);\n  }), 128))])) : createCommentVNode(\"v-if\", true), _ctx.markList.length > 0 ? (openBlock(), createBlock(Fragment, {\n    key: 2\n  }, [createVNode(\"div\", null, [(openBlock(true), createBlock(Fragment, null, renderList(_ctx.markList, (item, key) => {\n    return openBlock(), createBlock(\"div\", {\n      key,\n      style: _ctx.getStopStyle(item.position),\n      class: \"el-slider__stop el-slider__marks-stop\"\n    }, null, 4);\n  }), 128))]), createVNode(\"div\", _hoisted_2, [(openBlock(true), createBlock(Fragment, null, renderList(_ctx.markList, (item, key) => {\n    return openBlock(), createBlock(_component_slider_marker, {\n      key,\n      mark: item.mark,\n      style: _ctx.getStopStyle(item.position)\n    }, null, 8, [\"mark\", \"style\"]);\n  }), 128))])], 64)) : createCommentVNode(\"v-if\", true)], 6)], 10, [\"aria-valuemin\", \"aria-valuemax\", \"aria-orientation\", \"aria-disabled\"]);\n}\n\nscript$2.render = render$1;\nscript$2.__file = \"packages/slider/src/index.vue\";\n\nscript$2.install = app => {\n  app.component(script$2.name, script$2);\n};\n\nconst _Slider = script$2;\nexport default _Slider;","map":{"version":3,"names":["inject","computed","nextTick","watch","ref","defineComponent","reactive","toRefs","resolveComponent","openBlock","createBlock","withKeys","withModifiers","createVNode","withCtx","toDisplayString","h","provide","onMounted","onBeforeUnmount","createCommentVNode","Fragment","renderList","UPDATE_MODEL_EVENT","CHANGE_EVENT","INPUT_EVENT","on","off","throwError","ElInputNumber","ElTooltip","debounce","elFormKey","elFormItemKey","__async","__this","__arguments","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","throw","x","done","then","apply","useTooltip","props","formatTooltip","showTooltip","tooltip","tooltipVisible","enableFormat","Function","formatValue","modelValue","displayTooltip","hideTooltip","useSliderButton","initData","emit","disabled","min","max","precision","sliderSize","emitChange","resetSize","updateDragging","currentPosition","wrapperStyle","vertical","bottom","left","handleMouseEnter","hovering","handleMouseLeave","dragging","onButtonDown","event","preventDefault","onDragStart","window","onDragging","onDragEnd","onLeftKeyDown","newPosition","parseFloat","setPosition","onRightKeyDown","getClientXY","clientX","clientY","type","startsWith","touches","isClick","startY","startX","startPosition","diff","currentY","currentX","setTimeout","undefined","isNaN","lengthPerStep","steps","Math","round","toFixed","oldValue","updatePopper","val","script","name","components","Number","default","Boolean","tooltipClass","String","emits","setup","render","_ctx","_cache","$props","$setup","$data","$options","_component_el_tooltip","class","hover","style","tabindex","onMouseenter","args","onMouseleave","onMousedown","onTouchstart","onFocus","onBlur","onKeydown","$event","placement","manual","content","_","__file","script$1","mark","Object","label","_a","useMarks","marks","marksKeys","keys","map","sort","a","b","filter","point","position","__async$1","useSlide","elForm","elFormItem","slider","firstButton","secondButton","buttonRefs","sliderDisabled","minValue","firstValue","secondValue","maxValue","barSize","range","barStart","runwayStyle","height","barStyle","width","percent","targetValue","buttonRefName","abs","onSliderClick","sliderOffsetBottom","getBoundingClientRect","sliderOffsetLeft","useStops","stops","showStops","process","env","NODE_ENV","console","warn","stopCount","stepWidth","result","Array","from","length","index","getStopStyle","__defProp","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","enumerable","configurable","writable","__spreadValues","prop","call","__spreadProps","__async$2","script$2","SliderButton","SliderMarker","showInput","showInputControls","inputSize","markList","useWatch","precisions","item","decimal","split","sliderWrapper","useLifecycle","_emit","valueChanged","every","setValues","_b","isArray","formItemMitt","slice","oldVal","valuetext","setAttribute","_hoisted_1","_hoisted_2","render$1","_component_el_input_number","_component_slider_button","_component_slider_marker","role","controls","size","onChange","onClick","install","app","component","_Slider"],"sources":["D:/project/my_blog/blog-ui/node_modules/element-plus/es/el-slider/index.js"],"sourcesContent":["import { inject, computed, nextTick, watch, ref, defineComponent, reactive, toRefs, resolveComponent, openBlock, createBlock, withKeys, withModifiers, createVNode, withCtx, toDisplayString, h, provide, onMounted, onBeforeUnmount, createCommentVNode, Fragment, renderList } from 'vue';\nimport { UPDATE_MODEL_EVENT, CHANGE_EVENT, INPUT_EVENT } from '../utils/constants';\nimport { on, off } from '../utils/dom';\nimport throwError from '../utils/error';\nimport ElInputNumber from '../el-input-number';\nimport ElTooltip from '../el-tooltip';\nimport debounce from 'lodash/debounce';\nimport { elFormKey, elFormItemKey } from '../el-form';\n\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nconst useTooltip = (props, formatTooltip, showTooltip) => {\n  const tooltip = ref(null);\n  const tooltipVisible = ref(false);\n  const enableFormat = computed(() => {\n    return formatTooltip.value instanceof Function;\n  });\n  const formatValue = computed(() => {\n    return enableFormat.value && formatTooltip.value(props.modelValue) || props.modelValue;\n  });\n  const displayTooltip = debounce(() => {\n    showTooltip.value && (tooltipVisible.value = true);\n  }, 50);\n  const hideTooltip = debounce(() => {\n    showTooltip.value && (tooltipVisible.value = false);\n  }, 50);\n  return {\n    tooltip,\n    tooltipVisible,\n    formatValue,\n    displayTooltip,\n    hideTooltip\n  };\n};\nconst useSliderButton = (props, initData, emit) => {\n  const {\n    disabled,\n    min,\n    max,\n    step,\n    showTooltip,\n    precision,\n    sliderSize,\n    formatTooltip,\n    emitChange,\n    resetSize,\n    updateDragging\n  } = inject(\"SliderProvider\");\n  const {\n    tooltip,\n    tooltipVisible,\n    formatValue,\n    displayTooltip,\n    hideTooltip\n  } = useTooltip(props, formatTooltip, showTooltip);\n  const currentPosition = computed(() => {\n    return `${(props.modelValue - min.value) / (max.value - min.value) * 100}%`;\n  });\n  const wrapperStyle = computed(() => {\n    return props.vertical ? { bottom: currentPosition.value } : { left: currentPosition.value };\n  });\n  const handleMouseEnter = () => {\n    initData.hovering = true;\n    displayTooltip();\n  };\n  const handleMouseLeave = () => {\n    initData.hovering = false;\n    if (!initData.dragging) {\n      hideTooltip();\n    }\n  };\n  const onButtonDown = (event) => {\n    if (disabled.value)\n      return;\n    event.preventDefault();\n    onDragStart(event);\n    on(window, \"mousemove\", onDragging);\n    on(window, \"touchmove\", onDragging);\n    on(window, \"mouseup\", onDragEnd);\n    on(window, \"touchend\", onDragEnd);\n    on(window, \"contextmenu\", onDragEnd);\n  };\n  const onLeftKeyDown = () => {\n    if (disabled.value)\n      return;\n    initData.newPosition = parseFloat(currentPosition.value) - step.value / (max.value - min.value) * 100;\n    setPosition(initData.newPosition);\n    emitChange();\n  };\n  const onRightKeyDown = () => {\n    if (disabled.value)\n      return;\n    initData.newPosition = parseFloat(currentPosition.value) + step.value / (max.value - min.value) * 100;\n    setPosition(initData.newPosition);\n    emitChange();\n  };\n  const getClientXY = (event) => {\n    let clientX;\n    let clientY;\n    if (event.type.startsWith(\"touch\")) {\n      clientY = event.touches[0].clientY;\n      clientX = event.touches[0].clientX;\n    } else {\n      clientY = event.clientY;\n      clientX = event.clientX;\n    }\n    return {\n      clientX,\n      clientY\n    };\n  };\n  const onDragStart = (event) => {\n    initData.dragging = true;\n    initData.isClick = true;\n    const {\n      clientX,\n      clientY\n    } = getClientXY(event);\n    if (props.vertical) {\n      initData.startY = clientY;\n    } else {\n      initData.startX = clientX;\n    }\n    initData.startPosition = parseFloat(currentPosition.value);\n    initData.newPosition = initData.startPosition;\n  };\n  const onDragging = (event) => {\n    if (initData.dragging) {\n      initData.isClick = false;\n      displayTooltip();\n      resetSize();\n      let diff;\n      const {\n        clientX,\n        clientY\n      } = getClientXY(event);\n      if (props.vertical) {\n        initData.currentY = clientY;\n        diff = (initData.startY - initData.currentY) / sliderSize.value * 100;\n      } else {\n        initData.currentX = clientX;\n        diff = (initData.currentX - initData.startX) / sliderSize.value * 100;\n      }\n      initData.newPosition = initData.startPosition + diff;\n      setPosition(initData.newPosition);\n    }\n  };\n  const onDragEnd = () => {\n    if (initData.dragging) {\n      setTimeout(() => {\n        initData.dragging = false;\n        if (!initData.hovering) {\n          hideTooltip();\n        }\n        if (!initData.isClick) {\n          setPosition(initData.newPosition);\n          emitChange();\n        }\n      }, 0);\n      off(window, \"mousemove\", onDragging);\n      off(window, \"touchmove\", onDragging);\n      off(window, \"mouseup\", onDragEnd);\n      off(window, \"touchend\", onDragEnd);\n      off(window, \"contextmenu\", onDragEnd);\n    }\n  };\n  const setPosition = (newPosition) => __async(undefined, null, function* () {\n    if (newPosition === null || isNaN(newPosition))\n      return;\n    if (newPosition < 0) {\n      newPosition = 0;\n    } else if (newPosition > 100) {\n      newPosition = 100;\n    }\n    const lengthPerStep = 100 / ((max.value - min.value) / step.value);\n    const steps = Math.round(newPosition / lengthPerStep);\n    let value = steps * lengthPerStep * (max.value - min.value) * 0.01 + min.value;\n    value = parseFloat(value.toFixed(precision.value));\n    emit(UPDATE_MODEL_EVENT, value);\n    if (!initData.dragging && props.modelValue !== initData.oldValue) {\n      initData.oldValue = props.modelValue;\n    }\n    yield nextTick();\n    initData.dragging && displayTooltip();\n    tooltip.value.updatePopper();\n  });\n  watch(() => initData.dragging, (val) => {\n    updateDragging(val);\n  });\n  return {\n    tooltip,\n    tooltipVisible,\n    showTooltip,\n    wrapperStyle,\n    formatValue,\n    handleMouseEnter,\n    handleMouseLeave,\n    onButtonDown,\n    onLeftKeyDown,\n    onRightKeyDown,\n    setPosition\n  };\n};\n\nvar script = defineComponent({\n  name: \"ElSliderButton\",\n  components: {\n    ElTooltip\n  },\n  props: {\n    modelValue: {\n      type: Number,\n      default: 0\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    tooltipClass: {\n      type: String,\n      default: \"\"\n    }\n  },\n  emits: [UPDATE_MODEL_EVENT],\n  setup(props, { emit }) {\n    const initData = reactive({\n      hovering: false,\n      dragging: false,\n      isClick: false,\n      startX: 0,\n      currentX: 0,\n      startY: 0,\n      currentY: 0,\n      startPosition: 0,\n      newPosition: 0,\n      oldValue: props.modelValue\n    });\n    const {\n      tooltip,\n      showTooltip,\n      tooltipVisible,\n      wrapperStyle,\n      formatValue,\n      handleMouseEnter,\n      handleMouseLeave,\n      onButtonDown,\n      onLeftKeyDown,\n      onRightKeyDown,\n      setPosition\n    } = useSliderButton(props, initData, emit);\n    const { hovering, dragging } = toRefs(initData);\n    return {\n      tooltip,\n      tooltipVisible,\n      showTooltip,\n      wrapperStyle,\n      formatValue,\n      handleMouseEnter,\n      handleMouseLeave,\n      onButtonDown,\n      onLeftKeyDown,\n      onRightKeyDown,\n      setPosition,\n      hovering,\n      dragging\n    };\n  }\n});\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tooltip = resolveComponent(\"el-tooltip\");\n  return openBlock(), createBlock(\"div\", {\n    ref: \"button\",\n    class: [\"el-slider__button-wrapper\", { hover: _ctx.hovering, dragging: _ctx.dragging }],\n    style: _ctx.wrapperStyle,\n    tabindex: \"0\",\n    onMouseenter: _cache[2] || (_cache[2] = (...args) => _ctx.handleMouseEnter && _ctx.handleMouseEnter(...args)),\n    onMouseleave: _cache[3] || (_cache[3] = (...args) => _ctx.handleMouseLeave && _ctx.handleMouseLeave(...args)),\n    onMousedown: _cache[4] || (_cache[4] = (...args) => _ctx.onButtonDown && _ctx.onButtonDown(...args)),\n    onTouchstart: _cache[5] || (_cache[5] = (...args) => _ctx.onButtonDown && _ctx.onButtonDown(...args)),\n    onFocus: _cache[6] || (_cache[6] = (...args) => _ctx.handleMouseEnter && _ctx.handleMouseEnter(...args)),\n    onBlur: _cache[7] || (_cache[7] = (...args) => _ctx.handleMouseLeave && _ctx.handleMouseLeave(...args)),\n    onKeydown: [\n      _cache[8] || (_cache[8] = withKeys((...args) => _ctx.onLeftKeyDown && _ctx.onLeftKeyDown(...args), [\"left\"])),\n      _cache[9] || (_cache[9] = withKeys((...args) => _ctx.onRightKeyDown && _ctx.onRightKeyDown(...args), [\"right\"])),\n      _cache[10] || (_cache[10] = withKeys(withModifiers((...args) => _ctx.onLeftKeyDown && _ctx.onLeftKeyDown(...args), [\"prevent\"]), [\"down\"])),\n      _cache[11] || (_cache[11] = withKeys(withModifiers((...args) => _ctx.onRightKeyDown && _ctx.onRightKeyDown(...args), [\"prevent\"]), [\"up\"]))\n    ]\n  }, [\n    createVNode(_component_el_tooltip, {\n      ref: \"tooltip\",\n      modelValue: _ctx.tooltipVisible,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => _ctx.tooltipVisible = $event),\n      placement: \"top\",\n      \"stop-popper-mouse-event\": false,\n      \"popper-class\": _ctx.tooltipClass,\n      disabled: !_ctx.showTooltip,\n      manual: \"\"\n    }, {\n      content: withCtx(() => [\n        createVNode(\"span\", null, toDisplayString(_ctx.formatValue), 1)\n      ]),\n      default: withCtx(() => [\n        createVNode(\"div\", {\n          class: [\"el-slider__button\", { hover: _ctx.hovering, dragging: _ctx.dragging }]\n        }, null, 2)\n      ]),\n      _: 1\n    }, 8, [\"modelValue\", \"popper-class\", \"disabled\"])\n  ], 38);\n}\n\nscript.render = render;\nscript.__file = \"packages/slider/src/button.vue\";\n\nvar script$1 = defineComponent({\n  name: \"ElMarker\",\n  props: {\n    mark: {\n      type: [String, Object],\n      default: () => void 0\n    }\n  },\n  setup(props) {\n    const label = computed(() => {\n      return typeof props.mark === \"string\" ? props.mark : props.mark.label;\n    });\n    return {\n      label\n    };\n  },\n  render() {\n    var _a;\n    return h(\"div\", {\n      class: \"el-slider__marks-text\",\n      style: (_a = this.mark) == null ? void 0 : _a.style\n    }, this.label);\n  }\n});\n\nscript$1.__file = \"packages/slider/src/marker.vue\";\n\nconst useMarks = (props) => {\n  return computed(() => {\n    if (!props.marks) {\n      return [];\n    }\n    const marksKeys = Object.keys(props.marks);\n    return marksKeys.map(parseFloat).sort((a, b) => a - b).filter((point) => point <= props.max && point >= props.min).map((point) => ({\n      point,\n      position: (point - props.min) * 100 / (props.max - props.min),\n      mark: props.marks[point]\n    }));\n  });\n};\n\nvar __async$1 = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nconst useSlide = (props, initData, emit) => {\n  const elForm = inject(elFormKey, {});\n  const elFormItem = inject(elFormItemKey, {});\n  const slider = ref(null);\n  const firstButton = ref(null);\n  const secondButton = ref(null);\n  const buttonRefs = {\n    firstButton,\n    secondButton\n  };\n  const sliderDisabled = computed(() => {\n    return props.disabled || (elForm.disabled || false);\n  });\n  const minValue = computed(() => {\n    return Math.min(initData.firstValue, initData.secondValue);\n  });\n  const maxValue = computed(() => {\n    return Math.max(initData.firstValue, initData.secondValue);\n  });\n  const barSize = computed(() => {\n    return props.range ? `${100 * (maxValue.value - minValue.value) / (props.max - props.min)}%` : `${100 * (initData.firstValue - props.min) / (props.max - props.min)}%`;\n  });\n  const barStart = computed(() => {\n    return props.range ? `${100 * (minValue.value - props.min) / (props.max - props.min)}%` : \"0%\";\n  });\n  const runwayStyle = computed(() => {\n    return props.vertical ? { height: props.height } : {};\n  });\n  const barStyle = computed(() => {\n    return props.vertical ? {\n      height: barSize.value,\n      bottom: barStart.value\n    } : {\n      width: barSize.value,\n      left: barStart.value\n    };\n  });\n  const resetSize = () => {\n    if (slider.value) {\n      initData.sliderSize = slider.value[`client${props.vertical ? \"Height\" : \"Width\"}`];\n    }\n  };\n  const setPosition = (percent) => {\n    const targetValue = props.min + percent * (props.max - props.min) / 100;\n    if (!props.range) {\n      firstButton.value.setPosition(percent);\n      return;\n    }\n    let buttonRefName;\n    if (Math.abs(minValue.value - targetValue) < Math.abs(maxValue.value - targetValue)) {\n      buttonRefName = initData.firstValue < initData.secondValue ? \"firstButton\" : \"secondButton\";\n    } else {\n      buttonRefName = initData.firstValue > initData.secondValue ? \"firstButton\" : \"secondButton\";\n    }\n    buttonRefs[buttonRefName].value.setPosition(percent);\n  };\n  const emitChange = () => __async$1(undefined, null, function* () {\n    yield nextTick();\n    emit(CHANGE_EVENT, props.range ? [minValue.value, maxValue.value] : props.modelValue);\n  });\n  const onSliderClick = (event) => {\n    if (sliderDisabled.value || initData.dragging)\n      return;\n    resetSize();\n    if (props.vertical) {\n      const sliderOffsetBottom = slider.value.getBoundingClientRect().bottom;\n      setPosition((sliderOffsetBottom - event.clientY) / initData.sliderSize * 100);\n    } else {\n      const sliderOffsetLeft = slider.value.getBoundingClientRect().left;\n      setPosition((event.clientX - sliderOffsetLeft) / initData.sliderSize * 100);\n    }\n    emitChange();\n  };\n  return {\n    elFormItem,\n    slider,\n    firstButton,\n    secondButton,\n    sliderDisabled,\n    minValue,\n    maxValue,\n    runwayStyle,\n    barStyle,\n    resetSize,\n    setPosition,\n    emitChange,\n    onSliderClick\n  };\n};\n\nconst useStops = (props, initData, minValue, maxValue) => {\n  const stops = computed(() => {\n    if (!props.showStops || props.min > props.max)\n      return [];\n    if (props.step === 0) {\n      process.env.NODE_ENV !== \"production\" && console.warn(\"[Element Warn][Slider]step should not be 0.\");\n      return [];\n    }\n    const stopCount = (props.max - props.min) / props.step;\n    const stepWidth = 100 * props.step / (props.max - props.min);\n    const result = Array.from({ length: stopCount - 1 }).map((_, index) => (index + 1) * stepWidth);\n    if (props.range) {\n      return result.filter((step) => {\n        return step < 100 * (minValue.value - props.min) / (props.max - props.min) || step > 100 * (maxValue.value - props.min) / (props.max - props.min);\n      });\n    } else {\n      return result.filter((step) => step > 100 * (initData.firstValue - props.min) / (props.max - props.min));\n    }\n  });\n  const getStopStyle = (position) => {\n    return props.vertical ? { \"bottom\": position + \"%\" } : { \"left\": position + \"%\" };\n  };\n  return {\n    stops,\n    getStopStyle\n  };\n};\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __async$2 = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nvar script$2 = defineComponent({\n  name: \"ElSlider\",\n  components: {\n    ElInputNumber,\n    SliderButton: script,\n    SliderMarker: script$1\n  },\n  props: {\n    modelValue: {\n      type: [Number, Array],\n      default: 0\n    },\n    min: {\n      type: Number,\n      default: 0\n    },\n    max: {\n      type: Number,\n      default: 100\n    },\n    step: {\n      type: Number,\n      default: 1\n    },\n    showInput: {\n      type: Boolean,\n      default: false\n    },\n    showInputControls: {\n      type: Boolean,\n      default: true\n    },\n    inputSize: {\n      type: String,\n      default: \"small\"\n    },\n    showStops: {\n      type: Boolean,\n      default: false\n    },\n    showTooltip: {\n      type: Boolean,\n      default: true\n    },\n    formatTooltip: {\n      type: Function,\n      default: void 0\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    range: {\n      type: Boolean,\n      default: false\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    height: {\n      type: String,\n      default: \"\"\n    },\n    debounce: {\n      type: Number,\n      default: 300\n    },\n    label: {\n      type: String,\n      default: void 0\n    },\n    tooltipClass: {\n      type: String,\n      default: void 0\n    },\n    marks: Object\n  },\n  emits: [UPDATE_MODEL_EVENT, CHANGE_EVENT, INPUT_EVENT],\n  setup(props, { emit }) {\n    const initData = reactive({\n      firstValue: 0,\n      secondValue: 0,\n      oldValue: 0,\n      dragging: false,\n      sliderSize: 1\n    });\n    const {\n      elFormItem,\n      slider,\n      firstButton,\n      secondButton,\n      sliderDisabled,\n      minValue,\n      maxValue,\n      runwayStyle,\n      barStyle,\n      resetSize,\n      emitChange,\n      onSliderClick\n    } = useSlide(props, initData, emit);\n    const {\n      stops,\n      getStopStyle\n    } = useStops(props, initData, minValue, maxValue);\n    const markList = useMarks(props);\n    useWatch(props, initData, minValue, maxValue, emit, elFormItem);\n    const precision = computed(() => {\n      let precisions = [props.min, props.max, props.step].map((item) => {\n        let decimal = (\"\" + item).split(\".\")[1];\n        return decimal ? decimal.length : 0;\n      });\n      return Math.max.apply(null, precisions);\n    });\n    const { sliderWrapper } = useLifecycle(props, initData, resetSize);\n    const {\n      firstValue,\n      secondValue,\n      oldValue,\n      dragging,\n      sliderSize\n    } = toRefs(initData);\n    const updateDragging = (val) => {\n      initData.dragging = val;\n    };\n    provide(\"SliderProvider\", __spreadProps(__spreadValues({}, toRefs(props)), {\n      sliderSize,\n      disabled: sliderDisabled,\n      precision,\n      emitChange,\n      resetSize,\n      updateDragging\n    }));\n    return {\n      firstValue,\n      secondValue,\n      oldValue,\n      dragging,\n      sliderSize,\n      slider,\n      firstButton,\n      secondButton,\n      sliderDisabled,\n      runwayStyle,\n      barStyle,\n      emitChange,\n      onSliderClick,\n      getStopStyle,\n      stops,\n      markList,\n      sliderWrapper\n    };\n  }\n});\nconst useWatch = (props, initData, minValue, maxValue, emit, elFormItem) => {\n  const _emit = (val) => {\n    emit(UPDATE_MODEL_EVENT, val);\n    emit(INPUT_EVENT, val);\n  };\n  const valueChanged = () => {\n    if (props.range) {\n      return ![minValue.value, maxValue.value].every((item, index) => item === initData.oldValue[index]);\n    } else {\n      return props.modelValue !== initData.oldValue;\n    }\n  };\n  const setValues = () => {\n    var _a, _b;\n    if (props.min > props.max) {\n      throwError(\"Slider\", \"min should not be greater than max.\");\n      return;\n    }\n    const val = props.modelValue;\n    if (props.range && Array.isArray(val)) {\n      if (val[1] < props.min) {\n        _emit([props.min, props.min]);\n      } else if (val[0] > props.max) {\n        _emit([props.max, props.max]);\n      } else if (val[0] < props.min) {\n        _emit([props.min, val[1]]);\n      } else if (val[1] > props.max) {\n        _emit([val[0], props.max]);\n      } else {\n        initData.firstValue = val[0];\n        initData.secondValue = val[1];\n        if (valueChanged()) {\n          (_a = elFormItem.formItemMitt) == null ? void 0 : _a.emit(\"el.form.change\", [minValue.value, maxValue.value]);\n          initData.oldValue = val.slice();\n        }\n      }\n    } else if (!props.range && typeof val === \"number\" && !isNaN(val)) {\n      if (val < props.min) {\n        _emit(props.min);\n      } else if (val > props.max) {\n        _emit(props.max);\n      } else {\n        initData.firstValue = val;\n        if (valueChanged()) {\n          (_b = elFormItem.formItemMitt) == null ? void 0 : _b.emit(\"el.form.change\", val);\n          initData.oldValue = val;\n        }\n      }\n    }\n  };\n  setValues();\n  watch(() => initData.dragging, (val) => {\n    if (!val) {\n      setValues();\n    }\n  });\n  watch(() => initData.firstValue, (val) => {\n    if (props.range) {\n      _emit([minValue.value, maxValue.value]);\n    } else {\n      _emit(val);\n    }\n  });\n  watch(() => initData.secondValue, () => {\n    if (props.range) {\n      _emit([minValue.value, maxValue.value]);\n    }\n  });\n  watch(() => props.modelValue, (val, oldVal) => {\n    if (initData.dragging || Array.isArray(val) && Array.isArray(oldVal) && val.every((item, index) => item === oldVal[index])) {\n      return;\n    }\n    setValues();\n  });\n  watch(() => [props.min, props.max], () => {\n    setValues();\n  });\n};\nconst useLifecycle = (props, initData, resetSize) => {\n  const sliderWrapper = ref(null);\n  onMounted(() => __async$2(undefined, null, function* () {\n    let valuetext;\n    if (props.range) {\n      if (Array.isArray(props.modelValue)) {\n        initData.firstValue = Math.max(props.min, props.modelValue[0]);\n        initData.secondValue = Math.min(props.max, props.modelValue[1]);\n      } else {\n        initData.firstValue = props.min;\n        initData.secondValue = props.max;\n      }\n      initData.oldValue = [initData.firstValue, initData.secondValue];\n      valuetext = `${initData.firstValue}-${initData.secondValue}`;\n    } else {\n      if (typeof props.modelValue !== \"number\" || isNaN(props.modelValue)) {\n        initData.firstValue = props.min;\n      } else {\n        initData.firstValue = Math.min(props.max, Math.max(props.min, props.modelValue));\n      }\n      initData.oldValue = initData.firstValue;\n      valuetext = initData.firstValue;\n    }\n    sliderWrapper.value.setAttribute(\"aria-valuetext\", valuetext);\n    sliderWrapper.value.setAttribute(\"aria-label\", props.label ? props.label : `slider between ${props.min} and ${props.max}`);\n    on(window, \"resize\", resetSize);\n    yield nextTick();\n    resetSize();\n  }));\n  onBeforeUnmount(() => {\n    off(window, \"resize\", resetSize);\n  });\n  return {\n    sliderWrapper\n  };\n};\n\nconst _hoisted_1 = { key: 1 };\nconst _hoisted_2 = { class: \"el-slider__marks\" };\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input_number = resolveComponent(\"el-input-number\");\n  const _component_slider_button = resolveComponent(\"slider-button\");\n  const _component_slider_marker = resolveComponent(\"slider-marker\");\n  return openBlock(), createBlock(\"div\", {\n    ref: \"sliderWrapper\",\n    class: [\"el-slider\", { \"is-vertical\": _ctx.vertical, \"el-slider--with-input\": _ctx.showInput }],\n    role: \"slider\",\n    \"aria-valuemin\": _ctx.min,\n    \"aria-valuemax\": _ctx.max,\n    \"aria-orientation\": _ctx.vertical ? \"vertical\" : \"horizontal\",\n    \"aria-disabled\": _ctx.sliderDisabled\n  }, [\n    _ctx.showInput && !_ctx.range ? (openBlock(), createBlock(_component_el_input_number, {\n      key: 0,\n      ref: \"input\",\n      modelValue: _ctx.firstValue,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => _ctx.firstValue = $event),\n      class: \"el-slider__input\",\n      step: _ctx.step,\n      disabled: _ctx.sliderDisabled,\n      controls: _ctx.showInputControls,\n      min: _ctx.min,\n      max: _ctx.max,\n      debounce: _ctx.debounce,\n      size: _ctx.inputSize,\n      onChange: _ctx.emitChange\n    }, null, 8, [\"modelValue\", \"step\", \"disabled\", \"controls\", \"min\", \"max\", \"debounce\", \"size\", \"onChange\"])) : createCommentVNode(\"v-if\", true),\n    createVNode(\"div\", {\n      ref: \"slider\",\n      class: [\"el-slider__runway\", { \"show-input\": _ctx.showInput && !_ctx.range, \"disabled\": _ctx.sliderDisabled }],\n      style: _ctx.runwayStyle,\n      onClick: _cache[4] || (_cache[4] = (...args) => _ctx.onSliderClick && _ctx.onSliderClick(...args))\n    }, [\n      createVNode(\"div\", {\n        class: \"el-slider__bar\",\n        style: _ctx.barStyle\n      }, null, 4),\n      createVNode(_component_slider_button, {\n        ref: \"firstButton\",\n        modelValue: _ctx.firstValue,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => _ctx.firstValue = $event),\n        vertical: _ctx.vertical,\n        \"tooltip-class\": _ctx.tooltipClass\n      }, null, 8, [\"modelValue\", \"vertical\", \"tooltip-class\"]),\n      _ctx.range ? (openBlock(), createBlock(_component_slider_button, {\n        key: 0,\n        ref: \"secondButton\",\n        modelValue: _ctx.secondValue,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event) => _ctx.secondValue = $event),\n        vertical: _ctx.vertical,\n        \"tooltip-class\": _ctx.tooltipClass\n      }, null, 8, [\"modelValue\", \"vertical\", \"tooltip-class\"])) : createCommentVNode(\"v-if\", true),\n      _ctx.showStops ? (openBlock(), createBlock(\"div\", _hoisted_1, [\n        (openBlock(true), createBlock(Fragment, null, renderList(_ctx.stops, (item, key) => {\n          return openBlock(), createBlock(\"div\", {\n            key,\n            class: \"el-slider__stop\",\n            style: _ctx.getStopStyle(item)\n          }, null, 4);\n        }), 128))\n      ])) : createCommentVNode(\"v-if\", true),\n      _ctx.markList.length > 0 ? (openBlock(), createBlock(Fragment, { key: 2 }, [\n        createVNode(\"div\", null, [\n          (openBlock(true), createBlock(Fragment, null, renderList(_ctx.markList, (item, key) => {\n            return openBlock(), createBlock(\"div\", {\n              key,\n              style: _ctx.getStopStyle(item.position),\n              class: \"el-slider__stop el-slider__marks-stop\"\n            }, null, 4);\n          }), 128))\n        ]),\n        createVNode(\"div\", _hoisted_2, [\n          (openBlock(true), createBlock(Fragment, null, renderList(_ctx.markList, (item, key) => {\n            return openBlock(), createBlock(_component_slider_marker, {\n              key,\n              mark: item.mark,\n              style: _ctx.getStopStyle(item.position)\n            }, null, 8, [\"mark\", \"style\"]);\n          }), 128))\n        ])\n      ], 64)) : createCommentVNode(\"v-if\", true)\n    ], 6)\n  ], 10, [\"aria-valuemin\", \"aria-valuemax\", \"aria-orientation\", \"aria-disabled\"]);\n}\n\nscript$2.render = render$1;\nscript$2.__file = \"packages/slider/src/index.vue\";\n\nscript$2.install = (app) => {\n  app.component(script$2.name, script$2);\n};\nconst _Slider = script$2;\n\nexport default _Slider;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}