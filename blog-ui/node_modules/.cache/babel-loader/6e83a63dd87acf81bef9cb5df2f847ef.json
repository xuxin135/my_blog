{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport { computed, watch, defineComponent, reactive, toRefs, resolveComponent, openBlock, createBlock, createVNode, withCtx, createTextVNode, toDisplayString, createCommentVNode, withDirectives, Fragment, renderList, vShow, renderSlot, inject, ref, h } from 'vue';\nimport { useLocaleInject } from '../hooks';\nimport ElButton from '../el-button';\nimport ElCheckbox from '../el-checkbox';\nimport ElCheckboxGroup from '../el-checkbox-group';\nimport ElInput from '../el-input';\nimport { UPDATE_MODEL_EVENT as UPDATE_MODEL_EVENT$1 } from '../utils/constants';\nimport { elFormItemKey } from '../el-form';\nconst CHECKED_CHANGE_EVENT = \"checked-change\";\n\nconst useCheck = (props, panelState, emit) => {\n  const labelProp = computed(() => props.props.label || \"label\");\n  const keyProp = computed(() => props.props.key || \"key\");\n  const disabledProp = computed(() => props.props.disabled || \"disabled\");\n  const filteredData = computed(() => {\n    return props.data.filter(item => {\n      if (typeof props.filterMethod === \"function\") {\n        return props.filterMethod(panelState.query, item);\n      } else {\n        const label = item[labelProp.value] || item[keyProp.value].toString();\n        return label.toLowerCase().includes(panelState.query.toLowerCase());\n      }\n    });\n  });\n  const checkableData = computed(() => {\n    return filteredData.value.filter(item => !item[disabledProp.value]);\n  });\n  const checkedSummary = computed(() => {\n    const checkedLength = panelState.checked.length;\n    const dataLength = props.data.length;\n    const {\n      noChecked,\n      hasChecked\n    } = props.format;\n\n    if (noChecked && hasChecked) {\n      return checkedLength > 0 ? hasChecked.replace(/\\${checked}/g, checkedLength.toString()).replace(/\\${total}/g, dataLength.toString()) : noChecked.replace(/\\${total}/g, dataLength.toString());\n    } else {\n      return `${checkedLength}/${dataLength}`;\n    }\n  });\n  const isIndeterminate = computed(() => {\n    const checkedLength = panelState.checked.length;\n    return checkedLength > 0 && checkedLength < checkableData.value.length;\n  });\n\n  const updateAllChecked = () => {\n    const checkableDataKeys = checkableData.value.map(item => item[keyProp.value]);\n    panelState.allChecked = checkableDataKeys.length > 0 && checkableDataKeys.every(item => panelState.checked.includes(item));\n  };\n\n  const handleAllCheckedChange = value => {\n    panelState.checked = value ? checkableData.value.map(item => item[keyProp.value]) : [];\n  };\n\n  watch(() => panelState.checked, (val, oldVal) => {\n    updateAllChecked();\n\n    if (panelState.checkChangeByUser) {\n      const movedKeys = val.concat(oldVal).filter(v => !val.includes(v) || !oldVal.includes(v));\n      emit(CHECKED_CHANGE_EVENT, val, movedKeys);\n    } else {\n      emit(CHECKED_CHANGE_EVENT, val);\n      panelState.checkChangeByUser = true;\n    }\n  });\n  watch(checkableData, () => {\n    updateAllChecked();\n  });\n  watch(() => props.data, () => {\n    const checked = [];\n    const filteredDataKeys = filteredData.value.map(item => item[keyProp.value]);\n    panelState.checked.forEach(item => {\n      if (filteredDataKeys.includes(item)) {\n        checked.push(item);\n      }\n    });\n    panelState.checkChangeByUser = false;\n    panelState.checked = checked;\n  });\n  watch(() => props.defaultChecked, (val, oldVal) => {\n    if (oldVal && val.length === oldVal.length && val.every(item => oldVal.includes(item))) return;\n    const checked = [];\n    const checkableDataKeys = checkableData.value.map(item => item[keyProp.value]);\n    val.forEach(item => {\n      if (checkableDataKeys.includes(item)) {\n        checked.push(item);\n      }\n    });\n    panelState.checkChangeByUser = false;\n    panelState.checked = checked;\n  }, {\n    immediate: true\n  });\n  return {\n    labelProp,\n    keyProp,\n    disabledProp,\n    filteredData,\n    checkableData,\n    checkedSummary,\n    isIndeterminate,\n    updateAllChecked,\n    handleAllCheckedChange\n  };\n};\n\nvar script = defineComponent({\n  name: \"ElTransferPanel\",\n  components: {\n    ElCheckboxGroup,\n    ElCheckbox,\n    ElInput,\n    OptionContent: ({\n      option\n    }) => option\n  },\n  props: {\n    data: {\n      type: Array,\n\n      default() {\n        return [];\n      }\n\n    },\n    optionRender: Function,\n    placeholder: String,\n    title: String,\n    filterable: Boolean,\n    format: Object,\n    filterMethod: Function,\n    defaultChecked: Array,\n    props: Object\n  },\n  emits: [CHECKED_CHANGE_EVENT],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const {\n      t\n    } = useLocaleInject();\n    const panelState = reactive({\n      checked: [],\n      allChecked: false,\n      query: \"\",\n      inputHover: false,\n      checkChangeByUser: true\n    });\n    const {\n      labelProp,\n      keyProp,\n      disabledProp,\n      filteredData,\n      checkedSummary,\n      isIndeterminate,\n      handleAllCheckedChange\n    } = useCheck(props, panelState, emit);\n    const hasNoMatch = computed(() => {\n      return panelState.query.length > 0 && filteredData.value.length === 0;\n    });\n    const inputIcon = computed(() => {\n      return panelState.query.length > 0 && panelState.inputHover ? \"circle-close\" : \"search\";\n    });\n    const hasFooter = computed(() => !!slots.default()[0].children.length);\n\n    const clearQuery = () => {\n      if (inputIcon.value === \"circle-close\") {\n        panelState.query = \"\";\n      }\n    };\n\n    const {\n      checked,\n      allChecked,\n      query,\n      inputHover,\n      checkChangeByUser\n    } = toRefs(panelState);\n    return {\n      labelProp,\n      keyProp,\n      disabledProp,\n      filteredData,\n      checkedSummary,\n      isIndeterminate,\n      handleAllCheckedChange,\n      checked,\n      allChecked,\n      query,\n      inputHover,\n      checkChangeByUser,\n      hasNoMatch,\n      inputIcon,\n      hasFooter,\n      clearQuery,\n      t\n    };\n  }\n\n});\nconst _hoisted_1 = {\n  class: \"el-transfer-panel\"\n};\nconst _hoisted_2 = {\n  class: \"el-transfer-panel__header\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"el-transfer-panel__footer\"\n};\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_checkbox = resolveComponent(\"el-checkbox\");\n\n  const _component_el_input = resolveComponent(\"el-input\");\n\n  const _component_option_content = resolveComponent(\"option-content\");\n\n  const _component_el_checkbox_group = resolveComponent(\"el-checkbox-group\");\n\n  return openBlock(), createBlock(\"div\", _hoisted_1, [createVNode(\"p\", _hoisted_2, [createVNode(_component_el_checkbox, {\n    modelValue: _ctx.allChecked,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.allChecked = $event),\n    indeterminate: _ctx.isIndeterminate,\n    onChange: _ctx.handleAllCheckedChange\n  }, {\n    default: withCtx(() => [createTextVNode(toDisplayString(_ctx.title) + \" \", 1), createVNode(\"span\", null, toDisplayString(_ctx.checkedSummary), 1)]),\n    _: 1\n  }, 8, [\"modelValue\", \"indeterminate\", \"onChange\"])]), createVNode(\"div\", {\n    class: [\"el-transfer-panel__body\", _ctx.hasFooter ? \"is-with-footer\" : \"\"]\n  }, [_ctx.filterable ? (openBlock(), createBlock(_component_el_input, {\n    key: 0,\n    modelValue: _ctx.query,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.query = $event),\n    class: \"el-transfer-panel__filter\",\n    size: \"small\",\n    placeholder: _ctx.placeholder,\n    onMouseenter: _cache[4] || (_cache[4] = $event => _ctx.inputHover = true),\n    onMouseleave: _cache[5] || (_cache[5] = $event => _ctx.inputHover = false)\n  }, {\n    prefix: withCtx(() => [createVNode(\"i\", {\n      class: [\"el-input__icon\", \"el-icon-\" + _ctx.inputIcon],\n      onClick: _cache[2] || (_cache[2] = (...args) => _ctx.clearQuery && _ctx.clearQuery(...args))\n    }, null, 2)]),\n    _: 1\n  }, 8, [\"modelValue\", \"placeholder\"])) : createCommentVNode(\"v-if\", true), withDirectives(createVNode(_component_el_checkbox_group, {\n    modelValue: _ctx.checked,\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => _ctx.checked = $event),\n    class: [{\n      \"is-filterable\": _ctx.filterable\n    }, \"el-transfer-panel__list\"]\n  }, {\n    default: withCtx(() => [(openBlock(true), createBlock(Fragment, null, renderList(_ctx.filteredData, item => {\n      return openBlock(), createBlock(_component_el_checkbox, {\n        key: item[_ctx.keyProp],\n        class: \"el-transfer-panel__item\",\n        label: item[_ctx.keyProp],\n        disabled: item[_ctx.disabledProp]\n      }, {\n        default: withCtx(() => [createVNode(_component_option_content, {\n          option: _ctx.optionRender(item)\n        }, null, 8, [\"option\"])]),\n        _: 2\n      }, 1032, [\"label\", \"disabled\"]);\n    }), 128))]),\n    _: 1\n  }, 8, [\"modelValue\", \"class\"]), [[vShow, !_ctx.hasNoMatch && _ctx.data.length > 0]]), withDirectives(createVNode(\"p\", {\n    class: \"el-transfer-panel__empty\"\n  }, toDisplayString(_ctx.hasNoMatch ? _ctx.t(\"el.transfer.noMatch\") : _ctx.t(\"el.transfer.noData\")), 513), [[vShow, _ctx.hasNoMatch || _ctx.data.length === 0]])], 2), _ctx.hasFooter ? (openBlock(), createBlock(\"p\", _hoisted_3, [renderSlot(_ctx.$slots, \"default\")])) : createCommentVNode(\"v-if\", true)]);\n}\n\nscript.render = render;\nscript.__file = \"packages/transfer/src/transfer-panel.vue\";\n\nconst useComputedData = props => {\n  const propsKey = computed(() => props.props.key);\n  const dataObj = computed(() => {\n    return props.data.reduce((o, cur) => (o[cur[propsKey.value]] = cur) && o, {});\n  });\n  const sourceData = computed(() => {\n    return props.data.filter(item => !props.modelValue.includes(item[propsKey.value]));\n  });\n  const targetData = computed(() => {\n    if (props.targetOrder === \"original\") {\n      return props.data.filter(item => props.modelValue.includes(item[propsKey.value]));\n    } else {\n      return props.modelValue.reduce((arr, cur) => {\n        const val = dataObj.value[cur];\n\n        if (val) {\n          arr.push(val);\n        }\n\n        return arr;\n      }, []);\n    }\n  });\n  return {\n    propsKey,\n    sourceData,\n    targetData\n  };\n};\n\nconst LEFT_CHECK_CHANGE_EVENT = \"left-check-change\";\nconst RIGHT_CHECK_CHANGE_EVENT = \"right-check-change\";\n\nconst useCheckedChange = (checkedState, emit) => {\n  const onSourceCheckedChange = (val, movedKeys) => {\n    checkedState.leftChecked = val;\n    if (movedKeys === void 0) return;\n    emit(LEFT_CHECK_CHANGE_EVENT, val, movedKeys);\n  };\n\n  const onTargetCheckedChange = (val, movedKeys) => {\n    checkedState.rightChecked = val;\n    if (movedKeys === void 0) return;\n    emit(RIGHT_CHECK_CHANGE_EVENT, val, movedKeys);\n  };\n\n  return {\n    onSourceCheckedChange,\n    onTargetCheckedChange\n  };\n};\n\nconst UPDATE_MODEL_EVENT = \"update:modelValue\";\n\nconst useMove = (props, checkedState, propsKey, emit) => {\n  const _emit = (value, type, checked) => {\n    emit(UPDATE_MODEL_EVENT, value);\n    emit(CHANGE_EVENT, value, type, checked);\n  };\n\n  const addToLeft = () => {\n    const currentValue = props.modelValue.slice();\n    checkedState.rightChecked.forEach(item => {\n      const index = currentValue.indexOf(item);\n\n      if (index > -1) {\n        currentValue.splice(index, 1);\n      }\n    });\n\n    _emit(currentValue, \"left\", checkedState.rightChecked);\n  };\n\n  const addToRight = () => {\n    let currentValue = props.modelValue.slice();\n    const itemsToBeMoved = props.data.filter(item => {\n      const itemKey = item[propsKey.value];\n      return checkedState.leftChecked.includes(itemKey) && !props.modelValue.includes(itemKey);\n    }).map(item => item[propsKey.value]);\n    currentValue = props.targetOrder === \"unshift\" ? itemsToBeMoved.concat(currentValue) : currentValue.concat(itemsToBeMoved);\n\n    _emit(currentValue, \"right\", checkedState.leftChecked);\n  };\n\n  return {\n    addToLeft,\n    addToRight\n  };\n};\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\nconst CHANGE_EVENT = \"change\";\nvar script$1 = defineComponent({\n  name: \"ElTransfer\",\n  components: {\n    TransferPanel: script,\n    ElButton\n  },\n  props: {\n    data: {\n      type: Array,\n      default: () => []\n    },\n    titles: {\n      type: Array,\n      default: () => []\n    },\n    buttonTexts: {\n      type: Array,\n      default: () => []\n    },\n    filterPlaceholder: {\n      type: String,\n      default: \"\"\n    },\n    filterMethod: Function,\n    leftDefaultChecked: {\n      type: Array,\n      default: () => []\n    },\n    rightDefaultChecked: {\n      type: Array,\n      default: () => []\n    },\n    renderContent: Function,\n    modelValue: {\n      type: Array,\n      default: () => []\n    },\n    format: {\n      type: Object,\n      default: () => ({})\n    },\n    filterable: {\n      type: Boolean,\n      default: false\n    },\n    props: {\n      type: Object,\n      default: () => ({\n        label: \"label\",\n        key: \"key\",\n        disabled: \"disabled\"\n      })\n    },\n    targetOrder: {\n      type: String,\n      default: \"original\",\n      validator: val => {\n        return [\"original\", \"push\", \"unshift\"].includes(val);\n      }\n    }\n  },\n  emits: [UPDATE_MODEL_EVENT$1, CHANGE_EVENT, LEFT_CHECK_CHANGE_EVENT, RIGHT_CHECK_CHANGE_EVENT],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const {\n      t\n    } = useLocaleInject();\n    const elFormItem = inject(elFormItemKey, {});\n    const checkedState = reactive({\n      leftChecked: [],\n      rightChecked: []\n    });\n    const {\n      propsKey,\n      sourceData,\n      targetData\n    } = useComputedData(props);\n    const {\n      onSourceCheckedChange,\n      onTargetCheckedChange\n    } = useCheckedChange(checkedState, emit);\n    const {\n      addToLeft,\n      addToRight\n    } = useMove(props, checkedState, propsKey, emit);\n    const leftPanel = ref(null);\n    const rightPanel = ref(null);\n\n    const clearQuery = which => {\n      if (which === \"left\") {\n        leftPanel.value.query = \"\";\n      } else if (which === \"right\") {\n        rightPanel.value.query = \"\";\n      }\n    };\n\n    const hasButtonTexts = computed(() => props.buttonTexts.length === 2);\n    const leftPanelTitle = computed(() => props.titles[0] || t(\"el.transfer.titles.0\"));\n    const rightPanelTitle = computed(() => props.titles[1] || t(\"el.transfer.titles.1\"));\n    const panelFilterPlaceholder = computed(() => props.filterPlaceholder || t(\"el.transfer.filterPlaceholder\"));\n    watch(() => props.modelValue, val => {\n      var _a;\n\n      (_a = elFormItem.formItemMitt) == null ? void 0 : _a.emit(\"el.form.change\", val);\n    });\n    const optionRender = computed(() => option => {\n      if (props.renderContent) return props.renderContent(h, option);\n      if (slots.default) return slots.default({\n        option\n      });\n      return h(\"span\", option[props.props.label] || option[props.props.key]);\n    });\n    return __spreadProps(__spreadValues({\n      sourceData,\n      targetData,\n      onSourceCheckedChange,\n      onTargetCheckedChange,\n      addToLeft,\n      addToRight\n    }, toRefs(checkedState)), {\n      hasButtonTexts,\n      leftPanelTitle,\n      rightPanelTitle,\n      panelFilterPlaceholder,\n      clearQuery,\n      optionRender\n    });\n  }\n\n});\nconst _hoisted_1$1 = {\n  class: \"el-transfer\"\n};\nconst _hoisted_2$1 = {\n  class: \"el-transfer__buttons\"\n};\n\nconst _hoisted_3$1 = /* @__PURE__ */createVNode(\"i\", {\n  class: \"el-icon-arrow-left\"\n}, null, -1);\n\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = {\n  key: 0\n};\n\nconst _hoisted_6 = /* @__PURE__ */createVNode(\"i\", {\n  class: \"el-icon-arrow-right\"\n}, null, -1);\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_transfer_panel = resolveComponent(\"transfer-panel\");\n\n  const _component_el_button = resolveComponent(\"el-button\");\n\n  return openBlock(), createBlock(\"div\", _hoisted_1$1, [createVNode(_component_transfer_panel, {\n    ref: \"leftPanel\",\n    data: _ctx.sourceData,\n    \"option-render\": _ctx.optionRender,\n    placeholder: _ctx.panelFilterPlaceholder,\n    title: _ctx.leftPanelTitle,\n    filterable: _ctx.filterable,\n    format: _ctx.format,\n    \"filter-method\": _ctx.filterMethod,\n    \"default-checked\": _ctx.leftDefaultChecked,\n    props: _ctx.props,\n    onCheckedChange: _ctx.onSourceCheckedChange\n  }, {\n    default: withCtx(() => [renderSlot(_ctx.$slots, \"left-footer\")]),\n    _: 3\n  }, 8, [\"data\", \"option-render\", \"placeholder\", \"title\", \"filterable\", \"format\", \"filter-method\", \"default-checked\", \"props\", \"onCheckedChange\"]), createVNode(\"div\", _hoisted_2$1, [createVNode(_component_el_button, {\n    type: \"primary\",\n    class: [\"el-transfer__button\", _ctx.hasButtonTexts ? \"is-with-texts\" : \"\"],\n    disabled: _ctx.rightChecked.length === 0,\n    onClick: _ctx.addToLeft\n  }, {\n    default: withCtx(() => [_hoisted_3$1, _ctx.buttonTexts[0] !== void 0 ? (openBlock(), createBlock(\"span\", _hoisted_4, toDisplayString(_ctx.buttonTexts[0]), 1)) : createCommentVNode(\"v-if\", true)]),\n    _: 1\n  }, 8, [\"class\", \"disabled\", \"onClick\"]), createVNode(_component_el_button, {\n    type: \"primary\",\n    class: [\"el-transfer__button\", _ctx.hasButtonTexts ? \"is-with-texts\" : \"\"],\n    disabled: _ctx.leftChecked.length === 0,\n    onClick: _ctx.addToRight\n  }, {\n    default: withCtx(() => [_ctx.buttonTexts[1] !== void 0 ? (openBlock(), createBlock(\"span\", _hoisted_5, toDisplayString(_ctx.buttonTexts[1]), 1)) : createCommentVNode(\"v-if\", true), _hoisted_6]),\n    _: 1\n  }, 8, [\"class\", \"disabled\", \"onClick\"])]), createVNode(_component_transfer_panel, {\n    ref: \"rightPanel\",\n    data: _ctx.targetData,\n    \"option-render\": _ctx.optionRender,\n    placeholder: _ctx.panelFilterPlaceholder,\n    filterable: _ctx.filterable,\n    format: _ctx.format,\n    \"filter-method\": _ctx.filterMethod,\n    title: _ctx.rightPanelTitle,\n    \"default-checked\": _ctx.rightDefaultChecked,\n    props: _ctx.props,\n    onCheckedChange: _ctx.onTargetCheckedChange\n  }, {\n    default: withCtx(() => [renderSlot(_ctx.$slots, \"right-footer\")]),\n    _: 3\n  }, 8, [\"data\", \"option-render\", \"placeholder\", \"filterable\", \"format\", \"filter-method\", \"title\", \"default-checked\", \"props\", \"onCheckedChange\"])]);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/transfer/src/index.vue\";\n\nscript$1.install = app => {\n  app.component(script$1.name, script$1);\n};\n\nconst _Transfer = script$1;\nexport default _Transfer;","map":{"version":3,"names":["computed","watch","defineComponent","reactive","toRefs","resolveComponent","openBlock","createBlock","createVNode","withCtx","createTextVNode","toDisplayString","createCommentVNode","withDirectives","Fragment","renderList","vShow","renderSlot","inject","ref","h","useLocaleInject","ElButton","ElCheckbox","ElCheckboxGroup","ElInput","UPDATE_MODEL_EVENT","UPDATE_MODEL_EVENT$1","elFormItemKey","CHECKED_CHANGE_EVENT","useCheck","props","panelState","emit","labelProp","label","keyProp","key","disabledProp","disabled","filteredData","data","filter","item","filterMethod","query","value","toString","toLowerCase","includes","checkableData","checkedSummary","checkedLength","checked","length","dataLength","noChecked","hasChecked","format","replace","isIndeterminate","updateAllChecked","checkableDataKeys","map","allChecked","every","handleAllCheckedChange","val","oldVal","checkChangeByUser","movedKeys","concat","v","filteredDataKeys","forEach","push","defaultChecked","immediate","script","name","components","OptionContent","option","type","Array","default","optionRender","Function","placeholder","String","title","filterable","Boolean","Object","emits","setup","slots","t","inputHover","hasNoMatch","inputIcon","hasFooter","children","clearQuery","_hoisted_1","class","_hoisted_2","_hoisted_3","render","_ctx","_cache","$props","$setup","$data","$options","_component_el_checkbox","_component_el_input","_component_option_content","_component_el_checkbox_group","modelValue","$event","indeterminate","onChange","_","size","onMouseenter","onMouseleave","prefix","onClick","args","$slots","__file","useComputedData","propsKey","dataObj","reduce","o","cur","sourceData","targetData","targetOrder","arr","LEFT_CHECK_CHANGE_EVENT","RIGHT_CHECK_CHANGE_EVENT","useCheckedChange","checkedState","onSourceCheckedChange","leftChecked","onTargetCheckedChange","rightChecked","useMove","_emit","CHANGE_EVENT","addToLeft","currentValue","slice","index","indexOf","splice","addToRight","itemsToBeMoved","itemKey","__defProp","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","script$1","TransferPanel","titles","buttonTexts","filterPlaceholder","leftDefaultChecked","rightDefaultChecked","renderContent","validator","elFormItem","leftPanel","rightPanel","which","hasButtonTexts","leftPanelTitle","rightPanelTitle","panelFilterPlaceholder","_a","formItemMitt","_hoisted_1$1","_hoisted_2$1","_hoisted_3$1","_hoisted_4","_hoisted_5","_hoisted_6","render$1","_component_transfer_panel","_component_el_button","onCheckedChange","install","app","component","_Transfer"],"sources":["D:/project/my_blog/blog-ui/node_modules/element-plus/es/el-transfer/index.js"],"sourcesContent":["import { computed, watch, defineComponent, reactive, toRefs, resolveComponent, openBlock, createBlock, createVNode, withCtx, createTextVNode, toDisplayString, createCommentVNode, withDirectives, Fragment, renderList, vShow, renderSlot, inject, ref, h } from 'vue';\nimport { useLocaleInject } from '../hooks';\nimport ElButton from '../el-button';\nimport ElCheckbox from '../el-checkbox';\nimport ElCheckboxGroup from '../el-checkbox-group';\nimport ElInput from '../el-input';\nimport { UPDATE_MODEL_EVENT as UPDATE_MODEL_EVENT$1 } from '../utils/constants';\nimport { elFormItemKey } from '../el-form';\n\nconst CHECKED_CHANGE_EVENT = \"checked-change\";\nconst useCheck = (props, panelState, emit) => {\n  const labelProp = computed(() => props.props.label || \"label\");\n  const keyProp = computed(() => props.props.key || \"key\");\n  const disabledProp = computed(() => props.props.disabled || \"disabled\");\n  const filteredData = computed(() => {\n    return props.data.filter((item) => {\n      if (typeof props.filterMethod === \"function\") {\n        return props.filterMethod(panelState.query, item);\n      } else {\n        const label = item[labelProp.value] || item[keyProp.value].toString();\n        return label.toLowerCase().includes(panelState.query.toLowerCase());\n      }\n    });\n  });\n  const checkableData = computed(() => {\n    return filteredData.value.filter((item) => !item[disabledProp.value]);\n  });\n  const checkedSummary = computed(() => {\n    const checkedLength = panelState.checked.length;\n    const dataLength = props.data.length;\n    const { noChecked, hasChecked } = props.format;\n    if (noChecked && hasChecked) {\n      return checkedLength > 0 ? hasChecked.replace(/\\${checked}/g, checkedLength.toString()).replace(/\\${total}/g, dataLength.toString()) : noChecked.replace(/\\${total}/g, dataLength.toString());\n    } else {\n      return `${checkedLength}/${dataLength}`;\n    }\n  });\n  const isIndeterminate = computed(() => {\n    const checkedLength = panelState.checked.length;\n    return checkedLength > 0 && checkedLength < checkableData.value.length;\n  });\n  const updateAllChecked = () => {\n    const checkableDataKeys = checkableData.value.map((item) => item[keyProp.value]);\n    panelState.allChecked = checkableDataKeys.length > 0 && checkableDataKeys.every((item) => panelState.checked.includes(item));\n  };\n  const handleAllCheckedChange = (value) => {\n    panelState.checked = value ? checkableData.value.map((item) => item[keyProp.value]) : [];\n  };\n  watch(() => panelState.checked, (val, oldVal) => {\n    updateAllChecked();\n    if (panelState.checkChangeByUser) {\n      const movedKeys = val.concat(oldVal).filter((v) => !val.includes(v) || !oldVal.includes(v));\n      emit(CHECKED_CHANGE_EVENT, val, movedKeys);\n    } else {\n      emit(CHECKED_CHANGE_EVENT, val);\n      panelState.checkChangeByUser = true;\n    }\n  });\n  watch(checkableData, () => {\n    updateAllChecked();\n  });\n  watch(() => props.data, () => {\n    const checked = [];\n    const filteredDataKeys = filteredData.value.map((item) => item[keyProp.value]);\n    panelState.checked.forEach((item) => {\n      if (filteredDataKeys.includes(item)) {\n        checked.push(item);\n      }\n    });\n    panelState.checkChangeByUser = false;\n    panelState.checked = checked;\n  });\n  watch(() => props.defaultChecked, (val, oldVal) => {\n    if (oldVal && val.length === oldVal.length && val.every((item) => oldVal.includes(item)))\n      return;\n    const checked = [];\n    const checkableDataKeys = checkableData.value.map((item) => item[keyProp.value]);\n    val.forEach((item) => {\n      if (checkableDataKeys.includes(item)) {\n        checked.push(item);\n      }\n    });\n    panelState.checkChangeByUser = false;\n    panelState.checked = checked;\n  }, {\n    immediate: true\n  });\n  return {\n    labelProp,\n    keyProp,\n    disabledProp,\n    filteredData,\n    checkableData,\n    checkedSummary,\n    isIndeterminate,\n    updateAllChecked,\n    handleAllCheckedChange\n  };\n};\n\nvar script = defineComponent({\n  name: \"ElTransferPanel\",\n  components: {\n    ElCheckboxGroup,\n    ElCheckbox,\n    ElInput,\n    OptionContent: ({ option }) => option\n  },\n  props: {\n    data: {\n      type: Array,\n      default() {\n        return [];\n      }\n    },\n    optionRender: Function,\n    placeholder: String,\n    title: String,\n    filterable: Boolean,\n    format: Object,\n    filterMethod: Function,\n    defaultChecked: Array,\n    props: Object\n  },\n  emits: [CHECKED_CHANGE_EVENT],\n  setup(props, { emit, slots }) {\n    const { t } = useLocaleInject();\n    const panelState = reactive({\n      checked: [],\n      allChecked: false,\n      query: \"\",\n      inputHover: false,\n      checkChangeByUser: true\n    });\n    const {\n      labelProp,\n      keyProp,\n      disabledProp,\n      filteredData,\n      checkedSummary,\n      isIndeterminate,\n      handleAllCheckedChange\n    } = useCheck(props, panelState, emit);\n    const hasNoMatch = computed(() => {\n      return panelState.query.length > 0 && filteredData.value.length === 0;\n    });\n    const inputIcon = computed(() => {\n      return panelState.query.length > 0 && panelState.inputHover ? \"circle-close\" : \"search\";\n    });\n    const hasFooter = computed(() => !!slots.default()[0].children.length);\n    const clearQuery = () => {\n      if (inputIcon.value === \"circle-close\") {\n        panelState.query = \"\";\n      }\n    };\n    const {\n      checked,\n      allChecked,\n      query,\n      inputHover,\n      checkChangeByUser\n    } = toRefs(panelState);\n    return {\n      labelProp,\n      keyProp,\n      disabledProp,\n      filteredData,\n      checkedSummary,\n      isIndeterminate,\n      handleAllCheckedChange,\n      checked,\n      allChecked,\n      query,\n      inputHover,\n      checkChangeByUser,\n      hasNoMatch,\n      inputIcon,\n      hasFooter,\n      clearQuery,\n      t\n    };\n  }\n});\n\nconst _hoisted_1 = { class: \"el-transfer-panel\" };\nconst _hoisted_2 = { class: \"el-transfer-panel__header\" };\nconst _hoisted_3 = {\n  key: 0,\n  class: \"el-transfer-panel__footer\"\n};\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_checkbox = resolveComponent(\"el-checkbox\");\n  const _component_el_input = resolveComponent(\"el-input\");\n  const _component_option_content = resolveComponent(\"option-content\");\n  const _component_el_checkbox_group = resolveComponent(\"el-checkbox-group\");\n  return openBlock(), createBlock(\"div\", _hoisted_1, [\n    createVNode(\"p\", _hoisted_2, [\n      createVNode(_component_el_checkbox, {\n        modelValue: _ctx.allChecked,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => _ctx.allChecked = $event),\n        indeterminate: _ctx.isIndeterminate,\n        onChange: _ctx.handleAllCheckedChange\n      }, {\n        default: withCtx(() => [\n          createTextVNode(toDisplayString(_ctx.title) + \" \", 1),\n          createVNode(\"span\", null, toDisplayString(_ctx.checkedSummary), 1)\n        ]),\n        _: 1\n      }, 8, [\"modelValue\", \"indeterminate\", \"onChange\"])\n    ]),\n    createVNode(\"div\", {\n      class: [\"el-transfer-panel__body\", _ctx.hasFooter ? \"is-with-footer\" : \"\"]\n    }, [\n      _ctx.filterable ? (openBlock(), createBlock(_component_el_input, {\n        key: 0,\n        modelValue: _ctx.query,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event) => _ctx.query = $event),\n        class: \"el-transfer-panel__filter\",\n        size: \"small\",\n        placeholder: _ctx.placeholder,\n        onMouseenter: _cache[4] || (_cache[4] = ($event) => _ctx.inputHover = true),\n        onMouseleave: _cache[5] || (_cache[5] = ($event) => _ctx.inputHover = false)\n      }, {\n        prefix: withCtx(() => [\n          createVNode(\"i\", {\n            class: [\"el-input__icon\", \"el-icon-\" + _ctx.inputIcon],\n            onClick: _cache[2] || (_cache[2] = (...args) => _ctx.clearQuery && _ctx.clearQuery(...args))\n          }, null, 2)\n        ]),\n        _: 1\n      }, 8, [\"modelValue\", \"placeholder\"])) : createCommentVNode(\"v-if\", true),\n      withDirectives(createVNode(_component_el_checkbox_group, {\n        modelValue: _ctx.checked,\n        \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event) => _ctx.checked = $event),\n        class: [{ \"is-filterable\": _ctx.filterable }, \"el-transfer-panel__list\"]\n      }, {\n        default: withCtx(() => [\n          (openBlock(true), createBlock(Fragment, null, renderList(_ctx.filteredData, (item) => {\n            return openBlock(), createBlock(_component_el_checkbox, {\n              key: item[_ctx.keyProp],\n              class: \"el-transfer-panel__item\",\n              label: item[_ctx.keyProp],\n              disabled: item[_ctx.disabledProp]\n            }, {\n              default: withCtx(() => [\n                createVNode(_component_option_content, {\n                  option: _ctx.optionRender(item)\n                }, null, 8, [\"option\"])\n              ]),\n              _: 2\n            }, 1032, [\"label\", \"disabled\"]);\n          }), 128))\n        ]),\n        _: 1\n      }, 8, [\"modelValue\", \"class\"]), [\n        [vShow, !_ctx.hasNoMatch && _ctx.data.length > 0]\n      ]),\n      withDirectives(createVNode(\"p\", { class: \"el-transfer-panel__empty\" }, toDisplayString(_ctx.hasNoMatch ? _ctx.t(\"el.transfer.noMatch\") : _ctx.t(\"el.transfer.noData\")), 513), [\n        [vShow, _ctx.hasNoMatch || _ctx.data.length === 0]\n      ])\n    ], 2),\n    _ctx.hasFooter ? (openBlock(), createBlock(\"p\", _hoisted_3, [\n      renderSlot(_ctx.$slots, \"default\")\n    ])) : createCommentVNode(\"v-if\", true)\n  ]);\n}\n\nscript.render = render;\nscript.__file = \"packages/transfer/src/transfer-panel.vue\";\n\nconst useComputedData = (props) => {\n  const propsKey = computed(() => props.props.key);\n  const dataObj = computed(() => {\n    return props.data.reduce((o, cur) => (o[cur[propsKey.value]] = cur) && o, {});\n  });\n  const sourceData = computed(() => {\n    return props.data.filter((item) => !props.modelValue.includes(item[propsKey.value]));\n  });\n  const targetData = computed(() => {\n    if (props.targetOrder === \"original\") {\n      return props.data.filter((item) => props.modelValue.includes(item[propsKey.value]));\n    } else {\n      return props.modelValue.reduce((arr, cur) => {\n        const val = dataObj.value[cur];\n        if (val) {\n          arr.push(val);\n        }\n        return arr;\n      }, []);\n    }\n  });\n  return {\n    propsKey,\n    sourceData,\n    targetData\n  };\n};\n\nconst LEFT_CHECK_CHANGE_EVENT = \"left-check-change\";\nconst RIGHT_CHECK_CHANGE_EVENT = \"right-check-change\";\nconst useCheckedChange = (checkedState, emit) => {\n  const onSourceCheckedChange = (val, movedKeys) => {\n    checkedState.leftChecked = val;\n    if (movedKeys === void 0)\n      return;\n    emit(LEFT_CHECK_CHANGE_EVENT, val, movedKeys);\n  };\n  const onTargetCheckedChange = (val, movedKeys) => {\n    checkedState.rightChecked = val;\n    if (movedKeys === void 0)\n      return;\n    emit(RIGHT_CHECK_CHANGE_EVENT, val, movedKeys);\n  };\n  return {\n    onSourceCheckedChange,\n    onTargetCheckedChange\n  };\n};\n\nconst UPDATE_MODEL_EVENT = \"update:modelValue\";\n\nconst useMove = (props, checkedState, propsKey, emit) => {\n  const _emit = (value, type, checked) => {\n    emit(UPDATE_MODEL_EVENT, value);\n    emit(CHANGE_EVENT, value, type, checked);\n  };\n  const addToLeft = () => {\n    const currentValue = props.modelValue.slice();\n    checkedState.rightChecked.forEach((item) => {\n      const index = currentValue.indexOf(item);\n      if (index > -1) {\n        currentValue.splice(index, 1);\n      }\n    });\n    _emit(currentValue, \"left\", checkedState.rightChecked);\n  };\n  const addToRight = () => {\n    let currentValue = props.modelValue.slice();\n    const itemsToBeMoved = props.data.filter((item) => {\n      const itemKey = item[propsKey.value];\n      return checkedState.leftChecked.includes(itemKey) && !props.modelValue.includes(itemKey);\n    }).map((item) => item[propsKey.value]);\n    currentValue = props.targetOrder === \"unshift\" ? itemsToBeMoved.concat(currentValue) : currentValue.concat(itemsToBeMoved);\n    _emit(currentValue, \"right\", checkedState.leftChecked);\n  };\n  return {\n    addToLeft,\n    addToRight\n  };\n};\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst CHANGE_EVENT = \"change\";\nvar script$1 = defineComponent({\n  name: \"ElTransfer\",\n  components: {\n    TransferPanel: script,\n    ElButton\n  },\n  props: {\n    data: {\n      type: Array,\n      default: () => []\n    },\n    titles: {\n      type: Array,\n      default: () => []\n    },\n    buttonTexts: {\n      type: Array,\n      default: () => []\n    },\n    filterPlaceholder: {\n      type: String,\n      default: \"\"\n    },\n    filterMethod: Function,\n    leftDefaultChecked: {\n      type: Array,\n      default: () => []\n    },\n    rightDefaultChecked: {\n      type: Array,\n      default: () => []\n    },\n    renderContent: Function,\n    modelValue: {\n      type: Array,\n      default: () => []\n    },\n    format: {\n      type: Object,\n      default: () => ({})\n    },\n    filterable: {\n      type: Boolean,\n      default: false\n    },\n    props: {\n      type: Object,\n      default: () => ({\n        label: \"label\",\n        key: \"key\",\n        disabled: \"disabled\"\n      })\n    },\n    targetOrder: {\n      type: String,\n      default: \"original\",\n      validator: (val) => {\n        return [\"original\", \"push\", \"unshift\"].includes(val);\n      }\n    }\n  },\n  emits: [\n    UPDATE_MODEL_EVENT$1,\n    CHANGE_EVENT,\n    LEFT_CHECK_CHANGE_EVENT,\n    RIGHT_CHECK_CHANGE_EVENT\n  ],\n  setup(props, { emit, slots }) {\n    const { t } = useLocaleInject();\n    const elFormItem = inject(elFormItemKey, {});\n    const checkedState = reactive({\n      leftChecked: [],\n      rightChecked: []\n    });\n    const {\n      propsKey,\n      sourceData,\n      targetData\n    } = useComputedData(props);\n    const {\n      onSourceCheckedChange,\n      onTargetCheckedChange\n    } = useCheckedChange(checkedState, emit);\n    const {\n      addToLeft,\n      addToRight\n    } = useMove(props, checkedState, propsKey, emit);\n    const leftPanel = ref(null);\n    const rightPanel = ref(null);\n    const clearQuery = (which) => {\n      if (which === \"left\") {\n        leftPanel.value.query = \"\";\n      } else if (which === \"right\") {\n        rightPanel.value.query = \"\";\n      }\n    };\n    const hasButtonTexts = computed(() => props.buttonTexts.length === 2);\n    const leftPanelTitle = computed(() => props.titles[0] || t(\"el.transfer.titles.0\"));\n    const rightPanelTitle = computed(() => props.titles[1] || t(\"el.transfer.titles.1\"));\n    const panelFilterPlaceholder = computed(() => props.filterPlaceholder || t(\"el.transfer.filterPlaceholder\"));\n    watch(() => props.modelValue, (val) => {\n      var _a;\n      (_a = elFormItem.formItemMitt) == null ? void 0 : _a.emit(\"el.form.change\", val);\n    });\n    const optionRender = computed(() => (option) => {\n      if (props.renderContent)\n        return props.renderContent(h, option);\n      if (slots.default)\n        return slots.default({ option });\n      return h(\"span\", option[props.props.label] || option[props.props.key]);\n    });\n    return __spreadProps(__spreadValues({\n      sourceData,\n      targetData,\n      onSourceCheckedChange,\n      onTargetCheckedChange,\n      addToLeft,\n      addToRight\n    }, toRefs(checkedState)), {\n      hasButtonTexts,\n      leftPanelTitle,\n      rightPanelTitle,\n      panelFilterPlaceholder,\n      clearQuery,\n      optionRender\n    });\n  }\n});\n\nconst _hoisted_1$1 = { class: \"el-transfer\" };\nconst _hoisted_2$1 = { class: \"el-transfer__buttons\" };\nconst _hoisted_3$1 = /* @__PURE__ */ createVNode(\"i\", { class: \"el-icon-arrow-left\" }, null, -1);\nconst _hoisted_4 = { key: 0 };\nconst _hoisted_5 = { key: 0 };\nconst _hoisted_6 = /* @__PURE__ */ createVNode(\"i\", { class: \"el-icon-arrow-right\" }, null, -1);\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_transfer_panel = resolveComponent(\"transfer-panel\");\n  const _component_el_button = resolveComponent(\"el-button\");\n  return openBlock(), createBlock(\"div\", _hoisted_1$1, [\n    createVNode(_component_transfer_panel, {\n      ref: \"leftPanel\",\n      data: _ctx.sourceData,\n      \"option-render\": _ctx.optionRender,\n      placeholder: _ctx.panelFilterPlaceholder,\n      title: _ctx.leftPanelTitle,\n      filterable: _ctx.filterable,\n      format: _ctx.format,\n      \"filter-method\": _ctx.filterMethod,\n      \"default-checked\": _ctx.leftDefaultChecked,\n      props: _ctx.props,\n      onCheckedChange: _ctx.onSourceCheckedChange\n    }, {\n      default: withCtx(() => [\n        renderSlot(_ctx.$slots, \"left-footer\")\n      ]),\n      _: 3\n    }, 8, [\"data\", \"option-render\", \"placeholder\", \"title\", \"filterable\", \"format\", \"filter-method\", \"default-checked\", \"props\", \"onCheckedChange\"]),\n    createVNode(\"div\", _hoisted_2$1, [\n      createVNode(_component_el_button, {\n        type: \"primary\",\n        class: [\"el-transfer__button\", _ctx.hasButtonTexts ? \"is-with-texts\" : \"\"],\n        disabled: _ctx.rightChecked.length === 0,\n        onClick: _ctx.addToLeft\n      }, {\n        default: withCtx(() => [\n          _hoisted_3$1,\n          _ctx.buttonTexts[0] !== void 0 ? (openBlock(), createBlock(\"span\", _hoisted_4, toDisplayString(_ctx.buttonTexts[0]), 1)) : createCommentVNode(\"v-if\", true)\n        ]),\n        _: 1\n      }, 8, [\"class\", \"disabled\", \"onClick\"]),\n      createVNode(_component_el_button, {\n        type: \"primary\",\n        class: [\"el-transfer__button\", _ctx.hasButtonTexts ? \"is-with-texts\" : \"\"],\n        disabled: _ctx.leftChecked.length === 0,\n        onClick: _ctx.addToRight\n      }, {\n        default: withCtx(() => [\n          _ctx.buttonTexts[1] !== void 0 ? (openBlock(), createBlock(\"span\", _hoisted_5, toDisplayString(_ctx.buttonTexts[1]), 1)) : createCommentVNode(\"v-if\", true),\n          _hoisted_6\n        ]),\n        _: 1\n      }, 8, [\"class\", \"disabled\", \"onClick\"])\n    ]),\n    createVNode(_component_transfer_panel, {\n      ref: \"rightPanel\",\n      data: _ctx.targetData,\n      \"option-render\": _ctx.optionRender,\n      placeholder: _ctx.panelFilterPlaceholder,\n      filterable: _ctx.filterable,\n      format: _ctx.format,\n      \"filter-method\": _ctx.filterMethod,\n      title: _ctx.rightPanelTitle,\n      \"default-checked\": _ctx.rightDefaultChecked,\n      props: _ctx.props,\n      onCheckedChange: _ctx.onTargetCheckedChange\n    }, {\n      default: withCtx(() => [\n        renderSlot(_ctx.$slots, \"right-footer\")\n      ]),\n      _: 3\n    }, 8, [\"data\", \"option-render\", \"placeholder\", \"filterable\", \"format\", \"filter-method\", \"title\", \"default-checked\", \"props\", \"onCheckedChange\"])\n  ]);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/transfer/src/index.vue\";\n\nscript$1.install = (app) => {\n  app.component(script$1.name, script$1);\n};\nconst _Transfer = script$1;\n\nexport default _Transfer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}