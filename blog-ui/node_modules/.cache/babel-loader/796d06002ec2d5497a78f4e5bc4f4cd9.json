{"ast":null,"code":"import { defineComponent, ref, watch, onUnmounted, provide, openBlock, createBlock, renderSlot } from 'vue';\nimport mitt from 'mitt';\nimport { UPDATE_MODEL_EVENT, CHANGE_EVENT } from '../utils/constants';\nvar script = defineComponent({\n  name: \"ElCollapse\",\n  props: {\n    accordion: Boolean,\n    modelValue: {\n      type: [Array, String, Number],\n      default: () => []\n    }\n  },\n  emits: [UPDATE_MODEL_EVENT, CHANGE_EVENT],\n\n  setup(props, {\n    emit\n  }) {\n    const activeNames = ref([].concat(props.modelValue));\n    const collapseMitt = mitt();\n\n    const setActiveNames = _activeNames => {\n      activeNames.value = [].concat(_activeNames);\n      const value = props.accordion ? activeNames.value[0] : activeNames.value;\n      emit(UPDATE_MODEL_EVENT, value);\n      emit(CHANGE_EVENT, value);\n    };\n\n    const handleItemClick = name => {\n      if (props.accordion) {\n        setActiveNames((activeNames.value[0] || activeNames.value[0] === 0) && activeNames.value[0] === name ? \"\" : name);\n      } else {\n        const _activeNames = activeNames.value.slice(0);\n\n        const index = _activeNames.indexOf(name);\n\n        if (index > -1) {\n          _activeNames.splice(index, 1);\n        } else {\n          _activeNames.push(name);\n        }\n\n        setActiveNames(_activeNames);\n      }\n    };\n\n    watch(() => props.modelValue, () => {\n      activeNames.value = [].concat(props.modelValue);\n    });\n    collapseMitt.on(\"item-click\", handleItemClick);\n    onUnmounted(() => {\n      collapseMitt.all.clear();\n    });\n    provide(\"collapse\", {\n      activeNames,\n      collapseMitt\n    });\n    return {\n      activeNames,\n      setActiveNames,\n      handleItemClick\n    };\n  }\n\n});\nconst _hoisted_1 = {\n  class: \"el-collapse\",\n  role: \"tablist\",\n  \"aria-multiselectable\": \"true\"\n};\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(\"div\", _hoisted_1, [renderSlot(_ctx.$slots, \"default\")]);\n}\n\nscript.render = render;\nscript.__file = \"packages/collapse/src/collapse.vue\";\n\nscript.install = app => {\n  app.component(script.name, script);\n};\n\nconst _Collapse = script;\nexport default _Collapse;","map":{"version":3,"names":["defineComponent","ref","watch","onUnmounted","provide","openBlock","createBlock","renderSlot","mitt","UPDATE_MODEL_EVENT","CHANGE_EVENT","script","name","props","accordion","Boolean","modelValue","type","Array","String","Number","default","emits","setup","emit","activeNames","concat","collapseMitt","setActiveNames","_activeNames","value","handleItemClick","slice","index","indexOf","splice","push","on","all","clear","_hoisted_1","class","role","render","_ctx","_cache","$props","$setup","$data","$options","$slots","__file","install","app","component","_Collapse"],"sources":["D:/project/my_blog/blog-ui/node_modules/element-plus/es/el-collapse/index.js"],"sourcesContent":["import { defineComponent, ref, watch, onUnmounted, provide, openBlock, createBlock, renderSlot } from 'vue';\nimport mitt from 'mitt';\nimport { UPDATE_MODEL_EVENT, CHANGE_EVENT } from '../utils/constants';\n\nvar script = defineComponent({\n  name: \"ElCollapse\",\n  props: {\n    accordion: Boolean,\n    modelValue: {\n      type: [Array, String, Number],\n      default: () => []\n    }\n  },\n  emits: [UPDATE_MODEL_EVENT, CHANGE_EVENT],\n  setup(props, { emit }) {\n    const activeNames = ref([].concat(props.modelValue));\n    const collapseMitt = mitt();\n    const setActiveNames = (_activeNames) => {\n      activeNames.value = [].concat(_activeNames);\n      const value = props.accordion ? activeNames.value[0] : activeNames.value;\n      emit(UPDATE_MODEL_EVENT, value);\n      emit(CHANGE_EVENT, value);\n    };\n    const handleItemClick = (name) => {\n      if (props.accordion) {\n        setActiveNames((activeNames.value[0] || activeNames.value[0] === 0) && activeNames.value[0] === name ? \"\" : name);\n      } else {\n        const _activeNames = activeNames.value.slice(0);\n        const index = _activeNames.indexOf(name);\n        if (index > -1) {\n          _activeNames.splice(index, 1);\n        } else {\n          _activeNames.push(name);\n        }\n        setActiveNames(_activeNames);\n      }\n    };\n    watch(() => props.modelValue, () => {\n      activeNames.value = [].concat(props.modelValue);\n    });\n    collapseMitt.on(\"item-click\", handleItemClick);\n    onUnmounted(() => {\n      collapseMitt.all.clear();\n    });\n    provide(\"collapse\", {\n      activeNames,\n      collapseMitt\n    });\n    return {\n      activeNames,\n      setActiveNames,\n      handleItemClick\n    };\n  }\n});\n\nconst _hoisted_1 = {\n  class: \"el-collapse\",\n  role: \"tablist\",\n  \"aria-multiselectable\": \"true\"\n};\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(\"div\", _hoisted_1, [\n    renderSlot(_ctx.$slots, \"default\")\n  ]);\n}\n\nscript.render = render;\nscript.__file = \"packages/collapse/src/collapse.vue\";\n\nscript.install = (app) => {\n  app.component(script.name, script);\n};\nconst _Collapse = script;\n\nexport default _Collapse;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}