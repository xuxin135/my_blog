{"ast":null,"code":"import { defineComponent, ref, computed, onMounted, onBeforeUnmount, openBlock, createBlock, Transition, withCtx, withModifiers, renderSlot, createCommentVNode, createVNode } from 'vue';\nimport throttle from 'lodash/throttle';\nimport { on, off } from '../utils/dom';\nimport { easeInOutCubic } from '../utils/animation';\nimport throwError from '../utils/error';\nvar script = defineComponent({\n  name: \"ElBacktop\",\n  props: {\n    visibilityHeight: {\n      type: Number,\n      default: 200\n    },\n    target: {\n      type: String,\n      default: \"\"\n    },\n    right: {\n      type: Number,\n      default: 40\n    },\n    bottom: {\n      type: Number,\n      default: 40\n    }\n  },\n  emits: [\"click\"],\n\n  setup(props, ctx) {\n    const el = ref(null);\n    const container = ref(null);\n    const visible = ref(false);\n    const styleBottom = computed(() => `${props.bottom}px`);\n    const styleRight = computed(() => `${props.right}px`);\n    const scope = \"ElBackTop\";\n\n    const scrollToTop = () => {\n      const beginTime = Date.now();\n      const beginValue = el.value.scrollTop;\n\n      const rAF = window.requestAnimationFrame || (func => setTimeout(func, 16));\n\n      const frameFunc = () => {\n        const progress = (Date.now() - beginTime) / 500;\n\n        if (progress < 1) {\n          el.value.scrollTop = beginValue * (1 - easeInOutCubic(progress));\n          rAF(frameFunc);\n        } else {\n          el.value.scrollTop = 0;\n        }\n      };\n\n      rAF(frameFunc);\n    };\n\n    const onScroll = () => {\n      visible.value = el.value.scrollTop >= props.visibilityHeight;\n    };\n\n    const handleClick = event => {\n      scrollToTop();\n      ctx.emit(\"click\", event);\n    };\n\n    const throttledScrollHandler = throttle(onScroll, 300);\n    onMounted(() => {\n      container.value = document;\n      el.value = document.documentElement;\n\n      if (props.target) {\n        el.value = document.querySelector(props.target);\n\n        if (!el.value) {\n          throwError(scope, `target is not existed: ${props.target}`);\n        }\n\n        container.value = el.value;\n      }\n\n      on(container.value, \"scroll\", throttledScrollHandler);\n    });\n    onBeforeUnmount(() => {\n      off(container.value, \"scroll\", throttledScrollHandler);\n    });\n    return {\n      el,\n      container,\n      visible,\n      styleBottom,\n      styleRight,\n      handleClick\n    };\n  }\n\n});\n\nconst _hoisted_1 = /* @__PURE__ */createVNode(\"i\", {\n  class: \"el-icon-caret-top\"\n}, null, -1);\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, {\n    name: \"el-fade-in\"\n  }, {\n    default: withCtx(() => [_ctx.visible ? (openBlock(), createBlock(\"div\", {\n      key: 0,\n      style: {\n        \"right\": _ctx.styleRight,\n        \"bottom\": _ctx.styleBottom\n      },\n      class: \"el-backtop\",\n      onClick: _cache[1] || (_cache[1] = withModifiers((...args) => _ctx.handleClick && _ctx.handleClick(...args), [\"stop\"]))\n    }, [renderSlot(_ctx.$slots, \"default\", {}, () => [_hoisted_1])], 4)) : createCommentVNode(\"v-if\", true)]),\n    _: 3\n  });\n}\n\nscript.render = render;\nscript.__file = \"packages/backtop/src/index.vue\";\n\nscript.install = app => {\n  app.component(script.name, script);\n};\n\nconst _Backtop = script;\nexport default _Backtop;","map":{"version":3,"names":["defineComponent","ref","computed","onMounted","onBeforeUnmount","openBlock","createBlock","Transition","withCtx","withModifiers","renderSlot","createCommentVNode","createVNode","throttle","on","off","easeInOutCubic","throwError","script","name","props","visibilityHeight","type","Number","default","target","String","right","bottom","emits","setup","ctx","el","container","visible","styleBottom","styleRight","scope","scrollToTop","beginTime","Date","now","beginValue","value","scrollTop","rAF","window","requestAnimationFrame","func","setTimeout","frameFunc","progress","onScroll","handleClick","event","emit","throttledScrollHandler","document","documentElement","querySelector","_hoisted_1","class","render","_ctx","_cache","$props","$setup","$data","$options","key","style","onClick","args","$slots","_","__file","install","app","component","_Backtop"],"sources":["D:/project/my_blog/blog-ui/node_modules/element-plus/es/el-backtop/index.js"],"sourcesContent":["import { defineComponent, ref, computed, onMounted, onBeforeUnmount, openBlock, createBlock, Transition, withCtx, withModifiers, renderSlot, createCommentVNode, createVNode } from 'vue';\nimport throttle from 'lodash/throttle';\nimport { on, off } from '../utils/dom';\nimport { easeInOutCubic } from '../utils/animation';\nimport throwError from '../utils/error';\n\nvar script = defineComponent({\n  name: \"ElBacktop\",\n  props: {\n    visibilityHeight: {\n      type: Number,\n      default: 200\n    },\n    target: {\n      type: String,\n      default: \"\"\n    },\n    right: {\n      type: Number,\n      default: 40\n    },\n    bottom: {\n      type: Number,\n      default: 40\n    }\n  },\n  emits: [\"click\"],\n  setup(props, ctx) {\n    const el = ref(null);\n    const container = ref(null);\n    const visible = ref(false);\n    const styleBottom = computed(() => `${props.bottom}px`);\n    const styleRight = computed(() => `${props.right}px`);\n    const scope = \"ElBackTop\";\n    const scrollToTop = () => {\n      const beginTime = Date.now();\n      const beginValue = el.value.scrollTop;\n      const rAF = window.requestAnimationFrame || ((func) => setTimeout(func, 16));\n      const frameFunc = () => {\n        const progress = (Date.now() - beginTime) / 500;\n        if (progress < 1) {\n          el.value.scrollTop = beginValue * (1 - easeInOutCubic(progress));\n          rAF(frameFunc);\n        } else {\n          el.value.scrollTop = 0;\n        }\n      };\n      rAF(frameFunc);\n    };\n    const onScroll = () => {\n      visible.value = el.value.scrollTop >= props.visibilityHeight;\n    };\n    const handleClick = (event) => {\n      scrollToTop();\n      ctx.emit(\"click\", event);\n    };\n    const throttledScrollHandler = throttle(onScroll, 300);\n    onMounted(() => {\n      container.value = document;\n      el.value = document.documentElement;\n      if (props.target) {\n        el.value = document.querySelector(props.target);\n        if (!el.value) {\n          throwError(scope, `target is not existed: ${props.target}`);\n        }\n        container.value = el.value;\n      }\n      on(container.value, \"scroll\", throttledScrollHandler);\n    });\n    onBeforeUnmount(() => {\n      off(container.value, \"scroll\", throttledScrollHandler);\n    });\n    return {\n      el,\n      container,\n      visible,\n      styleBottom,\n      styleRight,\n      handleClick\n    };\n  }\n});\n\nconst _hoisted_1 = /* @__PURE__ */ createVNode(\"i\", { class: \"el-icon-caret-top\" }, null, -1);\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, { name: \"el-fade-in\" }, {\n    default: withCtx(() => [\n      _ctx.visible ? (openBlock(), createBlock(\"div\", {\n        key: 0,\n        style: {\n          \"right\": _ctx.styleRight,\n          \"bottom\": _ctx.styleBottom\n        },\n        class: \"el-backtop\",\n        onClick: _cache[1] || (_cache[1] = withModifiers((...args) => _ctx.handleClick && _ctx.handleClick(...args), [\"stop\"]))\n      }, [\n        renderSlot(_ctx.$slots, \"default\", {}, () => [\n          _hoisted_1\n        ])\n      ], 4)) : createCommentVNode(\"v-if\", true)\n    ]),\n    _: 3\n  });\n}\n\nscript.render = render;\nscript.__file = \"packages/backtop/src/index.vue\";\n\nscript.install = (app) => {\n  app.component(script.name, script);\n};\nconst _Backtop = script;\n\nexport default _Backtop;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}